# üèóÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥—É

## üîÑ –ó–∞–≥–∞–ª—å–Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—è

**–û–Ω–±–æ—Ä–¥–∏–Ω–≥** - —Ü–µ –ø–æ–∫—Ä–æ–∫–æ–≤–∏–π –ø—Ä–æ—Ü–µ—Å, –¥–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –∑–∞–ø–æ–≤–Ω—é—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Å–µ–±–µ. –ö–æ–∂–µ–Ω –∫—Ä–æ–∫ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –æ–∫—Ä–µ–º–æ, —â–æ–± –º–æ–∂–Ω–∞ –±—É–ª–æ:

- **–ó–±–µ—Ä–µ–≥—Ç–∏ –ø—Ä–æ–≥—Ä–µ—Å** - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –≤–∏–π—Ç–∏ —ñ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –ø—ñ–∑–Ω—ñ—à–µ
- **–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –æ–∫—Ä–µ–º—ñ –∫—Ä–æ–∫–∏** - –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏—Å—è –¥–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö —Ä–æ–∑–¥—ñ–ª—ñ–≤
- **–í—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –ø—Ä–æ–≥—Ä–µ—Å** - –±–∞—á–∏—Ç–∏ —Å–∫—ñ–ª—å–∫–∏ –∑–∞–ª–∏—à–∏–ª–æ—Å—è –ø—Ä–æ–π—Ç–∏

---

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### **onboarding_progress** —Ç–∞–±–ª–∏—Ü—è:

```sql
{
  "user_id": "uuid",           // ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
  "personal": "json",          // –î–∞–Ω—ñ –∑ –∫—Ä–æ–∫—É "–û—Å–æ–±–∏—Å—Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è"
  "health_snapshot": "json",   // –î–∞–Ω—ñ –∑ –∫—Ä–æ–∫—É "–ó–¥–æ—Ä–æ–≤'—è"
  "lifestyle": "json",         // –î–∞–Ω—ñ –∑ –∫—Ä–æ–∫—É "–°–ø–æ—Å—ñ–± –∂–∏—Ç—Ç—è"
  "health_goals": "json",      // –î–∞–Ω—ñ –∑ –∫—Ä–æ–∫—É "–¶—ñ–ª—ñ –∑–¥–æ—Ä–æ–≤'—è"
  "privacy": "json",           // –î–∞–Ω—ñ –∑ –∫—Ä–æ–∫—É "–ü—Ä–∏–≤–∞—Ç–Ω—ñ—Å—Ç—å"
  "welcome": "json",           // –î–∞–Ω—ñ –∑ –∫—Ä–æ–∫—É "–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ"
  
  // –°—Ç–∞—Ç—É—Å–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ –∫—Ä–æ–∫—É
  "step_personal_completed": "bool",
  "step_health_snapshot_completed": "bool",
  "step_lifestyle_completed": "bool", 
  "step_health_goals_completed": "bool",
  "step_privacy_completed": "bool",
  
}
```

---

## üéØ –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏ API

### **–Ñ–¥–∏–Ω–∏–π endpoint:** `POST /onboarding/{step}`

**–ß–æ–º—É –æ–¥–∏–Ω endpoint?**
- –£–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –≤—Å—ñ—Ö –∫—Ä–æ–∫—ñ–≤
- –õ–µ–≥—à–µ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –∫—Ä–æ–∫–∏
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å

---

## üìù –ü–æ–∫—Ä–æ–∫–æ–≤–∞ –ª–æ–≥—ñ–∫–∞

### **1. –í—Ö—ñ–¥–Ω–∞ —Ç–æ—á–∫–∞: Welcome**
```javascript
// –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ç—ñ–ª—å–∫–∏ –ø–æ—á–∏–Ω–∞—î
–õ–æ–≥—ñ–∫–∞: –°—Ç–≤–æ—Ä—é—î–º–æ –∑–∞–ø–∏—Å –æ–Ω–±–æ—Ä–¥–∏–Ω–≥—É
–î–∞–Ω—ñ: { started_at: "2025-10-23T15:19:58.221Z" }
–°—Ç–∞—Ç—É—Å: onboarding_status = 'in_progress'
```

### **2. –û—Å–æ–±–∏—Å—Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è: Personal**
```javascript
// –ó–±–∏—Ä–∞—î–º–æ –±–∞–∑–æ–≤—ñ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
–õ–æ–≥—ñ–∫–∞: –û–Ω–æ–≤–ª—é—î–º–æ JSON –ø–æ–ª–µ `personal` + —Å—Ç–∞–≤–∏–º–æ step_personal_completed = true
–î–∞–Ω—ñ: –Ü–º'—è, –ø—Ä—ñ–∑–≤–∏—â–µ, –¥–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è, —Å—Ç–∞—Ç—å, –∑—Ä—ñ—Å—Ç, –≤–∞–≥–∞, etc.
```

### **3. –ó–¥–æ—Ä–æ–≤'—è: Health Snapshot**
```javascript
// –ú–µ–¥–∏—á–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
–õ–æ–≥—ñ–∫–∞: –û–Ω–æ–≤–ª—é—î–º–æ JSON –ø–æ–ª–µ `health_snapshot` 
–î–∞–Ω—ñ: –•–≤–æ—Ä–æ–±–∏, –ª—ñ–∫–∏, –∞–ª–µ—Ä–≥—ñ—ó
```

### **4. –°–ø–æ—Å—ñ–± –∂–∏—Ç—Ç—è: Lifestyle**
```javascript
// –ó–≤–∏—á–∫–∏ —Ç–∞ –ø–µ—Ä–µ–≤–∞–≥–∏
–õ–æ–≥—ñ–∫–∞: –û–Ω–æ–≤–ª—é—î–º–æ JSON –ø–æ–ª–µ `lifestyle`
–î–∞–Ω—ñ: [ "High stress", "Sedentary lifestyle", ... ]
```

### **5. –¶—ñ–ª—ñ: Health Goals**
```javascript
// –©–æ —Ö–æ—á–µ –¥–æ—Å—è–≥—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á
–õ–æ–≥—ñ–∫–∞: –û–Ω–æ–≤–ª—é—î–º–æ JSON –ø–æ–ª–µ `health_goals`
–î–∞–Ω—ñ: { goals: ["Lose weight", "Improve sleep"], target_date: ... }
```

### **6. –ü—Ä–∏–≤–∞—Ç–Ω—ñ—Å—Ç—å: Privacy**
```javascript
// –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ
–õ–æ–≥—ñ–∫–∞: –û–Ω–æ–≤–ª—é—î–º–æ JSON –ø–æ–ª–µ `privacy`
–î–∞–Ω—ñ: { data_visibility: "private", email_nudges: true }
```

### **7. –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è: Review**
```javascript
// –§—ñ–Ω–∞–ª—å–Ω–∏–π –∫—Ä–æ–∫ - –≤—Å–µ –ø—Ä–æ–π–¥–µ–Ω–æ
–õ–æ–≥—ñ–∫–∞: –°—Ç–∞–≤–∏–º–æ onboarding_status = 'completed'
–î–∞–Ω—ñ: { completed_at: "2025-10-23T15:19:58.221Z" }
```

---

## üìä –°–∏—Å—Ç–µ–º–∞ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É

### **–Ø–∫ —Ä–∞—Ö—É—î—Ç—å—Å—è –ø—Ä–æ–≥—Ä–µ—Å:**
```javascript
const totalSteps = 7;
const completedSteps = ["welcome", "personal", "health_snapshot"]; // –ù–∞–ø—Ä–∏–∫–ª–∞–¥
const percentage = (completedSteps.length / totalSteps) * 100; // 43%
```

### **–£ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ API:**
```json
{
  "progress": {
    "completed_steps": ["welcome", "personal", "health_snapshot"],
    "total_completed": 3,
    "total_steps": 7,
    "percentage": 43
  }
}
```

---

## üõ°Ô∏è –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ —Ç–∞ –∫—Ä–∞–π–Ω—ñ—Ö –≤–∏–ø–∞–¥–∫—ñ–≤

### **–°—Ü–µ–Ω–∞—Ä—ñ–π 1: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–ø–µ—Ä—à–µ**
```javascript
if (onboarding_progress == null) {
  // –°—Ç–≤–æ—Ä—é—î–º–æ –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å –æ–Ω–±–æ—Ä–¥–∏–Ω–≥—É
  create_onboarding_record();
}
```

### **–°—Ü–µ–Ω–∞—Ä—ñ–π 2: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è**
```javascript
// –ó–Ω–∞—Ö–æ–¥–∏–º–æ —ñ—Å–Ω—É—é—á–∏–π –∑–∞–ø–∏—Å
const progress = get_onboarding_progress(user_id);
// –ü–æ–∫–∞–∑—É—î–º–æ –æ—Å—Ç–∞–Ω–Ω—ñ–π –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–∏–π –∫—Ä–æ–∫
return { current_step: progress.current_step };
```

### **–°—Ü–µ–Ω–∞—Ä—ñ–π 3: –ü—Ä–æ–ø—É—Å–∫ –∫—Ä–æ–∫—É**
```javascript
// –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è
// –ê–ª–µ –∫—Ä–æ–∫ –≤–≤–∞–∂–∞—î—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏–º —è–∫—â–æ –∑–∞–ø–æ–≤–Ω–µ–Ω–æ –º—ñ–Ω—ñ–º—É–º –¥–∞–Ω–∏—Ö
```

---

## üîÑ –í–∑–∞—î–º–æ–¥—ñ—è –∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º

### **Flow:**
```
Frontend ‚Üí POST /onboarding/personal { data } ‚Üí Backend
Backend ‚Üí { success: true, progress: ... } ‚Üí Frontend
Frontend ‚Üí –û–Ω–æ–≤–ª—é—î –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä ‚Üí –ü–æ–∫–∞–∑—É—î –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫
```

### **–ü–µ—Ä–µ–≤–∞–≥–∏ —Ç–∞–∫–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏:**

1. **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –∫—Ä–æ–∫
2. **–ì–Ω—É—á–∫—ñ—Å—Ç—å** - –º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –∫—Ä–æ–∫—ñ–≤
3. **–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å** - –∫–æ–∂–µ–Ω –∫—Ä–æ–∫ –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–π
4. **–Æ–∑–µ—Ä-—Ñ—Ä–µ–Ω–¥–ª—ñ** - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –≤—Ç—Ä–∞—á–∞—î –ø—Ä–æ–≥—Ä–µ—Å

---

## üéØ –ö–ª—é—á–æ–≤—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏

### **1. –Ü–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å**
- –ë–∞–≥–∞—Ç–æ—Ä–∞–∑–æ–≤–∏–π –≤–∏–∫–ª–∏–∫ –æ–¥–Ω–æ–≥–æ –∫—Ä–æ–∫—É –Ω–µ –ª–∞–º–∞—î –¥–∞–Ω—ñ
- –î–∞–Ω—ñ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—É—é—Ç—å—Å—è, –∞ –Ω–µ –¥–æ–¥–∞—é—Ç—å—Å—è

### **2. –ü—Ä–æ–≥—Ä–µ—Å –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è**
- –ù–∞–≤—ñ—Ç—å —è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∏–π–¥–µ - –¥–∞–Ω—ñ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ
- –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –±—É–¥—å-—è–∫–æ–≥–æ –∫—Ä–æ–∫—É

### **3. –£–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å**
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–≤–∂–¥–∏ –∑–Ω–∞—î —â–æ –æ—á—ñ–∫—É–≤–∞—Ç–∏
- –õ–µ–≥–∫–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä

### **4. –ì–Ω—É—á–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è**
- –û–±–æ–≤'—è–∑–∫–æ–≤—ñ —Ç–∞ –Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è
- –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –≤–∏–º–æ–≥–∏ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∫—Ä–æ–∫—É

–¶—è –ª–æ–≥—ñ–∫–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î –ø–ª–∞–≤–Ω–∏–π, –∑—Ä—É—á–Ω–∏–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É —Ç–∞ –≥–Ω—É—á–∫–∏–º —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è–º –¥–∞–Ω–∏–º–∏! üöÄ