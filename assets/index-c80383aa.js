function dm(e,t){for(var l=0;l<t.length;l++){const a=t[l];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(a,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();function Jr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yd={exports:{}},Hs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=Symbol.for("react.transitional.element"),hm=Symbol.for("react.fragment");function Vd(e,t,l){var a=null;if(l!==void 0&&(a=""+l),t.key!==void 0&&(a=""+t.key),"key"in t){l={};for(var i in t)i!=="key"&&(l[i]=t[i])}else l=t;return t=l.ref,{$$typeof:fm,type:e,key:a,ref:t!==void 0?t:null,props:l}}Hs.Fragment=hm;Hs.jsx=Vd;Hs.jsxs=Vd;Yd.exports=Hs;var n=Yd.exports,Xd={exports:{}},ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pr=Symbol.for("react.transitional.element"),gm=Symbol.for("react.portal"),mm=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),ym=Symbol.for("react.profiler"),vm=Symbol.for("react.consumer"),xm=Symbol.for("react.context"),bm=Symbol.for("react.forward_ref"),jm=Symbol.for("react.suspense"),_m=Symbol.for("react.memo"),Qd=Symbol.for("react.lazy"),su=Symbol.iterator;function Sm(e){return e===null||typeof e!="object"?null:(e=su&&e[su]||e["@@iterator"],typeof e=="function"?e:null)}var $d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zd=Object.assign,Kd={};function sn(e,t,l){this.props=e,this.context=t,this.refs=Kd,this.updater=l||$d}sn.prototype.isReactComponent={};sn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jd(){}Jd.prototype=sn.prototype;function Fr(e,t,l){this.props=e,this.context=t,this.refs=Kd,this.updater=l||$d}var Ir=Fr.prototype=new Jd;Ir.constructor=Fr;Zd(Ir,sn.prototype);Ir.isPureReactComponent=!0;var ou=Array.isArray,we={H:null,A:null,T:null,S:null,V:null},Pd=Object.prototype.hasOwnProperty;function Wr(e,t,l,a,i,s){return l=s.ref,{$$typeof:Pr,type:e,key:t,ref:l!==void 0?l:null,props:s}}function wm(e,t){return Wr(e.type,t,void 0,void 0,void 0,e.props)}function ec(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pr}function Nm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(l){return t[l]})}var ru=/\/+/g;function ro(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nm(""+e.key):t.toString(36)}function cu(){}function Cm(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(cu,cu):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ja(e,t,l,a,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pr:case gm:o=!0;break;case Qd:return o=e._init,ja(o(e._payload),t,l,a,i)}}if(o)return i=i(e),o=a===""?"."+ro(e,0):a,ou(i)?(l="",o!=null&&(l=o.replace(ru,"$&/")+"/"),ja(i,t,l,"",function(u){return u})):i!=null&&(ec(i)&&(i=wm(i,l+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(ru,"$&/")+"/")+o)),t.push(i)),1;o=0;var r=a===""?".":a+":";if(ou(e))for(var c=0;c<e.length;c++)a=e[c],s=r+ro(a,c),o+=ja(a,t,l,s,i);else if(c=Sm(e),typeof c=="function")for(e=c.call(e),c=0;!(a=e.next()).done;)a=a.value,s=r+ro(a,c++),o+=ja(a,t,l,s,i);else if(s==="object"){if(typeof e.then=="function")return ja(Cm(e),t,l,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Ni(e,t,l){if(e==null)return e;var a=[],i=0;return ja(e,a,"","",function(s){return t.call(l,s,i++)}),a}function Em(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(l){(e._status===0||e._status===-1)&&(e._status=1,e._result=l)},function(l){(e._status===0||e._status===-1)&&(e._status=2,e._result=l)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var uu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Tm(){}ae.Children={map:Ni,forEach:function(e,t,l){Ni(e,function(){t.apply(this,arguments)},l)},count:function(e){var t=0;return Ni(e,function(){t++}),t},toArray:function(e){return Ni(e,function(t){return t})||[]},only:function(e){if(!ec(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=sn;ae.Fragment=mm;ae.Profiler=ym;ae.PureComponent=Fr;ae.StrictMode=pm;ae.Suspense=jm;ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=we;ae.__COMPILER_RUNTIME={__proto__:null,c:function(e){return we.H.useMemoCache(e)}};ae.cache=function(e){return function(){return e.apply(null,arguments)}};ae.cloneElement=function(e,t,l){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=Zd({},e.props),i=e.key,s=void 0;if(t!=null)for(o in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(i=""+t.key),t)!Pd.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(a[o]=t[o]);var o=arguments.length-2;if(o===1)a.children=l;else if(1<o){for(var r=Array(o),c=0;c<o;c++)r[c]=arguments[c+2];a.children=r}return Wr(e.type,i,void 0,void 0,s,a)};ae.createContext=function(e){return e={$$typeof:xm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:vm,_context:e},e};ae.createElement=function(e,t,l){var a,i={},s=null;if(t!=null)for(a in t.key!==void 0&&(s=""+t.key),t)Pd.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=t[a]);var o=arguments.length-2;if(o===1)i.children=l;else if(1<o){for(var r=Array(o),c=0;c<o;c++)r[c]=arguments[c+2];i.children=r}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)i[a]===void 0&&(i[a]=o[a]);return Wr(e,s,void 0,void 0,null,i)};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:bm,render:e}};ae.isValidElement=ec;ae.lazy=function(e){return{$$typeof:Qd,_payload:{_status:-1,_result:e},_init:Em}};ae.memo=function(e,t){return{$$typeof:_m,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=we.T,l={};we.T=l;try{var a=e(),i=we.S;i!==null&&i(l,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(Tm,uu)}catch(s){uu(s)}finally{we.T=t}};ae.unstable_useCacheRefresh=function(){return we.H.useCacheRefresh()};ae.use=function(e){return we.H.use(e)};ae.useActionState=function(e,t,l){return we.H.useActionState(e,t,l)};ae.useCallback=function(e,t){return we.H.useCallback(e,t)};ae.useContext=function(e){return we.H.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e,t){return we.H.useDeferredValue(e,t)};ae.useEffect=function(e,t,l){var a=we.H;if(typeof l=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return a.useEffect(e,t)};ae.useId=function(){return we.H.useId()};ae.useImperativeHandle=function(e,t,l){return we.H.useImperativeHandle(e,t,l)};ae.useInsertionEffect=function(e,t){return we.H.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return we.H.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return we.H.useMemo(e,t)};ae.useOptimistic=function(e,t){return we.H.useOptimistic(e,t)};ae.useReducer=function(e,t,l){return we.H.useReducer(e,t,l)};ae.useRef=function(e){return we.H.useRef(e)};ae.useState=function(e){return we.H.useState(e)};ae.useSyncExternalStore=function(e,t,l){return we.H.useSyncExternalStore(e,t,l)};ae.useTransition=function(){return we.H.useTransition()};ae.version="19.1.1";Xd.exports=ae;var S=Xd.exports;const Y=Jr(S),Am=dm({__proto__:null,default:Y},[S]);var Fd={exports:{}},ks={},Id={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,T){var A=L.length;L.push(T);e:for(;0<A;){var Q=A-1>>>1,P=L[Q];if(0<i(P,T))L[Q]=T,L[A]=P,A=Q;else break e}}function l(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var T=L[0],A=L.pop();if(A!==T){L[0]=A;e:for(var Q=0,P=L.length,Ie=P>>>1;Q<Ie;){var Rt=2*(Q+1)-1,Kl=L[Rt],ze=Rt+1,Gt=L[ze];if(0>i(Kl,A))ze<P&&0>i(Gt,Kl)?(L[Q]=Gt,L[ze]=A,Q=ze):(L[Q]=Kl,L[Rt]=A,Q=Rt);else if(ze<P&&0>i(Gt,A))L[Q]=Gt,L[ze]=A,Q=ze;else break e}}return T}function i(L,T){var A=L.sortIndex-T.sortIndex;return A!==0?A:L.id-T.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,r=o.now();e.unstable_now=function(){return o.now()-r}}var c=[],u=[],p=1,d=null,h=3,v=!1,b=!1,x=!1,w=!1,f=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function j(L){for(var T=l(u);T!==null;){if(T.callback===null)a(u);else if(T.startTime<=L)a(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=l(u)}}function M(L){if(x=!1,j(L),!b)if(l(c)!==null)b=!0,O||(O=!0,B());else{var T=l(u);T!==null&&De(M,T.startTime-L)}}var O=!1,C=-1,N=5,k=-1;function H(){return w?!0:!(e.unstable_now()-k<N)}function $(){if(w=!1,O){var L=e.unstable_now();k=L;var T=!0;try{e:{b=!1,x&&(x=!1,g(C),C=-1),v=!0;var A=h;try{t:{for(j(L),d=l(c);d!==null&&!(d.expirationTime>L&&H());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,h=d.priorityLevel;var P=Q(d.expirationTime<=L);if(L=e.unstable_now(),typeof P=="function"){d.callback=P,j(L),T=!0;break t}d===l(c)&&a(c),j(L)}else a(c);d=l(c)}if(d!==null)T=!0;else{var Ie=l(u);Ie!==null&&De(M,Ie.startTime-L),T=!1}}break e}finally{d=null,h=A,v=!1}T=void 0}}finally{T?B():O=!1}}}var B;if(typeof y=="function")B=function(){y($)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,_e=be.port2;be.port1.onmessage=$,B=function(){_e.postMessage(null)}}else B=function(){f($,0)};function De(L,T){C=f(function(){L(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var A=h;h=T;try{return L()}finally{h=A}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(L,T){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var A=h;h=L;try{return T()}finally{h=A}},e.unstable_scheduleCallback=function(L,T,A){var Q=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?Q+A:Q):A=Q,L){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=A+P,L={id:p++,callback:T,priorityLevel:L,startTime:A,expirationTime:P,sortIndex:-1},A>Q?(L.sortIndex=A,t(u,L),l(c)===null&&L===l(u)&&(x?(g(C),C=-1):x=!0,De(M,A-Q))):(L.sortIndex=P,t(c,L),b||v||(b=!0,O||(O=!0,B()))),L},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(L){var T=h;return function(){var A=h;h=T;try{return L.apply(this,arguments)}finally{h=A}}}})(Wd);Id.exports=Wd;var Om=Id.exports,ef={exports:{}},tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=S;function tf(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function yl(){}var et={d:{f:yl,r:function(){throw Error(tf(522))},D:yl,C:yl,L:yl,m:yl,X:yl,S:yl,M:yl},p:0,findDOMNode:null},zm=Symbol.for("react.portal");function Rm(e,t,l){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zm,key:a==null?null:""+a,children:e,containerInfo:t,implementation:l}}var Tn=Dm.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Us(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et;tt.createPortal=function(e,t){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(tf(299));return Rm(e,t,null,l)};tt.flushSync=function(e){var t=Tn.T,l=et.p;try{if(Tn.T=null,et.p=2,e)return e()}finally{Tn.T=t,et.p=l,et.d.f()}};tt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,et.d.C(e,t))};tt.prefetchDNS=function(e){typeof e=="string"&&et.d.D(e)};tt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var l=t.as,a=Us(l,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;l==="style"?et.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:s}):l==="script"&&et.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};tt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var l=Us(t.as,t.crossOrigin);et.d.M(e,{crossOrigin:l,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&et.d.M(e)};tt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var l=t.as,a=Us(l,t.crossOrigin);et.d.L(e,l,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};tt.preloadModule=function(e,t){if(typeof e=="string")if(t){var l=Us(t.as,t.crossOrigin);et.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:l,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else et.d.m(e)};tt.requestFormReset=function(e){et.d.r(e)};tt.unstable_batchedUpdates=function(e,t){return e(t)};tt.useFormState=function(e,t,l){return Tn.H.useFormState(e,t,l)};tt.useFormStatus=function(){return Tn.H.useHostTransitionStatus()};tt.version="19.1.1";function lf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lf)}catch(e){console.error(e)}}lf(),ef.exports=tt;var af=ef.exports;const Mm=Jr(af);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ge=Om,nf=S,Hm=af;function R(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function sf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oi(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function of(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function du(e){if(oi(e)!==e)throw Error(R(188))}function km(e){var t=e.alternate;if(!t){if(t=oi(e),t===null)throw Error(R(188));return t!==e?null:e}for(var l=e,a=t;;){var i=l.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){l=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===l)return du(i),e;if(s===a)return du(i),t;s=s.sibling}throw Error(R(188))}if(l.return!==a.return)l=i,a=s;else{for(var o=!1,r=i.child;r;){if(r===l){o=!0,l=i,a=s;break}if(r===a){o=!0,a=i,l=s;break}r=r.sibling}if(!o){for(r=s.child;r;){if(r===l){o=!0,l=s,a=i;break}if(r===a){o=!0,a=s,l=i;break}r=r.sibling}if(!o)throw Error(R(189))}}if(l.alternate!==a)throw Error(R(190))}if(l.tag!==3)throw Error(R(188));return l.stateNode.current===l?e:t}function rf(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=rf(e),t!==null)return t;e=e.sibling}return null}var je=Object.assign,Um=Symbol.for("react.element"),Ci=Symbol.for("react.transitional.element"),wn=Symbol.for("react.portal"),Ca=Symbol.for("react.fragment"),cf=Symbol.for("react.strict_mode"),Jo=Symbol.for("react.profiler"),Bm=Symbol.for("react.provider"),uf=Symbol.for("react.consumer"),al=Symbol.for("react.context"),tc=Symbol.for("react.forward_ref"),Po=Symbol.for("react.suspense"),Fo=Symbol.for("react.suspense_list"),lc=Symbol.for("react.memo"),jl=Symbol.for("react.lazy"),Io=Symbol.for("react.activity"),Lm=Symbol.for("react.memo_cache_sentinel"),fu=Symbol.iterator;function mn(e){return e===null||typeof e!="object"?null:(e=fu&&e[fu]||e["@@iterator"],typeof e=="function"?e:null)}var Gm=Symbol.for("react.client.reference");function Wo(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Gm?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ca:return"Fragment";case Jo:return"Profiler";case cf:return"StrictMode";case Po:return"Suspense";case Fo:return"SuspenseList";case Io:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case wn:return"Portal";case al:return(e.displayName||"Context")+".Provider";case uf:return(e._context.displayName||"Context")+".Consumer";case tc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lc:return t=e.displayName||null,t!==null?t:Wo(e.type)||"Memo";case jl:t=e._payload,e=e._init;try{return Wo(e(t))}catch{}}return null}var Nn=Array.isArray,F=nf.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=Hm.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,la={pending:!1,data:null,method:null,action:null},er=[],Ea=-1;function Jt(e){return{current:e}}function $e(e){0>Ea||(e.current=er[Ea],er[Ea]=null,Ea--)}function Ne(e,t){Ea++,er[Ea]=e.current,e.current=t}var $t=Jt(null),Vn=Jt(null),Rl=Jt(null),es=Jt(null);function ts(e,t){switch(Ne(Rl,t),Ne(Vn,e),Ne($t,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=yd(t),e=Eg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$e($t),Ne($t,e)}function $a(){$e($t),$e(Vn),$e(Rl)}function tr(e){e.memoizedState!==null&&Ne(es,e);var t=$t.current,l=Eg(t,e.type);t!==l&&(Ne(Vn,e),Ne($t,l))}function ls(e){Vn.current===e&&($e($t),$e(Vn)),es.current===e&&($e(es),Wn._currentValue=la)}var lr=Object.prototype.hasOwnProperty,ac=Ge.unstable_scheduleCallback,co=Ge.unstable_cancelCallback,qm=Ge.unstable_shouldYield,Ym=Ge.unstable_requestPaint,Zt=Ge.unstable_now,Vm=Ge.unstable_getCurrentPriorityLevel,df=Ge.unstable_ImmediatePriority,ff=Ge.unstable_UserBlockingPriority,as=Ge.unstable_NormalPriority,Xm=Ge.unstable_LowPriority,hf=Ge.unstable_IdlePriority,Qm=Ge.log,$m=Ge.unstable_setDisableYieldValue,ri=null,mt=null;function El(e){if(typeof Qm=="function"&&$m(e),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(ri,e)}catch{}}var pt=Math.clz32?Math.clz32:Jm,Zm=Math.log,Km=Math.LN2;function Jm(e){return e>>>=0,e===0?32:31-(Zm(e)/Km|0)|0}var Ei=256,Ti=4194304;function Wl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Bs(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var r=a&134217727;return r!==0?(a=r&~s,a!==0?i=Wl(a):(o&=r,o!==0?i=Wl(o):l||(l=r&~e,l!==0&&(i=Wl(l))))):(r=a&~s,r!==0?i=Wl(r):o!==0?i=Wl(o):l||(l=a&~e,l!==0&&(i=Wl(l)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,l=t&-t,s>=l||s===32&&(l&4194048)!==0)?t:i}function ci(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Pm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gf(){var e=Ei;return Ei<<=1,!(Ei&4194048)&&(Ei=256),e}function mf(){var e=Ti;return Ti<<=1,!(Ti&62914560)&&(Ti=4194304),e}function uo(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function ui(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fm(e,t,l,a,i,s){var o=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var r=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(l=o&~l;0<l;){var p=31-pt(l),d=1<<p;r[p]=0,c[p]=-1;var h=u[p];if(h!==null)for(u[p]=null,p=0;p<h.length;p++){var v=h[p];v!==null&&(v.lane&=-536870913)}l&=~d}a!==0&&pf(e,a,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(o&~t))}function pf(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-pt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&4194090}function yf(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-pt(l),i=1<<a;i&t|e[a]&t&&(e[a]|=t),l&=~i}}function nc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ic(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function vf(){var e=fe.p;return e!==0?e:(e=window.event,e===void 0?32:Ug(e.type))}function Im(e,t){var l=fe.p;try{return fe.p=e,t()}finally{fe.p=l}}var Ql=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ql,ot="__reactProps$"+Ql,on="__reactContainer$"+Ql,ar="__reactEvents$"+Ql,Wm="__reactListeners$"+Ql,ep="__reactHandles$"+Ql,hu="__reactResources$"+Ql,di="__reactMarker$"+Ql;function sc(e){delete e[Pe],delete e[ot],delete e[ar],delete e[Wm],delete e[ep]}function Ta(e){var t=e[Pe];if(t)return t;for(var l=e.parentNode;l;){if(t=l[on]||l[Pe]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=bd(e);e!==null;){if(l=e[Pe])return l;e=bd(e)}return t}e=l,l=e.parentNode}return null}function rn(e){if(e=e[Pe]||e[on]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Cn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(R(33))}function Ba(e){var t=e[hu];return t||(t=e[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[di]=!0}var xf=new Set,bf={};function ha(e,t){Za(e,t),Za(e+"Capture",t)}function Za(e,t){for(bf[e]=t,e=0;e<t.length;e++)xf.add(t[e])}var tp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gu={},mu={};function lp(e){return lr.call(mu,e)?!0:lr.call(gu,e)?!1:tp.test(e)?mu[e]=!0:(gu[e]=!0,!1)}function qi(e,t,l){if(lp(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Ai(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Wt(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}var fo,pu;function _a(e){if(fo===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);fo=t&&t[1]||"",pu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fo+e+pu}var ho=!1;function go(e,t){if(!e||ho)return"";ho=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(v){var h=v}Reflect.construct(e,[],d)}else{try{d.call()}catch(v){h=v}e.call(d.prototype)}}else{try{throw Error()}catch(v){h=v}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(v){if(v&&h&&typeof v.stack=="string")return[v.stack,h.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),o=s[0],r=s[1];if(o&&r){var c=o.split(`
`),u=r.split(`
`);for(i=a=0;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(a===c.length||i===u.length)for(a=c.length-1,i=u.length-1;1<=a&&0<=i&&c[a]!==u[i];)i--;for(;1<=a&&0<=i;a--,i--)if(c[a]!==u[i]){if(a!==1||i!==1)do if(a--,i--,0>i||c[a]!==u[i]){var p=`
`+c[a].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=a&&0<=i);break}}}finally{ho=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?_a(l):""}function ap(e){switch(e.tag){case 26:case 27:case 5:return _a(e.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 15:return go(e.type,!1);case 11:return go(e.type.render,!1);case 1:return go(e.type,!0);case 31:return _a("Activity");default:return""}}function yu(e){try{var t="";do t+=ap(e),e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function np(e){var t=jf(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var i=l.get,s=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){a=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ns(e){e._valueTracker||(e._valueTracker=np(e))}function _f(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=jf(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ip=/[\n"\\]/g;function Nt(e){return e.replace(ip,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function nr(e,t,l,a,i,s,o,r){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+jt(t)):e.value!==""+jt(t)&&(e.value=""+jt(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?ir(e,o,jt(t)):l!=null?ir(e,o,jt(l)):a!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+jt(r):e.removeAttribute("name")}function Sf(e,t,l,a,i,s,o,r){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||l!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;l=l!=null?""+jt(l):"",t=t!=null?""+jt(t):l,r||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=r?e.checked:!!a,e.defaultChecked=!!a,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o)}function ir(e,t,l){t==="number"&&is(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function La(e,t,l,a){if(e=e.options,t){t={};for(var i=0;i<l.length;i++)t["$"+l[i]]=!0;for(l=0;l<e.length;l++)i=t.hasOwnProperty("$"+e[l].value),e[l].selected!==i&&(e[l].selected=i),i&&a&&(e[l].defaultSelected=!0)}else{for(l=""+jt(l),t=null,i=0;i<e.length;i++){if(e[i].value===l){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function wf(e,t,l){if(t!=null&&(t=""+jt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+jt(l):""}function Nf(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(R(92));if(Nn(a)){if(1<a.length)throw Error(R(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=jt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a)}function Ka(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var sp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vu(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||sp.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Cf(e,t,l){if(t!=null&&typeof t!="object")throw Error(R(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&l[i]!==a&&vu(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&vu(e,s,t[s])}function oc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var op=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yi(e){return rp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var sr=null;function rc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Aa=null,Ga=null;function xu(e){var t=rn(e);if(t&&(e=t.stateNode)){var l=e[ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(nr(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Nt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var i=a[ot]||null;if(!i)throw Error(R(90));nr(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&_f(a)}break e;case"textarea":wf(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&La(e,!!l.multiple,t,!1)}}}var mo=!1;function Ef(e,t,l){if(mo)return e(t,l);mo=!0;try{var a=e(t);return a}finally{if(mo=!1,(Aa!==null||Ga!==null)&&(Ks(),Aa&&(t=Aa,e=Ga,Ga=Aa=null,xu(t),e)))for(t=0;t<e.length;t++)xu(e[t])}}function Xn(e,t){var l=e.stateNode;if(l===null)return null;var a=l[ot]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(R(231,t,typeof l));return l}var ul=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),or=!1;if(ul)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){or=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{or=!1}var Tl=null,cc=null,Vi=null;function Tf(){if(Vi)return Vi;var e,t=cc,l=t.length,a,i="value"in Tl?Tl.value:Tl.textContent,s=i.length;for(e=0;e<l&&t[e]===i[e];e++);var o=l-e;for(a=1;a<=o&&t[l-a]===i[s-a];a++);return Vi=i.slice(e,1<a?1-a:void 0)}function Xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function bu(){return!1}function rt(e){function t(l,a,i,s,o){this._reactName=l,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(l=e[r],this[r]=l?l(s):s[r]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Oi:bu,this.isPropagationStopped=bu,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),t}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=rt(ga),fi=je({},ga,{view:0,detail:0}),cp=rt(fi),po,yo,yn,Gs=je({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yn&&(yn&&e.type==="mousemove"?(po=e.screenX-yn.screenX,yo=e.screenY-yn.screenY):yo=po=0,yn=e),po)},movementY:function(e){return"movementY"in e?e.movementY:yo}}),ju=rt(Gs),up=je({},Gs,{dataTransfer:0}),dp=rt(up),fp=je({},fi,{relatedTarget:0}),vo=rt(fp),hp=je({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),gp=rt(hp),mp=je({},ga,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pp=rt(mp),yp=je({},ga,{data:0}),_u=rt(yp),vp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bp[e])?!!t[e]:!1}function uc(){return jp}var _p=je({},fi,{key:function(e){if(e.key){var t=vp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uc,charCode:function(e){return e.type==="keypress"?Xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sp=rt(_p),wp=je({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Su=rt(wp),Np=je({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uc}),Cp=rt(Np),Ep=je({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tp=rt(Ep),Ap=je({},Gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Op=rt(Ap),Dp=je({},ga,{newState:0,oldState:0}),zp=rt(Dp),Rp=[9,13,27,32],dc=ul&&"CompositionEvent"in window,An=null;ul&&"documentMode"in document&&(An=document.documentMode);var Mp=ul&&"TextEvent"in window&&!An,Af=ul&&(!dc||An&&8<An&&11>=An),wu=String.fromCharCode(32),Nu=!1;function Of(e,t){switch(e){case"keyup":return Rp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Df(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oa=!1;function Hp(e,t){switch(e){case"compositionend":return Df(t);case"keypress":return t.which!==32?null:(Nu=!0,wu);case"textInput":return e=t.data,e===wu&&Nu?null:e;default:return null}}function kp(e,t){if(Oa)return e==="compositionend"||!dc&&Of(e,t)?(e=Tf(),Vi=cc=Tl=null,Oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Af&&t.locale!=="ko"?null:t.data;default:return null}}var Up={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Up[e.type]:t==="textarea"}function zf(e,t,l,a){Aa?Ga?Ga.push(a):Ga=[a]:Aa=a,t=Ss(t,"onChange"),0<t.length&&(l=new Ls("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var On=null,Qn=null;function Bp(e){wg(e,0)}function qs(e){var t=Cn(e);if(_f(t))return e}function Eu(e,t){if(e==="change")return t}var Rf=!1;if(ul){var xo;if(ul){var bo="oninput"in document;if(!bo){var Tu=document.createElement("div");Tu.setAttribute("oninput","return;"),bo=typeof Tu.oninput=="function"}xo=bo}else xo=!1;Rf=xo&&(!document.documentMode||9<document.documentMode)}function Au(){On&&(On.detachEvent("onpropertychange",Mf),Qn=On=null)}function Mf(e){if(e.propertyName==="value"&&qs(Qn)){var t=[];zf(t,Qn,e,rc(e)),Ef(Bp,t)}}function Lp(e,t,l){e==="focusin"?(Au(),On=t,Qn=l,On.attachEvent("onpropertychange",Mf)):e==="focusout"&&Au()}function Gp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qs(Qn)}function qp(e,t){if(e==="click")return qs(t)}function Yp(e,t){if(e==="input"||e==="change")return qs(t)}function Vp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:Vp;function $n(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var i=l[a];if(!lr.call(t,i)||!xt(e[i],t[i]))return!1}return!0}function Ou(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Du(e,t){var l=Ou(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ou(l)}}function Hf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=is(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=is(e.document)}return t}function fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Xp=ul&&"documentMode"in document&&11>=document.documentMode,Da=null,rr=null,Dn=null,cr=!1;function zu(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;cr||Da==null||Da!==is(a)||(a=Da,"selectionStart"in a&&fc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Dn&&$n(Dn,a)||(Dn=a,a=Ss(rr,"onSelect"),0<a.length&&(t=new Ls("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=Da)))}function Fl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var za={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionrun:Fl("Transition","TransitionRun"),transitionstart:Fl("Transition","TransitionStart"),transitioncancel:Fl("Transition","TransitionCancel"),transitionend:Fl("Transition","TransitionEnd")},jo={},Uf={};ul&&(Uf=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function ma(e){if(jo[e])return jo[e];if(!za[e])return e;var t=za[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Uf)return jo[e]=t[l];return e}var Bf=ma("animationend"),Lf=ma("animationiteration"),Gf=ma("animationstart"),Qp=ma("transitionrun"),$p=ma("transitionstart"),Zp=ma("transitioncancel"),qf=ma("transitionend"),Yf=new Map,ur="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ur.push("scrollEnd");function Lt(e,t){Yf.set(e,t),ha(t,[e])}var Ru=new WeakMap;function Ct(e,t){if(typeof e=="object"&&e!==null){var l=Ru.get(e);return l!==void 0?l:(t={value:e,source:t,stack:yu(t)},Ru.set(e,t),t)}return{value:e,source:t,stack:yu(t)}}var bt=[],Ra=0,hc=0;function Ys(){for(var e=Ra,t=hc=Ra=0;t<e;){var l=bt[t];bt[t++]=null;var a=bt[t];bt[t++]=null;var i=bt[t];bt[t++]=null;var s=bt[t];if(bt[t++]=null,a!==null&&i!==null){var o=a.pending;o===null?i.next=i:(i.next=o.next,o.next=i),a.pending=i}s!==0&&Vf(l,i,s)}}function Vs(e,t,l,a){bt[Ra++]=e,bt[Ra++]=t,bt[Ra++]=l,bt[Ra++]=a,hc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function gc(e,t,l,a){return Vs(e,t,l,a),ss(e)}function cn(e,t){return Vs(e,null,null,t),ss(e)}function Vf(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var i=!1,s=e.return;s!==null;)s.childLanes|=l,a=s.alternate,a!==null&&(a.childLanes|=l),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-pt(l),e=s.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=l|536870912),s):null}function ss(e){if(50<qn)throw qn=0,Dr=null,Error(R(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ma={};function Kp(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,l,a){return new Kp(e,t,l,a)}function mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rl(e,t){var l=e.alternate;return l===null?(l=gt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Xf(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Qi(e,t,l,a,i,s){var o=0;if(a=e,typeof e=="function")mc(e)&&(o=1);else if(typeof e=="string")o=Py(e,l,$t.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Io:return e=gt(31,l,t,i),e.elementType=Io,e.lanes=s,e;case Ca:return aa(l.children,i,s,t);case cf:o=8,i|=24;break;case Jo:return e=gt(12,l,t,i|2),e.elementType=Jo,e.lanes=s,e;case Po:return e=gt(13,l,t,i),e.elementType=Po,e.lanes=s,e;case Fo:return e=gt(19,l,t,i),e.elementType=Fo,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bm:case al:o=10;break e;case uf:o=9;break e;case tc:o=11;break e;case lc:o=14;break e;case jl:o=16,a=null;break e}o=29,l=Error(R(130,e===null?"null":typeof e,"")),a=null}return t=gt(o,l,t,i),t.elementType=e,t.type=a,t.lanes=s,t}function aa(e,t,l,a){return e=gt(7,e,a,t),e.lanes=l,e}function _o(e,t,l){return e=gt(6,e,null,t),e.lanes=l,e}function So(e,t,l){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ha=[],ka=0,os=null,rs=0,_t=[],St=0,na=null,nl=1,il="";function ea(e,t){Ha[ka++]=rs,Ha[ka++]=os,os=e,rs=t}function Qf(e,t,l){_t[St++]=nl,_t[St++]=il,_t[St++]=na,na=e;var a=nl;e=il;var i=32-pt(a)-1;a&=~(1<<i),l+=1;var s=32-pt(t)+i;if(30<s){var o=i-i%5;s=(a&(1<<o)-1).toString(32),a>>=o,i-=o,nl=1<<32-pt(t)+i|l<<i|a,il=s+e}else nl=1<<s|l<<i|a,il=e}function pc(e){e.return!==null&&(ea(e,1),Qf(e,1,0))}function yc(e){for(;e===os;)os=Ha[--ka],Ha[ka]=null,rs=Ha[--ka],Ha[ka]=null;for(;e===na;)na=_t[--St],_t[St]=null,il=_t[--St],_t[St]=null,nl=_t[--St],_t[St]=null}var We=null,Te=null,de=!1,ia=null,Xt=!1,dr=Error(R(519));function ca(e){var t=Error(R(418,""));throw Zn(Ct(t,e)),dr}function Mu(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[Pe]=e,t[ot]=a,l){case"dialog":se("cancel",t),se("close",t);break;case"iframe":case"object":case"embed":se("load",t);break;case"video":case"audio":for(l=0;l<Pn.length;l++)se(Pn[l],t);break;case"source":se("error",t);break;case"img":case"image":case"link":se("error",t),se("load",t);break;case"details":se("toggle",t);break;case"input":se("invalid",t),Sf(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),ns(t);break;case"select":se("invalid",t);break;case"textarea":se("invalid",t),Nf(t,a.value,a.defaultValue,a.children),ns(t)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||Cg(t.textContent,l)?(a.popover!=null&&(se("beforetoggle",t),se("toggle",t)),a.onScroll!=null&&se("scroll",t),a.onScrollEnd!=null&&se("scrollend",t),a.onClick!=null&&(t.onclick=Fs),t=!0):t=!1,t||ca(e)}function Hu(e){for(We=e.return;We;)switch(We.tag){case 5:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:We=We.return}}function vn(e){if(e!==We)return!1;if(!de)return Hu(e),de=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Ur(e.type,e.memoizedProps)),l=!l),l&&Te&&ca(e),Hu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(t===0){Te=Bt(e.nextSibling);break e}t--}else l!=="$"&&l!=="$!"&&l!=="$?"||t++;e=e.nextSibling}Te=null}}else t===27?(t=Te,$l(e.type)?(e=Gr,Gr=null,Te=e):Te=t):Te=We?Bt(e.stateNode.nextSibling):null;return!0}function hi(){Te=We=null,de=!1}function ku(){var e=ia;return e!==null&&(st===null?st=e:st.push.apply(st,e),ia=null),e}function Zn(e){ia===null?ia=[e]:ia.push(e)}var fr=Jt(null),pa=null,sl=null;function Sl(e,t,l){Ne(fr,t._currentValue),t._currentValue=l}function cl(e){e._currentValue=fr.current,$e(fr)}function hr(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function gr(e,t,l,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var o=i.child;s=s.firstContext;e:for(;s!==null;){var r=s;s=i;for(var c=0;c<t.length;c++)if(r.context===t[c]){s.lanes|=l,r=s.alternate,r!==null&&(r.lanes|=l),hr(s.return,l,e),a||(o=null);break e}s=r.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=l,s=o.alternate,s!==null&&(s.lanes|=l),hr(o,l,e),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function gi(e,t,l,a){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(R(387));if(o=o.memoizedProps,o!==null){var r=i.type;xt(i.pendingProps.value,o.value)||(e!==null?e.push(r):e=[r])}}else if(i===es.current){if(o=i.alternate,o===null)throw Error(R(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Wn):e=[Wn])}i=i.return}e!==null&&gr(t,e,l,a),t.flags|=262144}function cs(e){for(e=e.firstContext;e!==null;){if(!xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ua(e){pa=e,sl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return $f(pa,e)}function Di(e,t){return pa===null&&ua(e),$f(e,t)}function $f(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},sl===null){if(e===null)throw Error(R(308));sl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sl=sl.next=t;return l}var Jp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Pp=Ge.unstable_scheduleCallback,Fp=Ge.unstable_NormalPriority,Be={$$typeof:al,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vc(){return{controller:new Jp,data:new Map,refCount:0}}function mi(e){e.refCount--,e.refCount===0&&Pp(Fp,function(){e.controller.abort()})}var zn=null,mr=0,Ja=0,qa=null;function Ip(e,t){if(zn===null){var l=zn=[];mr=0,Ja=qc(),qa={status:"pending",value:void 0,then:function(a){l.push(a)}}}return mr++,t.then(Uu,Uu),t}function Uu(){if(--mr===0&&zn!==null){qa!==null&&(qa.status="fulfilled");var e=zn;zn=null,Ja=0,qa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Wp(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(i){l.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<l.length;i++)(0,l[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<l.length;i++)(0,l[i])(void 0)}),a}var Bu=F.S;F.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ip(e,t),Bu!==null&&Bu(e,t)};var sa=Jt(null);function xc(){var e=sa.current;return e!==null?e:xe.pooledCache}function $i(e,t){t===null?Ne(sa,sa.current):Ne(sa,t.pool)}function Zf(){var e=xc();return e===null?null:{parent:Be._currentValue,pool:e}}var pi=Error(R(460)),Kf=Error(R(474)),Xs=Error(R(542)),pr={then:function(){}};function Lu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zi(){}function Jf(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(zi,zi),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qu(e),e;default:if(typeof t.status=="string")t.then(zi,zi);else{if(e=xe,e!==null&&100<e.shellSuspendCounter)throw Error(R(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qu(e),e}throw Rn=t,pi}}var Rn=null;function Gu(){if(Rn===null)throw Error(R(459));var e=Rn;return Rn=null,e}function qu(e){if(e===pi||e===Xs)throw Error(R(483))}var _l=!1;function bc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ml(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ge&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=ss(e),Vf(e,null,l),t}return Vs(e,a,t,l),ss(e)}function Mn(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,yf(e,l)}}function wo(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var i=null,s=null;if(l=l.firstBaseUpdate,l!==null){do{var o={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};s===null?i=s=o:s=s.next=o,l=l.next}while(l!==null);s===null?i=s=t:s=s.next=t}else i=s=t;l={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var vr=!1;function Hn(){if(vr){var e=qa;if(e!==null)throw e}}function kn(e,t,l,a){vr=!1;var i=e.updateQueue;_l=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,r=i.shared.pending;if(r!==null){i.shared.pending=null;var c=r,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var p=e.alternate;p!==null&&(p=p.updateQueue,r=p.lastBaseUpdate,r!==o&&(r===null?p.firstBaseUpdate=u:r.next=u,p.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;o=0,p=u=c=null,r=s;do{var h=r.lane&-536870913,v=h!==r.lane;if(v?(re&h)===h:(a&h)===h){h!==0&&h===Ja&&(vr=!0),p!==null&&(p=p.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var b=e,x=r;h=t;var w=l;switch(x.tag){case 1:if(b=x.payload,typeof b=="function"){d=b.call(w,d,h);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,h=typeof b=="function"?b.call(w,d,h):b,h==null)break e;d=je({},d,h);break e;case 2:_l=!0}}h=r.callback,h!==null&&(e.flags|=64,v&&(e.flags|=8192),v=i.callbacks,v===null?i.callbacks=[h]:v.push(h))}else v={lane:h,tag:r.tag,payload:r.payload,callback:r.callback,next:null},p===null?(u=p=v,c=d):p=p.next=v,o|=h;if(r=r.next,r===null){if(r=i.shared.pending,r===null)break;v=r,r=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);p===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=p,s===null&&(i.shared.lanes=0),Xl|=o,e.lanes=o,e.memoizedState=d}}function Pf(e,t){if(typeof e!="function")throw Error(R(191,e));e.call(t)}function Ff(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Pf(l[e],t)}var Pa=Jt(null),us=Jt(0);function Yu(e,t){e=hl,Ne(us,e),Ne(Pa,t),hl=e|t.baseLanes}function xr(){Ne(us,hl),Ne(Pa,Pa.current)}function jc(){hl=us.current,$e(Pa),$e(us)}var Yl=0,ne=null,ye=null,He=null,ds=!1,Ya=!1,da=!1,fs=0,Kn=0,Va=null,ey=0;function Re(){throw Error(R(321))}function _c(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!xt(e[l],t[l]))return!1;return!0}function Sc(e,t,l,a,i,s){return Yl=s,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=e===null||e.memoizedState===null?Th:Ah,da=!1,s=l(a,i),da=!1,Ya&&(s=Wf(t,l,a,i)),If(e),s}function If(e){F.H=hs;var t=ye!==null&&ye.next!==null;if(Yl=0,He=ye=ne=null,ds=!1,Kn=0,Va=null,t)throw Error(R(300));e===null||Qe||(e=e.dependencies,e!==null&&cs(e)&&(Qe=!0))}function Wf(e,t,l,a){ne=e;var i=0;do{if(Ya&&(Va=null),Kn=0,Ya=!1,25<=i)throw Error(R(301));if(i+=1,He=ye=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}F.H=oy,s=t(l,a)}while(Ya);return s}function ty(){var e=F.H,t=e.useState()[0];return t=typeof t.then=="function"?yi(t):t,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(ne.flags|=1024),t}function wc(){var e=fs!==0;return fs=0,e}function Nc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Cc(e){if(ds){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ds=!1}Yl=0,He=ye=ne=null,Ya=!1,Kn=fs=0,Va=null}function nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?ne.memoizedState=He=e:He=He.next=e,He}function ke(){if(ye===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=He===null?ne.memoizedState:He.next;if(t!==null)He=t,ye=e;else{if(e===null)throw ne.alternate===null?Error(R(467)):Error(R(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},He===null?ne.memoizedState=He=e:He=He.next=e}return He}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yi(e){var t=Kn;return Kn+=1,Va===null&&(Va=[]),e=Jf(Va,e,t),t=ne,(He===null?t.memoizedState:He.next)===null&&(t=t.alternate,F.H=t===null||t.memoizedState===null?Th:Ah),e}function Qs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return yi(e);if(e.$$typeof===al)return Fe(e)}throw Error(R(438,String(e)))}function Tc(e){var t=null,l=ne.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=ne.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Ec(),ne.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=Lm;return t.index++,l}function dl(e,t){return typeof t=="function"?t(e):t}function Zi(e){var t=ke();return Ac(t,ye,e)}function Ac(e,t,l){var a=e.queue;if(a===null)throw Error(R(311));a.lastRenderedReducer=l;var i=e.baseQueue,s=a.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var r=o=null,c=null,u=t,p=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(re&d)===d:(Yl&d)===d){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Ja&&(p=!0);else if((Yl&h)===h){u=u.next,h===Ja&&(p=!0);continue}else d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(r=c=d,o=s):c=c.next=d,ne.lanes|=h,Xl|=h;d=u.action,da&&l(s,d),s=u.hasEagerState?u.eagerState:l(s,d)}else h={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(r=c=h,o=s):c=c.next=h,ne.lanes|=d,Xl|=d;u=u.next}while(u!==null&&u!==t);if(c===null?o=s:c.next=r,!xt(s,e.memoizedState)&&(Qe=!0,p&&(l=qa,l!==null)))throw l;e.memoizedState=s,e.baseState=o,e.baseQueue=c,a.lastRenderedState=s}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function No(e){var t=ke(),l=t.queue;if(l===null)throw Error(R(311));l.lastRenderedReducer=e;var a=l.dispatch,i=l.pending,s=t.memoizedState;if(i!==null){l.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);xt(s,t.memoizedState)||(Qe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),l.lastRenderedState=s}return[s,a]}function eh(e,t,l){var a=ne,i=ke(),s=de;if(s){if(l===void 0)throw Error(R(407));l=l()}else l=t();var o=!xt((ye||i).memoizedState,l);o&&(i.memoizedState=l,Qe=!0),i=i.queue;var r=ah.bind(null,a,i,e);if(vi(2048,8,r,[e]),i.getSnapshot!==t||o||He!==null&&He.memoizedState.tag&1){if(a.flags|=2048,Fa(9,$s(),lh.bind(null,a,i,l,t),null),xe===null)throw Error(R(349));s||Yl&124||th(a,t,l)}return l}function th(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=ne.updateQueue,t===null?(t=Ec(),ne.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function lh(e,t,l,a){t.value=l,t.getSnapshot=a,nh(t)&&ih(e)}function ah(e,t,l){return l(function(){nh(t)&&ih(e)})}function nh(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!xt(e,l)}catch{return!0}}function ih(e){var t=cn(e,2);t!==null&&vt(t,e,2)}function br(e){var t=nt();if(typeof e=="function"){var l=e;if(e=l(),da){El(!0);try{l()}finally{El(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:e},t}function sh(e,t,l,a){return e.baseState=l,Ac(e,ye,typeof a=="function"?a:dl)}function ly(e,t,l,a,i){if(Zs(e))throw Error(R(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){s.listeners.push(o)}};F.T!==null?l(!0):s.isTransition=!1,a(s),l=t.pending,l===null?(s.next=t.pending=s,oh(t,s)):(s.next=l.next,t.pending=l.next=s)}}function oh(e,t){var l=t.action,a=t.payload,i=e.state;if(t.isTransition){var s=F.T,o={};F.T=o;try{var r=l(i,a),c=F.S;c!==null&&c(o,r),Vu(e,t,r)}catch(u){jr(e,t,u)}finally{F.T=s}}else try{s=l(i,a),Vu(e,t,s)}catch(u){jr(e,t,u)}}function Vu(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Xu(e,t,a)},function(a){return jr(e,t,a)}):Xu(e,t,l)}function Xu(e,t,l){t.status="fulfilled",t.value=l,rh(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,oh(e,l)))}function jr(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,rh(t),t=t.next;while(t!==a)}e.action=null}function rh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ch(e,t){return t}function Qu(e,t){if(de){var l=xe.formState;if(l!==null){e:{var a=ne;if(de){if(Te){t:{for(var i=Te,s=Xt;i.nodeType!==8;){if(!s){i=null;break t}if(i=Bt(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){Te=Bt(i.nextSibling),a=i.data==="F!";break e}}ca(a)}a=!1}a&&(t=l[0])}}return l=nt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ch,lastRenderedState:t},l.queue=a,l=Nh.bind(null,ne,a),a.dispatch=l,a=br(!1),s=Rc.bind(null,ne,!1,a.queue),a=nt(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,l=ly.bind(null,ne,i,s,l),i.dispatch=l,a.memoizedState=e,[t,l,!1]}function $u(e){var t=ke();return uh(t,ye,e)}function uh(e,t,l){if(t=Ac(e,t,ch)[0],e=Zi(dl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=yi(t)}catch(o){throw o===pi?Xs:o}else a=t;t=ke();var i=t.queue,s=i.dispatch;return l!==t.memoizedState&&(ne.flags|=2048,Fa(9,$s(),ay.bind(null,i,l),null)),[a,s,e]}function ay(e,t){e.action=t}function Zu(e){var t=ke(),l=ye;if(l!==null)return uh(t,l,e);ke(),t=t.memoizedState,l=ke();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Fa(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=ne.updateQueue,t===null&&(t=Ec(),ne.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function $s(){return{destroy:void 0,resource:void 0}}function dh(){return ke().memoizedState}function Ki(e,t,l,a){var i=nt();a=a===void 0?null:a,ne.flags|=e,i.memoizedState=Fa(1|t,$s(),l,a)}function vi(e,t,l,a){var i=ke();a=a===void 0?null:a;var s=i.memoizedState.inst;ye!==null&&a!==null&&_c(a,ye.memoizedState.deps)?i.memoizedState=Fa(t,s,l,a):(ne.flags|=e,i.memoizedState=Fa(1|t,s,l,a))}function Ku(e,t){Ki(8390656,8,e,t)}function fh(e,t){vi(2048,8,e,t)}function hh(e,t){return vi(4,2,e,t)}function gh(e,t){return vi(4,4,e,t)}function mh(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ph(e,t,l){l=l!=null?l.concat([e]):null,vi(4,4,mh.bind(null,t,e),l)}function Oc(){}function yh(e,t){var l=ke();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&_c(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function vh(e,t){var l=ke();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&_c(t,a[1]))return a[0];if(a=e(),da){El(!0);try{e()}finally{El(!1)}}return l.memoizedState=[a,t],a}function Dc(e,t,l){return l===void 0||Yl&1073741824?e.memoizedState=t:(e.memoizedState=l,e=rg(),ne.lanes|=e,Xl|=e,l)}function xh(e,t,l,a){return xt(l,t)?l:Pa.current!==null?(e=Dc(e,l,a),xt(e,t)||(Qe=!0),e):Yl&42?(e=rg(),ne.lanes|=e,Xl|=e,t):(Qe=!0,e.memoizedState=l)}function bh(e,t,l,a,i){var s=fe.p;fe.p=s!==0&&8>s?s:8;var o=F.T,r={};F.T=r,Rc(e,!1,t,l);try{var c=i(),u=F.S;if(u!==null&&u(r,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var p=Wp(c,a);Un(e,t,p,yt(e))}else Un(e,t,a,yt(e))}catch(d){Un(e,t,{then:function(){},status:"rejected",reason:d},yt())}finally{fe.p=s,F.T=o}}function ny(){}function _r(e,t,l,a){if(e.tag!==5)throw Error(R(476));var i=jh(e).queue;bh(e,i,t,la,l===null?ny:function(){return _h(e),l(a)})}function jh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:la,baseState:la,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:la},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _h(e){var t=jh(e).next.queue;Un(e,t,{},yt())}function zc(){return Fe(Wn)}function Sh(){return ke().memoizedState}function wh(){return ke().memoizedState}function iy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=yt();e=Ml(l);var a=Hl(t,e,l);a!==null&&(vt(a,t,l),Mn(a,t,l)),t={cache:vc()},e.payload=t;return}t=t.return}}function sy(e,t,l){var a=yt();l={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Zs(e)?Ch(t,l):(l=gc(e,t,l,a),l!==null&&(vt(l,e,a),Eh(l,t,a)))}function Nh(e,t,l){var a=yt();Un(e,t,l,a)}function Un(e,t,l,a){var i={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Zs(e))Ch(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,r=s(o,l);if(i.hasEagerState=!0,i.eagerState=r,xt(r,o))return Vs(e,t,i,0),xe===null&&Ys(),!1}catch{}finally{}if(l=gc(e,t,i,a),l!==null)return vt(l,e,a),Eh(l,t,a),!0}return!1}function Rc(e,t,l,a){if(a={lane:2,revertLane:qc(),action:a,hasEagerState:!1,eagerState:null,next:null},Zs(e)){if(t)throw Error(R(479))}else t=gc(e,l,a,2),t!==null&&vt(t,e,2)}function Zs(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function Ch(e,t){Ya=ds=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Eh(e,t,l){if(l&4194048){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,yf(e,l)}}var hs={readContext:Fe,use:Qs,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re,useHostTransitionStatus:Re,useFormState:Re,useActionState:Re,useOptimistic:Re,useMemoCache:Re,useCacheRefresh:Re},Th={readContext:Fe,use:Qs,useCallback:function(e,t){return nt().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:Ku,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Ki(4194308,4,mh.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Ki(4194308,4,e,t)},useInsertionEffect:function(e,t){Ki(4,2,e,t)},useMemo:function(e,t){var l=nt();t=t===void 0?null:t;var a=e();if(da){El(!0);try{e()}finally{El(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=nt();if(l!==void 0){var i=l(t);if(da){El(!0);try{l(t)}finally{El(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=sy.bind(null,ne,e),[a.memoizedState,e]},useRef:function(e){var t=nt();return e={current:e},t.memoizedState=e},useState:function(e){e=br(e);var t=e.queue,l=Nh.bind(null,ne,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Oc,useDeferredValue:function(e,t){var l=nt();return Dc(l,e,t)},useTransition:function(){var e=br(!1);return e=bh.bind(null,ne,e.queue,!0,!1),nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=ne,i=nt();if(de){if(l===void 0)throw Error(R(407));l=l()}else{if(l=t(),xe===null)throw Error(R(349));re&124||th(a,t,l)}i.memoizedState=l;var s={value:l,getSnapshot:t};return i.queue=s,Ku(ah.bind(null,a,s,e),[e]),a.flags|=2048,Fa(9,$s(),lh.bind(null,a,s,l,t),null),l},useId:function(){var e=nt(),t=xe.identifierPrefix;if(de){var l=il,a=nl;l=(a&~(1<<32-pt(a)-1)).toString(32)+l,t=""+t+"R"+l,l=fs++,0<l&&(t+="H"+l.toString(32)),t+=""}else l=ey++,t=""+t+"r"+l.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:zc,useFormState:Qu,useActionState:Qu,useOptimistic:function(e){var t=nt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Rc.bind(null,ne,!0,l),l.dispatch=t,[e,t]},useMemoCache:Tc,useCacheRefresh:function(){return nt().memoizedState=iy.bind(null,ne)}},Ah={readContext:Fe,use:Qs,useCallback:yh,useContext:Fe,useEffect:fh,useImperativeHandle:ph,useInsertionEffect:hh,useLayoutEffect:gh,useMemo:vh,useReducer:Zi,useRef:dh,useState:function(){return Zi(dl)},useDebugValue:Oc,useDeferredValue:function(e,t){var l=ke();return xh(l,ye.memoizedState,e,t)},useTransition:function(){var e=Zi(dl)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:yi(e),t]},useSyncExternalStore:eh,useId:Sh,useHostTransitionStatus:zc,useFormState:$u,useActionState:$u,useOptimistic:function(e,t){var l=ke();return sh(l,ye,e,t)},useMemoCache:Tc,useCacheRefresh:wh},oy={readContext:Fe,use:Qs,useCallback:yh,useContext:Fe,useEffect:fh,useImperativeHandle:ph,useInsertionEffect:hh,useLayoutEffect:gh,useMemo:vh,useReducer:No,useRef:dh,useState:function(){return No(dl)},useDebugValue:Oc,useDeferredValue:function(e,t){var l=ke();return ye===null?Dc(l,e,t):xh(l,ye.memoizedState,e,t)},useTransition:function(){var e=No(dl)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:yi(e),t]},useSyncExternalStore:eh,useId:Sh,useHostTransitionStatus:zc,useFormState:Zu,useActionState:Zu,useOptimistic:function(e,t){var l=ke();return ye!==null?sh(l,ye,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Tc,useCacheRefresh:wh},Xa=null,Jn=0;function Ri(e){var t=Jn;return Jn+=1,Xa===null&&(Xa=[]),Jf(Xa,e,t)}function xn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Mi(e,t){throw t.$$typeof===Um?Error(R(525)):(e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ju(e){var t=e._init;return t(e._payload)}function Oh(e){function t(f,g){if(e){var y=f.deletions;y===null?(f.deletions=[g],f.flags|=16):y.push(g)}}function l(f,g){if(!e)return null;for(;g!==null;)t(f,g),g=g.sibling;return null}function a(f){for(var g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function i(f,g){return f=rl(f,g),f.index=0,f.sibling=null,f}function s(f,g,y){return f.index=y,e?(y=f.alternate,y!==null?(y=y.index,y<g?(f.flags|=67108866,g):y):(f.flags|=67108866,g)):(f.flags|=1048576,g)}function o(f){return e&&f.alternate===null&&(f.flags|=67108866),f}function r(f,g,y,j){return g===null||g.tag!==6?(g=_o(y,f.mode,j),g.return=f,g):(g=i(g,y),g.return=f,g)}function c(f,g,y,j){var M=y.type;return M===Ca?p(f,g,y.props.children,j,y.key):g!==null&&(g.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===jl&&Ju(M)===g.type)?(g=i(g,y.props),xn(g,y),g.return=f,g):(g=Qi(y.type,y.key,y.props,null,f.mode,j),xn(g,y),g.return=f,g)}function u(f,g,y,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=So(y,f.mode,j),g.return=f,g):(g=i(g,y.children||[]),g.return=f,g)}function p(f,g,y,j,M){return g===null||g.tag!==7?(g=aa(y,f.mode,j,M),g.return=f,g):(g=i(g,y),g.return=f,g)}function d(f,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=_o(""+g,f.mode,y),g.return=f,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ci:return y=Qi(g.type,g.key,g.props,null,f.mode,y),xn(y,g),y.return=f,y;case wn:return g=So(g,f.mode,y),g.return=f,g;case jl:var j=g._init;return g=j(g._payload),d(f,g,y)}if(Nn(g)||mn(g))return g=aa(g,f.mode,y,null),g.return=f,g;if(typeof g.then=="function")return d(f,Ri(g),y);if(g.$$typeof===al)return d(f,Di(f,g),y);Mi(f,g)}return null}function h(f,g,y,j){var M=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return M!==null?null:r(f,g,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ci:return y.key===M?c(f,g,y,j):null;case wn:return y.key===M?u(f,g,y,j):null;case jl:return M=y._init,y=M(y._payload),h(f,g,y,j)}if(Nn(y)||mn(y))return M!==null?null:p(f,g,y,j,null);if(typeof y.then=="function")return h(f,g,Ri(y),j);if(y.$$typeof===al)return h(f,g,Di(f,y),j);Mi(f,y)}return null}function v(f,g,y,j,M){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return f=f.get(y)||null,r(g,f,""+j,M);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ci:return f=f.get(j.key===null?y:j.key)||null,c(g,f,j,M);case wn:return f=f.get(j.key===null?y:j.key)||null,u(g,f,j,M);case jl:var O=j._init;return j=O(j._payload),v(f,g,y,j,M)}if(Nn(j)||mn(j))return f=f.get(y)||null,p(g,f,j,M,null);if(typeof j.then=="function")return v(f,g,y,Ri(j),M);if(j.$$typeof===al)return v(f,g,y,Di(g,j),M);Mi(g,j)}return null}function b(f,g,y,j){for(var M=null,O=null,C=g,N=g=0,k=null;C!==null&&N<y.length;N++){C.index>N?(k=C,C=null):k=C.sibling;var H=h(f,C,y[N],j);if(H===null){C===null&&(C=k);break}e&&C&&H.alternate===null&&t(f,C),g=s(H,g,N),O===null?M=H:O.sibling=H,O=H,C=k}if(N===y.length)return l(f,C),de&&ea(f,N),M;if(C===null){for(;N<y.length;N++)C=d(f,y[N],j),C!==null&&(g=s(C,g,N),O===null?M=C:O.sibling=C,O=C);return de&&ea(f,N),M}for(C=a(C);N<y.length;N++)k=v(C,f,N,y[N],j),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?N:k.key),g=s(k,g,N),O===null?M=k:O.sibling=k,O=k);return e&&C.forEach(function($){return t(f,$)}),de&&ea(f,N),M}function x(f,g,y,j){if(y==null)throw Error(R(151));for(var M=null,O=null,C=g,N=g=0,k=null,H=y.next();C!==null&&!H.done;N++,H=y.next()){C.index>N?(k=C,C=null):k=C.sibling;var $=h(f,C,H.value,j);if($===null){C===null&&(C=k);break}e&&C&&$.alternate===null&&t(f,C),g=s($,g,N),O===null?M=$:O.sibling=$,O=$,C=k}if(H.done)return l(f,C),de&&ea(f,N),M;if(C===null){for(;!H.done;N++,H=y.next())H=d(f,H.value,j),H!==null&&(g=s(H,g,N),O===null?M=H:O.sibling=H,O=H);return de&&ea(f,N),M}for(C=a(C);!H.done;N++,H=y.next())H=v(C,f,N,H.value,j),H!==null&&(e&&H.alternate!==null&&C.delete(H.key===null?N:H.key),g=s(H,g,N),O===null?M=H:O.sibling=H,O=H);return e&&C.forEach(function(B){return t(f,B)}),de&&ea(f,N),M}function w(f,g,y,j){if(typeof y=="object"&&y!==null&&y.type===Ca&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ci:e:{for(var M=y.key;g!==null;){if(g.key===M){if(M=y.type,M===Ca){if(g.tag===7){l(f,g.sibling),j=i(g,y.props.children),j.return=f,f=j;break e}}else if(g.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===jl&&Ju(M)===g.type){l(f,g.sibling),j=i(g,y.props),xn(j,y),j.return=f,f=j;break e}l(f,g);break}else t(f,g);g=g.sibling}y.type===Ca?(j=aa(y.props.children,f.mode,j,y.key),j.return=f,f=j):(j=Qi(y.type,y.key,y.props,null,f.mode,j),xn(j,y),j.return=f,f=j)}return o(f);case wn:e:{for(M=y.key;g!==null;){if(g.key===M)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){l(f,g.sibling),j=i(g,y.children||[]),j.return=f,f=j;break e}else{l(f,g);break}else t(f,g);g=g.sibling}j=So(y,f.mode,j),j.return=f,f=j}return o(f);case jl:return M=y._init,y=M(y._payload),w(f,g,y,j)}if(Nn(y))return b(f,g,y,j);if(mn(y)){if(M=mn(y),typeof M!="function")throw Error(R(150));return y=M.call(y),x(f,g,y,j)}if(typeof y.then=="function")return w(f,g,Ri(y),j);if(y.$$typeof===al)return w(f,g,Di(f,y),j);Mi(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(l(f,g.sibling),j=i(g,y),j.return=f,f=j):(l(f,g),j=_o(y,f.mode,j),j.return=f,f=j),o(f)):l(f,g)}return function(f,g,y,j){try{Jn=0;var M=w(f,g,y,j);return Xa=null,M}catch(C){if(C===pi||C===Xs)throw C;var O=gt(29,C,null,f.mode);return O.lanes=j,O.return=f,O}finally{}}}var Ia=Oh(!0),Dh=Oh(!1),Ot=Jt(null),Kt=null;function wl(e){var t=e.alternate;Ne(Le,Le.current&1),Ne(Ot,e),Kt===null&&(t===null||Pa.current!==null||t.memoizedState!==null)&&(Kt=e)}function zh(e){if(e.tag===22){if(Ne(Le,Le.current),Ne(Ot,e),Kt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Kt=e)}}else Nl()}function Nl(){Ne(Le,Le.current),Ne(Ot,Ot.current)}function ol(e){$e(Ot),Kt===e&&(Kt=null),$e(Le)}var Le=Jt(0);function gs(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Lr(l)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Co(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:je({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Sr={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=yt(),i=Ml(a);i.payload=t,l!=null&&(i.callback=l),t=Hl(e,i,a),t!==null&&(vt(t,e,a),Mn(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=yt(),i=Ml(a);i.tag=1,i.payload=t,l!=null&&(i.callback=l),t=Hl(e,i,a),t!==null&&(vt(t,e,a),Mn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=yt(),a=Ml(l);a.tag=2,t!=null&&(a.callback=t),t=Hl(e,a,l),t!==null&&(vt(t,e,l),Mn(t,e,l))}};function Pu(e,t,l,a,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,o):t.prototype&&t.prototype.isPureReactComponent?!$n(l,a)||!$n(i,s):!0}function Fu(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Sr.enqueueReplaceState(t,t.state,null)}function fa(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=je({},l));for(var i in e)l[i]===void 0&&(l[i]=e[i])}return l}var ms=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Rh(e){ms(e)}function Mh(e){console.error(e)}function Hh(e){ms(e)}function ps(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Iu(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function wr(e,t,l){return l=Ml(l),l.tag=3,l.payload={element:null},l.callback=function(){ps(e,t)},l}function kh(e){return e=Ml(e),e.tag=3,e}function Uh(e,t,l,a){var i=l.type.getDerivedStateFromError;if(typeof i=="function"){var s=a.value;e.payload=function(){return i(s)},e.callback=function(){Iu(t,l,a)}}var o=l.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Iu(t,l,a),typeof i!="function"&&(kl===null?kl=new Set([this]):kl.add(this));var r=a.stack;this.componentDidCatch(a.value,{componentStack:r!==null?r:""})})}function ry(e,t,l,a,i){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&gi(t,l,i,!0),l=Ot.current,l!==null){switch(l.tag){case 13:return Kt===null?zr():l.alternate===null&&Ae===0&&(Ae=3),l.flags&=-257,l.flags|=65536,l.lanes=i,a===pr?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Uo(e,a,i)),!1;case 22:return l.flags|=65536,a===pr?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Uo(e,a,i)),!1}throw Error(R(435,l.tag))}return Uo(e,a,i),zr(),!1}if(de)return t=Ot.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==dr&&(e=Error(R(422),{cause:a}),Zn(Ct(e,l)))):(a!==dr&&(t=Error(R(423),{cause:a}),Zn(Ct(t,l))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Ct(a,l),i=wr(e.stateNode,a,i),wo(e,i),Ae!==4&&(Ae=2)),!1;var s=Error(R(520),{cause:a});if(s=Ct(s,l),Gn===null?Gn=[s]:Gn.push(s),Ae!==4&&(Ae=2),t===null)return!0;a=Ct(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=i&-i,l.lanes|=e,e=wr(l.stateNode,a,e),wo(l,e),!1;case 1:if(t=l.type,s=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(kl===null||!kl.has(s))))return l.flags|=65536,i&=-i,l.lanes|=i,i=kh(i),Uh(i,e,l,a),wo(l,i),!1}l=l.return}while(l!==null);return!1}var Bh=Error(R(461)),Qe=!1;function Ze(e,t,l,a){t.child=e===null?Dh(t,null,l,a):Ia(t,e.child,l,a)}function Wu(e,t,l,a,i){l=l.render;var s=t.ref;if("ref"in a){var o={};for(var r in a)r!=="ref"&&(o[r]=a[r])}else o=a;return ua(t),a=Sc(e,t,l,o,s,i),r=wc(),e!==null&&!Qe?(Nc(e,t,i),fl(e,t,i)):(de&&r&&pc(t),t.flags|=1,Ze(e,t,a,i),t.child)}function ed(e,t,l,a,i){if(e===null){var s=l.type;return typeof s=="function"&&!mc(s)&&s.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=s,Lh(e,t,s,a,i)):(e=Qi(l.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Mc(e,i)){var o=s.memoizedProps;if(l=l.compare,l=l!==null?l:$n,l(o,a)&&e.ref===t.ref)return fl(e,t,i)}return t.flags|=1,e=rl(s,a),e.ref=t.ref,e.return=t,t.child=e}function Lh(e,t,l,a,i){if(e!==null){var s=e.memoizedProps;if($n(s,a)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=a=s,Mc(e,i))e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,fl(e,t,i)}return Nr(e,t,l,a,i)}function Gh(e,t,l){var a=t.pendingProps,i=a.children,s=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if(t.flags&128){if(a=s!==null?s.baseLanes|l:l,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~a}else t.childLanes=0,t.child=null;return td(e,t,a,l)}if(l&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&$i(t,s!==null?s.cachePool:null),s!==null?Yu(t,s):xr(),zh(t);else return t.lanes=t.childLanes=536870912,td(e,t,s!==null?s.baseLanes|l:l,l)}else s!==null?($i(t,s.cachePool),Yu(t,s),Nl(),t.memoizedState=null):(e!==null&&$i(t,null),xr(),Nl());return Ze(e,t,i,l),t.child}function td(e,t,l,a){var i=xc();return i=i===null?null:{parent:Be._currentValue,pool:i},t.memoizedState={baseLanes:l,cachePool:i},e!==null&&$i(t,null),xr(),zh(t),e!==null&&gi(e,t,a,!0),null}function Ji(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(R(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Nr(e,t,l,a,i){return ua(t),l=Sc(e,t,l,a,void 0,i),a=wc(),e!==null&&!Qe?(Nc(e,t,i),fl(e,t,i)):(de&&a&&pc(t),t.flags|=1,Ze(e,t,l,i),t.child)}function ld(e,t,l,a,i,s){return ua(t),t.updateQueue=null,l=Wf(t,a,l,i),If(e),a=wc(),e!==null&&!Qe?(Nc(e,t,s),fl(e,t,s)):(de&&a&&pc(t),t.flags|=1,Ze(e,t,l,s),t.child)}function ad(e,t,l,a,i){if(ua(t),t.stateNode===null){var s=Ma,o=l.contextType;typeof o=="object"&&o!==null&&(s=Fe(o)),s=new l(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Sr,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},bc(t),o=l.contextType,s.context=typeof o=="object"&&o!==null?Fe(o):Ma,s.state=t.memoizedState,o=l.getDerivedStateFromProps,typeof o=="function"&&(Co(t,l,o,a),s.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(o=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),o!==s.state&&Sr.enqueueReplaceState(s,s.state,null),kn(t,a,s,i),Hn(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var r=t.memoizedProps,c=fa(l,r);s.props=c;var u=s.context,p=l.contextType;o=Ma,typeof p=="object"&&p!==null&&(o=Fe(p));var d=l.getDerivedStateFromProps;p=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r||u!==o)&&Fu(t,s,a,o),_l=!1;var h=t.memoizedState;s.state=h,kn(t,a,s,i),Hn(),u=t.memoizedState,r||h!==u||_l?(typeof d=="function"&&(Co(t,l,d,a),u=t.memoizedState),(c=_l||Pu(t,l,c,a,h,u,o))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),s.props=a,s.state=u,s.context=o,a=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,yr(e,t),o=t.memoizedProps,p=fa(l,o),s.props=p,d=t.pendingProps,h=s.context,u=l.contextType,c=Ma,typeof u=="object"&&u!==null&&(c=Fe(u)),r=l.getDerivedStateFromProps,(u=typeof r=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==c)&&Fu(t,s,a,c),_l=!1,h=t.memoizedState,s.state=h,kn(t,a,s,i),Hn();var v=t.memoizedState;o!==d||h!==v||_l||e!==null&&e.dependencies!==null&&cs(e.dependencies)?(typeof r=="function"&&(Co(t,l,r,a),v=t.memoizedState),(p=_l||Pu(t,l,p,a,h,v,c)||e!==null&&e.dependencies!==null&&cs(e.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,v,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=v),s.props=a,s.state=v,s.context=c,a=p):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,Ji(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=Ia(t,e.child,null,i),t.child=Ia(t,null,l,i)):Ze(e,t,l,i),t.memoizedState=s.state,e=t.child):e=fl(e,t,i),e}function nd(e,t,l,a){return hi(),t.flags|=256,Ze(e,t,l,a),t.child}var Eo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function To(e){return{baseLanes:e,cachePool:Zf()}}function Ao(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Tt),e}function qh(e,t,l){var a=t.pendingProps,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),o&&(i=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(de){if(i?wl(t):Nl(),de){var r=Te,c;if(c=r){e:{for(c=r,r=Xt;c.nodeType!==8;){if(!r){r=null;break e}if(c=Bt(c.nextSibling),c===null){r=null;break e}}r=c}r!==null?(t.memoizedState={dehydrated:r,treeContext:na!==null?{id:nl,overflow:il}:null,retryLane:536870912,hydrationErrors:null},c=gt(18,null,null,0),c.stateNode=r,c.return=t,t.child=c,We=t,Te=null,c=!0):c=!1}c||ca(t)}if(r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null))return Lr(r)?t.lanes=32:t.lanes=536870912,null;ol(t)}return r=a.children,a=a.fallback,i?(Nl(),i=t.mode,r=ys({mode:"hidden",children:r},i),a=aa(a,i,l,null),r.return=t,a.return=t,r.sibling=a,t.child=r,i=t.child,i.memoizedState=To(l),i.childLanes=Ao(e,o,l),t.memoizedState=Eo,a):(wl(t),Cr(t,r))}if(c=e.memoizedState,c!==null&&(r=c.dehydrated,r!==null)){if(s)t.flags&256?(wl(t),t.flags&=-257,t=Oo(e,t,l)):t.memoizedState!==null?(Nl(),t.child=e.child,t.flags|=128,t=null):(Nl(),i=a.fallback,r=t.mode,a=ys({mode:"visible",children:a.children},r),i=aa(i,r,l,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,Ia(t,e.child,null,l),a=t.child,a.memoizedState=To(l),a.childLanes=Ao(e,o,l),t.memoizedState=Eo,t=i);else if(wl(t),Lr(r)){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;o=u,a=Error(R(419)),a.stack="",a.digest=o,Zn({value:a,source:null,stack:null}),t=Oo(e,t,l)}else if(Qe||gi(e,t,l,!1),o=(l&e.childLanes)!==0,Qe||o){if(o=xe,o!==null&&(a=l&-l,a=a&42?1:nc(a),a=a&(o.suspendedLanes|l)?0:a,a!==0&&a!==c.retryLane))throw c.retryLane=a,cn(e,a),vt(o,e,a),Bh;r.data==="$?"||zr(),t=Oo(e,t,l)}else r.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Te=Bt(r.nextSibling),We=t,de=!0,ia=null,Xt=!1,e!==null&&(_t[St++]=nl,_t[St++]=il,_t[St++]=na,nl=e.id,il=e.overflow,na=t),t=Cr(t,a.children),t.flags|=4096);return t}return i?(Nl(),i=a.fallback,r=t.mode,c=e.child,u=c.sibling,a=rl(c,{mode:"hidden",children:a.children}),a.subtreeFlags=c.subtreeFlags&65011712,u!==null?i=rl(u,i):(i=aa(i,r,l,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,r=e.child.memoizedState,r===null?r=To(l):(c=r.cachePool,c!==null?(u=Be._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=Zf(),r={baseLanes:r.baseLanes|l,cachePool:c}),i.memoizedState=r,i.childLanes=Ao(e,o,l),t.memoizedState=Eo,a):(wl(t),l=e.child,e=l.sibling,l=rl(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=l,t.memoizedState=null,l)}function Cr(e,t){return t=ys({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ys(e,t){return e=gt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Oo(e,t,l){return Ia(t,e.child,null,l),e=Cr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function id(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),hr(e.return,t,l)}function Do(e,t,l,a,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=l,s.tailMode=i)}function Yh(e,t,l){var a=t.pendingProps,i=a.revealOrder,s=a.tail;if(Ze(e,t,a.children,l),a=Le.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&id(e,l,t);else if(e.tag===19)id(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(Ne(Le,a),i){case"forwards":for(l=t.child,i=null;l!==null;)e=l.alternate,e!==null&&gs(e)===null&&(i=l),l=l.sibling;l=i,l===null?(i=t.child,t.child=null):(i=l.sibling,l.sibling=null),Do(t,!1,i,l,s);break;case"backwards":for(l=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&gs(e)===null){t.child=i;break}e=i.sibling,i.sibling=l,l=i,i=e}Do(t,!0,l,null,s);break;case"together":Do(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fl(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Xl|=t.lanes,!(l&t.childLanes))if(e!==null){if(gi(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,l=rl(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=rl(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Mc(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&cs(e)))}function cy(e,t,l){switch(t.tag){case 3:ts(t,t.stateNode.containerInfo),Sl(t,Be,e.memoizedState.cache),hi();break;case 27:case 5:tr(t);break;case 4:ts(t,t.stateNode.containerInfo);break;case 10:Sl(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(wl(t),t.flags|=128,null):l&t.child.childLanes?qh(e,t,l):(wl(t),e=fl(e,t,l),e!==null?e.sibling:null);wl(t);break;case 19:var i=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(gi(e,t,l,!1),a=(l&t.childLanes)!==0),i){if(a)return Yh(e,t,l);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(Le,Le.current),a)break;return null;case 22:case 23:return t.lanes=0,Gh(e,t,l);case 24:Sl(t,Be,e.memoizedState.cache)}return fl(e,t,l)}function Vh(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!Mc(e,l)&&!(t.flags&128))return Qe=!1,cy(e,t,l);Qe=!!(e.flags&131072)}else Qe=!1,de&&t.flags&1048576&&Qf(t,rs,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,i=a._init;if(a=i(a._payload),t.type=a,typeof a=="function")mc(a)?(e=fa(a,e),t.tag=1,t=ad(null,t,a,e,l)):(t.tag=0,t=Nr(null,t,a,e,l));else{if(a!=null){if(i=a.$$typeof,i===tc){t.tag=11,t=Wu(null,t,a,e,l);break e}else if(i===lc){t.tag=14,t=ed(null,t,a,e,l);break e}}throw t=Wo(a)||a,Error(R(306,t,""))}}return t;case 0:return Nr(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,i=fa(a,t.pendingProps),ad(e,t,a,i,l);case 3:e:{if(ts(t,t.stateNode.containerInfo),e===null)throw Error(R(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,yr(e,t),kn(t,a,null,l);var o=t.memoizedState;if(a=o.cache,Sl(t,Be,a),a!==s.cache&&gr(t,[Be],l,!0),Hn(),a=o.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=nd(e,t,a,l);break e}else if(a!==i){i=Ct(Error(R(424)),t),Zn(i),t=nd(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Te=Bt(e.firstChild),We=t,de=!0,ia=null,Xt=!0,l=Dh(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(hi(),a===i){t=fl(e,t,l);break e}Ze(e,t,a,l)}t=t.child}return t;case 26:return Ji(e,t),e===null?(l=_d(t.type,null,t.pendingProps,null))?t.memoizedState=l:de||(l=t.type,e=t.pendingProps,a=ws(Rl.current).createElement(l),a[Pe]=t,a[ot]=e,Je(a,l,e),Xe(a),t.stateNode=a):t.memoizedState=_d(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return tr(t),e===null&&de&&(a=t.stateNode=Ag(t.type,t.pendingProps,Rl.current),We=t,Xt=!0,i=Te,$l(t.type)?(Gr=i,Te=Bt(a.firstChild)):Te=i),Ze(e,t,t.pendingProps.children,l),Ji(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&de&&((i=a=Te)&&(a=Uy(a,t.type,t.pendingProps,Xt),a!==null?(t.stateNode=a,We=t,Te=Bt(a.firstChild),Xt=!1,i=!0):i=!1),i||ca(t)),tr(t),i=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,Ur(i,s)?a=null:o!==null&&Ur(i,o)&&(t.flags|=32),t.memoizedState!==null&&(i=Sc(e,t,ty,null,null,l),Wn._currentValue=i),Ji(e,t),Ze(e,t,a,l),t.child;case 6:return e===null&&de&&((e=l=Te)&&(l=By(l,t.pendingProps,Xt),l!==null?(t.stateNode=l,We=t,Te=null,e=!0):e=!1),e||ca(t)),null;case 13:return qh(e,t,l);case 4:return ts(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ia(t,null,a,l):Ze(e,t,a,l),t.child;case 11:return Wu(e,t,t.type,t.pendingProps,l);case 7:return Ze(e,t,t.pendingProps,l),t.child;case 8:return Ze(e,t,t.pendingProps.children,l),t.child;case 12:return Ze(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,Sl(t,t.type,a.value),Ze(e,t,a.children,l),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,ua(t),i=Fe(i),a=a(i),t.flags|=1,Ze(e,t,a,l),t.child;case 14:return ed(e,t,t.type,t.pendingProps,l);case 15:return Lh(e,t,t.type,t.pendingProps,l);case 19:return Yh(e,t,l);case 31:return a=t.pendingProps,l=t.mode,a={mode:a.mode,children:a.children},e===null?(l=ys(a,l),l.ref=t.ref,t.child=l,l.return=t,t=l):(l=rl(e.child,a),l.ref=t.ref,t.child=l,l.return=t,t=l),t;case 22:return Gh(e,t,l);case 24:return ua(t),a=Fe(Be),e===null?(i=xc(),i===null&&(i=xe,s=vc(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=l),i=s),t.memoizedState={parent:a,cache:i},bc(t),Sl(t,Be,i)):(e.lanes&l&&(yr(e,t),kn(t,null,null,l),Hn()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Sl(t,Be,a)):(a=s.cache,Sl(t,Be,a),a!==i.cache&&gr(t,[Be],l,!0))),Ze(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(R(156,t.tag))}function el(e){e.flags|=4}function sd(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!zg(t)){if(t=Ot.current,t!==null&&((re&4194048)===re?Kt!==null:(re&62914560)!==re&&!(re&536870912)||t!==Kt))throw Rn=pr,Kf;e.flags|=8192}}function Hi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?mf():536870912,e.lanes|=t,Wa|=t)}function bn(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var i=e.child;i!==null;)l|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)l|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function uy(e,t,l){var a=t.pendingProps;switch(yc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Ce(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),cl(Be),$a(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(vn(t)?el(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ku())),Ce(t),null;case 26:return l=t.memoizedState,e===null?(el(t),l!==null?(Ce(t),sd(t,l)):(Ce(t),t.flags&=-16777217)):l?l!==e.memoizedState?(el(t),Ce(t),sd(t,l)):(Ce(t),t.flags&=-16777217):(e.memoizedProps!==a&&el(t),Ce(t),t.flags&=-16777217),null;case 27:ls(t),l=Rl.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&el(t);else{if(!a){if(t.stateNode===null)throw Error(R(166));return Ce(t),null}e=$t.current,vn(t)?Mu(t):(e=Ag(i,a,l),t.stateNode=e,el(t))}return Ce(t),null;case 5:if(ls(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&el(t);else{if(!a){if(t.stateNode===null)throw Error(R(166));return Ce(t),null}if(e=$t.current,vn(t))Mu(t);else{switch(i=ws(Rl.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?i.createElement("select",{is:a.is}):i.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?i.createElement(l,{is:a.is}):i.createElement(l)}}e[Pe]=t,e[ot]=a;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Je(e,l,a),l){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&el(t)}}return Ce(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&el(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(R(166));if(e=Rl.current,vn(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,i=We,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Pe]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||Cg(e.nodeValue,l)),e||ca(t)}else e=ws(e).createTextNode(a),e[Pe]=t,t.stateNode=e}return Ce(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=vn(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[Pe]=t}else hi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),i=!1}else i=ku(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(ol(t),t):(ol(t),null)}if(ol(t),t.flags&128)return t.lanes=l,t;if(l=a!==null,e=e!==null&&e.memoizedState!==null,l){a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool);var s=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)}return l!==e&&l&&(t.child.flags|=8192),Hi(t,t.updateQueue),Ce(t),null;case 4:return $a(),e===null&&Yc(t.stateNode.containerInfo),Ce(t),null;case 10:return cl(t.type),Ce(t),null;case 19:if($e(Le),i=t.memoizedState,i===null)return Ce(t),null;if(a=(t.flags&128)!==0,s=i.rendering,s===null)if(a)bn(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=gs(e),s!==null){for(t.flags|=128,bn(i,!1),e=s.updateQueue,t.updateQueue=e,Hi(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Xf(l,e),l=l.sibling;return Ne(Le,Le.current&1|2),t.child}e=e.sibling}i.tail!==null&&Zt()>xs&&(t.flags|=128,a=!0,bn(i,!1),t.lanes=4194304)}else{if(!a)if(e=gs(s),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Hi(t,e),bn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!de)return Ce(t),null}else 2*Zt()-i.renderingStartTime>xs&&l!==536870912&&(t.flags|=128,a=!0,bn(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Zt(),t.sibling=null,e=Le.current,Ne(Le,a?e&1|2:e&1),t):(Ce(t),null);case 22:case 23:return ol(t),jc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?l&536870912&&!(t.flags&128)&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),l=t.updateQueue,l!==null&&Hi(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&$e(sa),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),cl(Be),Ce(t),null;case 25:return null;case 30:return null}throw Error(R(156,t.tag))}function dy(e,t){switch(yc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cl(Be),$a(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ls(t),null;case 13:if(ol(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $e(Le),null;case 4:return $a(),null;case 10:return cl(t.type),null;case 22:case 23:return ol(t),jc(),e!==null&&$e(sa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return cl(Be),null;case 25:return null;default:return null}}function Xh(e,t){switch(yc(t),t.tag){case 3:cl(Be),$a();break;case 26:case 27:case 5:ls(t);break;case 4:$a();break;case 13:ol(t);break;case 19:$e(Le);break;case 10:cl(t.type);break;case 22:case 23:ol(t),jc(),e!==null&&$e(sa);break;case 24:cl(Be)}}function xi(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var i=a.next;l=i;do{if((l.tag&e)===e){a=void 0;var s=l.create,o=l.inst;a=s(),o.destroy=a}l=l.next}while(l!==i)}}catch(r){ve(t,t.return,r)}}function Vl(e,t,l){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var s=i.next;a=s;do{if((a.tag&e)===e){var o=a.inst,r=o.destroy;if(r!==void 0){o.destroy=void 0,i=t;var c=l,u=r;try{u()}catch(p){ve(i,c,p)}}}a=a.next}while(a!==s)}}catch(p){ve(t,t.return,p)}}function Qh(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Ff(t,l)}catch(a){ve(e,e.return,a)}}}function $h(e,t,l){l.props=fa(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){ve(e,t,a)}}function Bn(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(i){ve(e,t,i)}}function Qt(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(i){ve(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(i){ve(e,t,i)}else l.current=null}function Zh(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(i){ve(e,e.return,i)}}function zo(e,t,l){try{var a=e.stateNode;zy(a,e.type,l,t),a[ot]=t}catch(i){ve(e,e.return,i)}}function Kh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$l(e.type)||e.tag===4}function Ro(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$l(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Er(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Fs));else if(a!==4&&(a===27&&$l(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Er(e,t,l),e=e.sibling;e!==null;)Er(e,t,l),e=e.sibling}function vs(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&$l(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(vs(e,t,l),e=e.sibling;e!==null;)vs(e,t,l),e=e.sibling}function Jh(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Je(t,a,l),t[Pe]=e,t[ot]=l}catch(s){ve(e,e.return,s)}}var ll=!1,Me=!1,Mo=!1,od=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function fy(e,t){if(e=e.containerInfo,Hr=Ts,e=kf(e),fc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{l.nodeType,s.nodeType}catch{l=null;break e}var o=0,r=-1,c=-1,u=0,p=0,d=e,h=null;t:for(;;){for(var v;d!==l||i!==0&&d.nodeType!==3||(r=o+i),d!==s||a!==0&&d.nodeType!==3||(c=o+a),d.nodeType===3&&(o+=d.nodeValue.length),(v=d.firstChild)!==null;)h=d,d=v;for(;;){if(d===e)break t;if(h===l&&++u===i&&(r=o),h===s&&++p===a&&(c=o),(v=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=v}l=r===-1||c===-1?null:{start:r,end:c}}else l=null}l=l||{start:0,end:0}}else l=null;for(kr={focusedElem:e,selectionRange:l},Ts=!1,Ve=t;Ve!==null;)if(t=Ve,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ve=e;else for(;Ve!==null;){switch(t=Ve,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,l=t,i=s.memoizedProps,s=s.memoizedState,a=l.stateNode;try{var b=fa(l.type,i,l.elementType===l.type);e=a.getSnapshotBeforeUpdate(b,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(x){ve(l,l.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Br(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Br(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(R(163))}if(e=t.sibling,e!==null){e.return=t.return,Ve=e;break}Ve=t.return}}function Ph(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:vl(e,l),a&4&&xi(5,l);break;case 1:if(vl(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(o){ve(l,l.return,o)}else{var i=fa(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){ve(l,l.return,o)}}a&64&&Qh(l),a&512&&Bn(l,l.return);break;case 3:if(vl(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Ff(e,t)}catch(o){ve(l,l.return,o)}}break;case 27:t===null&&a&4&&Jh(l);case 26:case 5:vl(e,l),t===null&&a&4&&Zh(l),a&512&&Bn(l,l.return);break;case 12:vl(e,l);break;case 13:vl(e,l),a&4&&Wh(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=jy.bind(null,l),Ly(e,l))));break;case 22:if(a=l.memoizedState!==null||ll,!a){t=t!==null&&t.memoizedState!==null||Me,i=ll;var s=Me;ll=a,(Me=t)&&!s?bl(e,l,(l.subtreeFlags&8772)!==0):vl(e,l),ll=i,Me=s}break;case 30:break;default:vl(e,l)}}function Fh(e){var t=e.alternate;t!==null&&(e.alternate=null,Fh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&sc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Se=null,it=!1;function tl(e,t,l){for(l=l.child;l!==null;)Ih(e,t,l),l=l.sibling}function Ih(e,t,l){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(ri,l)}catch{}switch(l.tag){case 26:Me||Qt(l,t),tl(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Me||Qt(l,t);var a=Se,i=it;$l(l.type)&&(Se=l.stateNode,it=!1),tl(e,t,l),Yn(l.stateNode),Se=a,it=i;break;case 5:Me||Qt(l,t);case 6:if(a=Se,i=it,Se=null,tl(e,t,l),Se=a,it=i,Se!==null)if(it)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(l.stateNode)}catch(s){ve(l,t,s)}else try{Se.removeChild(l.stateNode)}catch(s){ve(l,t,s)}break;case 18:Se!==null&&(it?(e=Se,xd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),li(e)):xd(Se,l.stateNode));break;case 4:a=Se,i=it,Se=l.stateNode.containerInfo,it=!0,tl(e,t,l),Se=a,it=i;break;case 0:case 11:case 14:case 15:Me||Vl(2,l,t),Me||Vl(4,l,t),tl(e,t,l);break;case 1:Me||(Qt(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&$h(l,t,a)),tl(e,t,l);break;case 21:tl(e,t,l);break;case 22:Me=(a=Me)||l.memoizedState!==null,tl(e,t,l),Me=a;break;default:tl(e,t,l)}}function Wh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{li(e)}catch(l){ve(t,t.return,l)}}function hy(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new od),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new od),t;default:throw Error(R(435,e.tag))}}function Ho(e,t){var l=hy(e);t.forEach(function(a){var i=_y.bind(null,e,a);l.has(a)||(l.add(a),a.then(i,i))})}function ct(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var i=l[a],s=e,o=t,r=o;e:for(;r!==null;){switch(r.tag){case 27:if($l(r.type)){Se=r.stateNode,it=!1;break e}break;case 5:Se=r.stateNode,it=!1;break e;case 3:case 4:Se=r.stateNode.containerInfo,it=!0;break e}r=r.return}if(Se===null)throw Error(R(160));Ih(s,o,i),Se=null,it=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)eg(t,e),t=t.sibling}var Ut=null;function eg(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ct(t,e),ut(e),a&4&&(Vl(3,e,e.return),xi(3,e),Vl(5,e,e.return));break;case 1:ct(t,e),ut(e),a&512&&(Me||l===null||Qt(l,l.return)),a&64&&ll&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var i=Ut;if(ct(t,e),ut(e),a&512&&(Me||l===null||Qt(l,l.return)),a&4){var s=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":s=i.getElementsByTagName("title")[0],(!s||s[di]||s[Pe]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),Je(s,a,l),s[Pe]=e,Xe(s),a=s;break e;case"link":var o=wd("link","href",i).get(a+(l.href||""));if(o){for(var r=0;r<o.length;r++)if(s=o[r],s.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&s.getAttribute("rel")===(l.rel==null?null:l.rel)&&s.getAttribute("title")===(l.title==null?null:l.title)&&s.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){o.splice(r,1);break t}}s=i.createElement(a),Je(s,a,l),i.head.appendChild(s);break;case"meta":if(o=wd("meta","content",i).get(a+(l.content||""))){for(r=0;r<o.length;r++)if(s=o[r],s.getAttribute("content")===(l.content==null?null:""+l.content)&&s.getAttribute("name")===(l.name==null?null:l.name)&&s.getAttribute("property")===(l.property==null?null:l.property)&&s.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&s.getAttribute("charset")===(l.charSet==null?null:l.charSet)){o.splice(r,1);break t}}s=i.createElement(a),Je(s,a,l),i.head.appendChild(s);break;default:throw Error(R(468,a))}s[Pe]=e,Xe(s),a=s}e.stateNode=a}else Nd(i,e.type,e.stateNode);else e.stateNode=Sd(i,a,e.memoizedProps);else s!==a?(s===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):s.count--,a===null?Nd(i,e.type,e.stateNode):Sd(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&zo(e,e.memoizedProps,l.memoizedProps)}break;case 27:ct(t,e),ut(e),a&512&&(Me||l===null||Qt(l,l.return)),l!==null&&a&4&&zo(e,e.memoizedProps,l.memoizedProps);break;case 5:if(ct(t,e),ut(e),a&512&&(Me||l===null||Qt(l,l.return)),e.flags&32){i=e.stateNode;try{Ka(i,"")}catch(v){ve(e,e.return,v)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,zo(e,i,l!==null?l.memoizedProps:i)),a&1024&&(Mo=!0);break;case 6:if(ct(t,e),ut(e),a&4){if(e.stateNode===null)throw Error(R(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(v){ve(e,e.return,v)}}break;case 3:if(Ii=null,i=Ut,Ut=Ns(t.containerInfo),ct(t,e),Ut=i,ut(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{li(t.containerInfo)}catch(v){ve(e,e.return,v)}Mo&&(Mo=!1,tg(e));break;case 4:a=Ut,Ut=Ns(e.stateNode.containerInfo),ct(t,e),ut(e),Ut=a;break;case 12:ct(t,e),ut(e);break;case 13:ct(t,e),ut(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Lc=Zt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ho(e,a)));break;case 22:i=e.memoizedState!==null;var c=l!==null&&l.memoizedState!==null,u=ll,p=Me;if(ll=u||i,Me=p||c,ct(t,e),Me=p,ll=u,ut(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(l===null||c||ll||Me||ta(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){c=l=t;try{if(s=c.stateNode,i)o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{r=c.stateNode;var d=c.memoizedProps.style,h=d!=null&&d.hasOwnProperty("display")?d.display:null;r.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){ve(c,c.return,v)}}}else if(t.tag===6){if(l===null){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(v){ve(c,c.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Ho(e,l))));break;case 19:ct(t,e),ut(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ho(e,a)));break;case 30:break;case 21:break;default:ct(t,e),ut(e)}}function ut(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Kh(a)){l=a;break}a=a.return}if(l==null)throw Error(R(160));switch(l.tag){case 27:var i=l.stateNode,s=Ro(e);vs(e,s,i);break;case 5:var o=l.stateNode;l.flags&32&&(Ka(o,""),l.flags&=-33);var r=Ro(e);vs(e,r,o);break;case 3:case 4:var c=l.stateNode.containerInfo,u=Ro(e);Er(e,u,c);break;default:throw Error(R(161))}}catch(p){ve(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;tg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ph(e,t.alternate,t),t=t.sibling}function ta(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vl(4,t,t.return),ta(t);break;case 1:Qt(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&$h(t,t.return,l),ta(t);break;case 27:Yn(t.stateNode);case 26:case 5:Qt(t,t.return),ta(t);break;case 22:t.memoizedState===null&&ta(t);break;case 30:ta(t);break;default:ta(t)}e=e.sibling}}function bl(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:bl(i,s,l),xi(4,s);break;case 1:if(bl(i,s,l),a=s,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){ve(a,a.return,u)}if(a=s,i=a.updateQueue,i!==null){var r=a.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Pf(c[i],r)}catch(u){ve(a,a.return,u)}}l&&o&64&&Qh(s),Bn(s,s.return);break;case 27:Jh(s);case 26:case 5:bl(i,s,l),l&&a===null&&o&4&&Zh(s),Bn(s,s.return);break;case 12:bl(i,s,l);break;case 13:bl(i,s,l),l&&o&4&&Wh(i,s);break;case 22:s.memoizedState===null&&bl(i,s,l),Bn(s,s.return);break;case 30:break;default:bl(i,s,l)}t=t.sibling}}function Hc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&mi(l))}function kc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&mi(e))}function qt(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lg(e,t,l,a),t=t.sibling}function lg(e,t,l,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:qt(e,t,l,a),i&2048&&xi(9,t);break;case 1:qt(e,t,l,a);break;case 3:qt(e,t,l,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&mi(e)));break;case 12:if(i&2048){qt(e,t,l,a),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,r=s.onPostCommit;typeof r=="function"&&r(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){ve(t,t.return,c)}}else qt(e,t,l,a);break;case 13:qt(e,t,l,a);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,t.memoizedState!==null?s._visibility&2?qt(e,t,l,a):Ln(e,t):s._visibility&2?qt(e,t,l,a):(s._visibility|=2,Sa(e,t,l,a,(t.subtreeFlags&10256)!==0)),i&2048&&Hc(o,t);break;case 24:qt(e,t,l,a),i&2048&&kc(t.alternate,t);break;default:qt(e,t,l,a)}}function Sa(e,t,l,a,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,o=t,r=l,c=a,u=o.flags;switch(o.tag){case 0:case 11:case 15:Sa(s,o,r,c,i),xi(8,o);break;case 23:break;case 22:var p=o.stateNode;o.memoizedState!==null?p._visibility&2?Sa(s,o,r,c,i):Ln(s,o):(p._visibility|=2,Sa(s,o,r,c,i)),i&&u&2048&&Hc(o.alternate,o);break;case 24:Sa(s,o,r,c,i),i&&u&2048&&kc(o.alternate,o);break;default:Sa(s,o,r,c,i)}t=t.sibling}}function Ln(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,i=a.flags;switch(a.tag){case 22:Ln(l,a),i&2048&&Hc(a.alternate,a);break;case 24:Ln(l,a),i&2048&&kc(a.alternate,a);break;default:Ln(l,a)}t=t.sibling}}var En=8192;function xa(e){if(e.subtreeFlags&En)for(e=e.child;e!==null;)ag(e),e=e.sibling}function ag(e){switch(e.tag){case 26:xa(e),e.flags&En&&e.memoizedState!==null&&Iy(Ut,e.memoizedState,e.memoizedProps);break;case 5:xa(e);break;case 3:case 4:var t=Ut;Ut=Ns(e.stateNode.containerInfo),xa(e),Ut=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=En,En=16777216,xa(e),En=t):xa(e));break;default:xa(e)}}function ng(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function jn(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Ve=a,sg(a,e)}ng(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ig(e),e=e.sibling}function ig(e){switch(e.tag){case 0:case 11:case 15:jn(e),e.flags&2048&&Vl(9,e,e.return);break;case 3:jn(e);break;case 12:jn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Pi(e)):jn(e);break;default:jn(e)}}function Pi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Ve=a,sg(a,e)}ng(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Vl(8,t,t.return),Pi(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Pi(t));break;default:Pi(t)}e=e.sibling}}function sg(e,t){for(;Ve!==null;){var l=Ve;switch(l.tag){case 0:case 11:case 15:Vl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:mi(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Ve=a;else e:for(l=e;Ve!==null;){a=Ve;var i=a.sibling,s=a.return;if(Fh(a),a===l){Ve=null;break e}if(i!==null){i.return=s,Ve=i;break e}Ve=s}}}var gy={getCacheForType:function(e){var t=Fe(Be),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l}},my=typeof WeakMap=="function"?WeakMap:Map,ge=0,xe=null,oe=null,re=0,he=0,ht=null,Al=!1,un=!1,Uc=!1,hl=0,Ae=0,Xl=0,oa=0,Bc=0,Tt=0,Wa=0,Gn=null,st=null,Tr=!1,Lc=0,xs=1/0,bs=null,kl=null,Ke=0,Ul=null,en=null,Qa=0,Ar=0,Or=null,og=null,qn=0,Dr=null;function yt(){if(ge&2&&re!==0)return re&-re;if(F.T!==null){var e=Ja;return e!==0?e:qc()}return vf()}function rg(){Tt===0&&(Tt=!(re&536870912)||de?gf():536870912);var e=Ot.current;return e!==null&&(e.flags|=32),Tt}function vt(e,t,l){(e===xe&&(he===2||he===9)||e.cancelPendingCommit!==null)&&(tn(e,0),Ol(e,re,Tt,!1)),ui(e,l),(!(ge&2)||e!==xe)&&(e===xe&&(!(ge&2)&&(oa|=l),Ae===4&&Ol(e,re,Tt,!1)),Pt(e))}function cg(e,t,l){if(ge&6)throw Error(R(327));var a=!l&&(t&124)===0&&(t&e.expiredLanes)===0||ci(e,t),i=a?vy(e,t):ko(e,t,!0),s=a;do{if(i===0){un&&!a&&Ol(e,t,0,!1);break}else{if(l=e.current.alternate,s&&!py(l)){i=ko(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var r=e;i=Gn;var c=r.current.memoizedState.isDehydrated;if(c&&(tn(r,o).flags|=256),o=ko(r,o,!1),o!==2){if(Uc&&!c){r.errorRecoveryDisabledLanes|=s,oa|=s,i=4;break e}s=st,st=i,s!==null&&(st===null?st=s:st.push.apply(st,s))}i=o}if(s=!1,i!==2)continue}}if(i===1){tn(e,0),Ol(e,t,0,!0);break}e:{switch(a=e,s=i,s){case 0:case 1:throw Error(R(345));case 4:if((t&4194048)!==t)break;case 6:Ol(a,t,Tt,!Al);break e;case 2:st=null;break;case 3:case 5:break;default:throw Error(R(329))}if((t&62914560)===t&&(i=Lc+300-Zt(),10<i)){if(Ol(a,t,Tt,!Al),Bs(a,0,!0)!==0)break e;a.timeoutHandle=Tg(rd.bind(null,a,l,st,bs,Tr,t,Tt,oa,Wa,Al,s,2,-0,0),i);break e}rd(a,l,st,bs,Tr,t,Tt,oa,Wa,Al,s,0,-0,0)}}break}while(1);Pt(e)}function rd(e,t,l,a,i,s,o,r,c,u,p,d,h,v){if(e.timeoutHandle=-1,d=t.subtreeFlags,(d&8192||(d&16785408)===16785408)&&(In={stylesheets:null,count:0,unsuspend:Fy},ag(t),d=Wy(),d!==null)){e.cancelPendingCommit=d(ud.bind(null,e,t,s,l,a,i,o,r,c,p,1,h,v)),Ol(e,s,o,!u);return}ud(e,t,s,l,a,i,o,r,c)}function py(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var i=l[a],s=i.getSnapshot;i=i.value;try{if(!xt(s(),i))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ol(e,t,l,a){t&=~Bc,t&=~oa,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var s=31-pt(i),o=1<<s;a[s]=-1,i&=~o}l!==0&&pf(e,l,t)}function Ks(){return ge&6?!0:(bi(0,!1),!1)}function Gc(){if(oe!==null){if(he===0)var e=oe.return;else e=oe,sl=pa=null,Cc(e),Xa=null,Jn=0,e=oe;for(;e!==null;)Xh(e.alternate,e),e=e.return;oe=null}}function tn(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,My(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Gc(),xe=e,oe=l=rl(e.current,null),re=t,he=0,ht=null,Al=!1,un=ci(e,t),Uc=!1,Wa=Tt=Bc=oa=Xl=Ae=0,st=Gn=null,Tr=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-pt(a),s=1<<i;t|=e[i],a&=~s}return hl=t,Ys(),l}function ug(e,t){ne=null,F.H=hs,t===pi||t===Xs?(t=Gu(),he=3):t===Kf?(t=Gu(),he=4):he=t===Bh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ht=t,oe===null&&(Ae=1,ps(e,Ct(t,e.current)))}function dg(){var e=F.H;return F.H=hs,e===null?hs:e}function fg(){var e=F.A;return F.A=gy,e}function zr(){Ae=4,Al||(re&4194048)!==re&&Ot.current!==null||(un=!0),!(Xl&134217727)&&!(oa&134217727)||xe===null||Ol(xe,re,Tt,!1)}function ko(e,t,l){var a=ge;ge|=2;var i=dg(),s=fg();(xe!==e||re!==t)&&(bs=null,tn(e,t)),t=!1;var o=Ae;e:do try{if(he!==0&&oe!==null){var r=oe,c=ht;switch(he){case 8:Gc(),o=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(t=!0);var u=he;if(he=0,ht=null,Ua(e,r,c,u),l&&un){o=0;break e}break;default:u=he,he=0,ht=null,Ua(e,r,c,u)}}yy(),o=Ae;break}catch(p){ug(e,p)}while(1);return t&&e.shellSuspendCounter++,sl=pa=null,ge=a,F.H=i,F.A=s,oe===null&&(xe=null,re=0,Ys()),o}function yy(){for(;oe!==null;)hg(oe)}function vy(e,t){var l=ge;ge|=2;var a=dg(),i=fg();xe!==e||re!==t?(bs=null,xs=Zt()+500,tn(e,t)):un=ci(e,t);e:do try{if(he!==0&&oe!==null){t=oe;var s=ht;t:switch(he){case 1:he=0,ht=null,Ua(e,t,s,1);break;case 2:case 9:if(Lu(s)){he=0,ht=null,cd(t);break}t=function(){he!==2&&he!==9||xe!==e||(he=7),Pt(e)},s.then(t,t);break e;case 3:he=7;break e;case 4:he=5;break e;case 7:Lu(s)?(he=0,ht=null,cd(t)):(he=0,ht=null,Ua(e,t,s,7));break;case 5:var o=null;switch(oe.tag){case 26:o=oe.memoizedState;case 5:case 27:var r=oe;if(!o||zg(o)){he=0,ht=null;var c=r.sibling;if(c!==null)oe=c;else{var u=r.return;u!==null?(oe=u,Js(u)):oe=null}break t}}he=0,ht=null,Ua(e,t,s,5);break;case 6:he=0,ht=null,Ua(e,t,s,6);break;case 8:Gc(),Ae=6;break e;default:throw Error(R(462))}}xy();break}catch(p){ug(e,p)}while(1);return sl=pa=null,F.H=a,F.A=i,ge=l,oe!==null?0:(xe=null,re=0,Ys(),Ae)}function xy(){for(;oe!==null&&!qm();)hg(oe)}function hg(e){var t=Vh(e.alternate,e,hl);e.memoizedProps=e.pendingProps,t===null?Js(e):oe=t}function cd(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=ld(l,t,t.pendingProps,t.type,void 0,re);break;case 11:t=ld(l,t,t.pendingProps,t.type.render,t.ref,re);break;case 5:Cc(t);default:Xh(l,t),t=oe=Xf(t,hl),t=Vh(l,t,hl)}e.memoizedProps=e.pendingProps,t===null?Js(e):oe=t}function Ua(e,t,l,a){sl=pa=null,Cc(t),Xa=null,Jn=0;var i=t.return;try{if(ry(e,i,t,l,re)){Ae=1,ps(e,Ct(l,e.current)),oe=null;return}}catch(s){if(i!==null)throw oe=i,s;Ae=1,ps(e,Ct(l,e.current)),oe=null;return}t.flags&32768?(de||a===1?e=!0:un||re&536870912?e=!1:(Al=e=!0,(a===2||a===9||a===3||a===6)&&(a=Ot.current,a!==null&&a.tag===13&&(a.flags|=16384))),gg(t,e)):Js(t)}function Js(e){var t=e;do{if(t.flags&32768){gg(t,Al);return}e=t.return;var l=uy(t.alternate,t,hl);if(l!==null){oe=l;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);Ae===0&&(Ae=5)}function gg(e,t){do{var l=dy(e.alternate,e);if(l!==null){l.flags&=32767,oe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){oe=e;return}oe=e=l}while(e!==null);Ae=6,oe=null}function ud(e,t,l,a,i,s,o,r,c){e.cancelPendingCommit=null;do Ps();while(Ke!==0);if(ge&6)throw Error(R(327));if(t!==null){if(t===e.current)throw Error(R(177));if(s=t.lanes|t.childLanes,s|=hc,Fm(e,l,s,o,r,c),e===xe&&(oe=xe=null,re=0),en=t,Ul=e,Qa=l,Ar=s,Or=i,og=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Sy(as,function(){return xg(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=F.T,F.T=null,i=fe.p,fe.p=2,o=ge,ge|=4;try{fy(e,t,l)}finally{ge=o,fe.p=i,F.T=a}}Ke=1,mg(),pg(),yg()}}function mg(){if(Ke===1){Ke=0;var e=Ul,t=en,l=(t.flags&13878)!==0;if(t.subtreeFlags&13878||l){l=F.T,F.T=null;var a=fe.p;fe.p=2;var i=ge;ge|=4;try{eg(t,e);var s=kr,o=kf(e.containerInfo),r=s.focusedElem,c=s.selectionRange;if(o!==r&&r&&r.ownerDocument&&Hf(r.ownerDocument.documentElement,r)){if(c!==null&&fc(r)){var u=c.start,p=c.end;if(p===void 0&&(p=u),"selectionStart"in r)r.selectionStart=u,r.selectionEnd=Math.min(p,r.value.length);else{var d=r.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var v=h.getSelection(),b=r.textContent.length,x=Math.min(c.start,b),w=c.end===void 0?x:Math.min(c.end,b);!v.extend&&x>w&&(o=w,w=x,x=o);var f=Du(r,x),g=Du(r,w);if(f&&g&&(v.rangeCount!==1||v.anchorNode!==f.node||v.anchorOffset!==f.offset||v.focusNode!==g.node||v.focusOffset!==g.offset)){var y=d.createRange();y.setStart(f.node,f.offset),v.removeAllRanges(),x>w?(v.addRange(y),v.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),v.addRange(y))}}}}for(d=[],v=r;v=v.parentNode;)v.nodeType===1&&d.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<d.length;r++){var j=d[r];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}Ts=!!Hr,kr=Hr=null}finally{ge=i,fe.p=a,F.T=l}}e.current=t,Ke=2}}function pg(){if(Ke===2){Ke=0;var e=Ul,t=en,l=(t.flags&8772)!==0;if(t.subtreeFlags&8772||l){l=F.T,F.T=null;var a=fe.p;fe.p=2;var i=ge;ge|=4;try{Ph(e,t.alternate,t)}finally{ge=i,fe.p=a,F.T=l}}Ke=3}}function yg(){if(Ke===4||Ke===3){Ke=0,Ym();var e=Ul,t=en,l=Qa,a=og;t.subtreeFlags&10256||t.flags&10256?Ke=5:(Ke=0,en=Ul=null,vg(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(kl=null),ic(l),t=t.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(ri,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=F.T,i=fe.p,fe.p=2,F.T=null;try{for(var s=e.onRecoverableError,o=0;o<a.length;o++){var r=a[o];s(r.value,{componentStack:r.stack})}}finally{F.T=t,fe.p=i}}Qa&3&&Ps(),Pt(e),i=e.pendingLanes,l&4194090&&i&42?e===Dr?qn++:(qn=0,Dr=e):qn=0,bi(0,!1)}}function vg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,mi(t)))}function Ps(e){return mg(),pg(),yg(),xg()}function xg(){if(Ke!==5)return!1;var e=Ul,t=Ar;Ar=0;var l=ic(Qa),a=F.T,i=fe.p;try{fe.p=32>l?32:l,F.T=null,l=Or,Or=null;var s=Ul,o=Qa;if(Ke=0,en=Ul=null,Qa=0,ge&6)throw Error(R(331));var r=ge;if(ge|=4,ig(s.current),lg(s,s.current,o,l),ge=r,bi(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(ri,s)}catch{}return!0}finally{fe.p=i,F.T=a,vg(e,t)}}function dd(e,t,l){t=Ct(l,t),t=wr(e.stateNode,t,2),e=Hl(e,t,2),e!==null&&(ui(e,2),Pt(e))}function ve(e,t,l){if(e.tag===3)dd(e,e,l);else for(;t!==null;){if(t.tag===3){dd(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(kl===null||!kl.has(a))){e=Ct(l,e),l=kh(2),a=Hl(t,l,2),a!==null&&(Uh(l,a,t,e),ui(a,2),Pt(a));break}}t=t.return}}function Uo(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new my;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(l)||(Uc=!0,i.add(l),e=by.bind(null,e,t,l),t.then(e,e))}function by(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,xe===e&&(re&l)===l&&(Ae===4||Ae===3&&(re&62914560)===re&&300>Zt()-Lc?!(ge&2)&&tn(e,0):Bc|=l,Wa===re&&(Wa=0)),Pt(e)}function bg(e,t){t===0&&(t=mf()),e=cn(e,t),e!==null&&(ui(e,t),Pt(e))}function jy(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),bg(e,l)}function _y(e,t){var l=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(l=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(R(314))}a!==null&&a.delete(t),bg(e,l)}function Sy(e,t){return ac(e,t)}var js=null,wa=null,Rr=!1,_s=!1,Bo=!1,ra=0;function Pt(e){e!==wa&&e.next===null&&(wa===null?js=wa=e:wa=wa.next=e),_s=!0,Rr||(Rr=!0,Ny())}function bi(e,t){if(!Bo&&_s){Bo=!0;do for(var l=!1,a=js;a!==null;){if(!t)if(e!==0){var i=a.pendingLanes;if(i===0)var s=0;else{var o=a.suspendedLanes,r=a.pingedLanes;s=(1<<31-pt(42|e)+1)-1,s&=i&~(o&~r),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(l=!0,fd(a,s))}else s=re,s=Bs(a,a===xe?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(s&3)||ci(a,s)||(l=!0,fd(a,s));a=a.next}while(l);Bo=!1}}function wy(){jg()}function jg(){_s=Rr=!1;var e=0;ra!==0&&(Ry()&&(e=ra),ra=0);for(var t=Zt(),l=null,a=js;a!==null;){var i=a.next,s=_g(a,t);s===0?(a.next=null,l===null?js=i:l.next=i,i===null&&(wa=l)):(l=a,(e!==0||s&3)&&(_s=!0)),a=i}bi(e,!1)}function _g(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var o=31-pt(s),r=1<<o,c=i[o];c===-1?(!(r&l)||r&a)&&(i[o]=Pm(r,t)):c<=t&&(e.expiredLanes|=r),s&=~r}if(t=xe,l=re,l=Bs(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(he===2||he===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&co(a),e.callbackNode=null,e.callbackPriority=0;if(!(l&3)||ci(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&co(a),ic(l)){case 2:case 8:l=ff;break;case 32:l=as;break;case 268435456:l=hf;break;default:l=as}return a=Sg.bind(null,e),l=ac(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&co(a),e.callbackPriority=2,e.callbackNode=null,2}function Sg(e,t){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ps()&&e.callbackNode!==l)return null;var a=re;return a=Bs(e,e===xe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(cg(e,a,t),_g(e,Zt()),e.callbackNode!=null&&e.callbackNode===l?Sg.bind(null,e):null)}function fd(e,t){if(Ps())return null;cg(e,t,!0)}function Ny(){Hy(function(){ge&6?ac(df,wy):jg()})}function qc(){return ra===0&&(ra=gf()),ra}function hd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yi(""+e)}function gd(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Cy(e,t,l,a,i){if(t==="submit"&&l&&l.stateNode===i){var s=hd((i[ot]||null).action),o=a.submitter;o&&(t=(t=o[ot]||null)?hd(t.formAction):o.getAttribute("formAction"),t!==null&&(s=t,o=null));var r=new Ls("action","action",null,a,i);e.push({event:r,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ra!==0){var c=o?gd(i,o):new FormData(i);_r(l,{pending:!0,data:c,method:i.method,action:s},null,c)}}else typeof s=="function"&&(r.preventDefault(),c=o?gd(i,o):new FormData(i),_r(l,{pending:!0,data:c,method:i.method,action:s},s,c))},currentTarget:i}]})}}for(var Lo=0;Lo<ur.length;Lo++){var Go=ur[Lo],Ey=Go.toLowerCase(),Ty=Go[0].toUpperCase()+Go.slice(1);Lt(Ey,"on"+Ty)}Lt(Bf,"onAnimationEnd");Lt(Lf,"onAnimationIteration");Lt(Gf,"onAnimationStart");Lt("dblclick","onDoubleClick");Lt("focusin","onFocus");Lt("focusout","onBlur");Lt(Qp,"onTransitionRun");Lt($p,"onTransitionStart");Lt(Zp,"onTransitionCancel");Lt(qf,"onTransitionEnd");Za("onMouseEnter",["mouseout","mouseover"]);Za("onMouseLeave",["mouseout","mouseover"]);Za("onPointerEnter",["pointerout","pointerover"]);Za("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ay=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pn));function wg(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var o=a.length-1;0<=o;o--){var r=a[o],c=r.instance,u=r.currentTarget;if(r=r.listener,c!==s&&i.isPropagationStopped())break e;s=r,i.currentTarget=u;try{s(i)}catch(p){ms(p)}i.currentTarget=null,s=c}else for(o=0;o<a.length;o++){if(r=a[o],c=r.instance,u=r.currentTarget,r=r.listener,c!==s&&i.isPropagationStopped())break e;s=r,i.currentTarget=u;try{s(i)}catch(p){ms(p)}i.currentTarget=null,s=c}}}}function se(e,t){var l=t[ar];l===void 0&&(l=t[ar]=new Set);var a=e+"__bubble";l.has(a)||(Ng(t,e,2,!1),l.add(a))}function qo(e,t,l){var a=0;t&&(a|=4),Ng(l,e,a,t)}var ki="_reactListening"+Math.random().toString(36).slice(2);function Yc(e){if(!e[ki]){e[ki]=!0,xf.forEach(function(l){l!=="selectionchange"&&(Ay.has(l)||qo(l,!1,e),qo(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ki]||(t[ki]=!0,qo("selectionchange",!1,t))}}function Ng(e,t,l,a){switch(Ug(t)){case 2:var i=lv;break;case 8:i=av;break;default:i=$c}l=i.bind(null,t,l,e),i=void 0,!or||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,l,{capture:!0,passive:i}):e.addEventListener(t,l,!0):i!==void 0?e.addEventListener(t,l,{passive:i}):e.addEventListener(t,l,!1)}function Yo(e,t,l,a,i){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var r=a.stateNode.containerInfo;if(r===i)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;r!==null;){if(o=Ta(r),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){a=s=o;continue e}r=r.parentNode}}a=a.return}Ef(function(){var u=s,p=rc(l),d=[];e:{var h=Yf.get(e);if(h!==void 0){var v=Ls,b=e;switch(e){case"keypress":if(Xi(l)===0)break e;case"keydown":case"keyup":v=Sp;break;case"focusin":b="focus",v=vo;break;case"focusout":b="blur",v=vo;break;case"beforeblur":case"afterblur":v=vo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Cp;break;case Bf:case Lf:case Gf:v=gp;break;case qf:v=Tp;break;case"scroll":case"scrollend":v=cp;break;case"wheel":v=Op;break;case"copy":case"cut":case"paste":v=pp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Su;break;case"toggle":case"beforetoggle":v=zp}var x=(t&4)!==0,w=!x&&(e==="scroll"||e==="scrollend"),f=x?h!==null?h+"Capture":null:h;x=[];for(var g=u,y;g!==null;){var j=g;if(y=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||y===null||f===null||(j=Xn(g,f),j!=null&&x.push(Fn(g,j,y))),w)break;g=g.return}0<x.length&&(h=new v(h,b,null,l,p),d.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&l!==sr&&(b=l.relatedTarget||l.fromElement)&&(Ta(b)||b[on]))break e;if((v||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,v?(b=l.relatedTarget||l.toElement,v=u,b=b?Ta(b):null,b!==null&&(w=oi(b),x=b.tag,b!==w||x!==5&&x!==27&&x!==6)&&(b=null)):(v=null,b=u),v!==b)){if(x=ju,j="onMouseLeave",f="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=Su,j="onPointerLeave",f="onPointerEnter",g="pointer"),w=v==null?h:Cn(v),y=b==null?h:Cn(b),h=new x(j,g+"leave",v,l,p),h.target=w,h.relatedTarget=y,j=null,Ta(p)===u&&(x=new x(f,g+"enter",b,l,p),x.target=y,x.relatedTarget=w,j=x),w=j,v&&b)t:{for(x=v,f=b,g=0,y=x;y;y=ba(y))g++;for(y=0,j=f;j;j=ba(j))y++;for(;0<g-y;)x=ba(x),g--;for(;0<y-g;)f=ba(f),y--;for(;g--;){if(x===f||f!==null&&x===f.alternate)break t;x=ba(x),f=ba(f)}x=null}else x=null;v!==null&&md(d,h,v,x,!1),b!==null&&w!==null&&md(d,w,b,x,!0)}}e:{if(h=u?Cn(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var M=Eu;else if(Cu(h))if(Rf)M=Yp;else{M=Gp;var O=Lp}else v=h.nodeName,!v||v.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&oc(u.elementType)&&(M=Eu):M=qp;if(M&&(M=M(e,u))){zf(d,M,l,p);break e}O&&O(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&ir(h,"number",h.value)}switch(O=u?Cn(u):window,e){case"focusin":(Cu(O)||O.contentEditable==="true")&&(Da=O,rr=u,Dn=null);break;case"focusout":Dn=rr=Da=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,zu(d,l,p);break;case"selectionchange":if(Xp)break;case"keydown":case"keyup":zu(d,l,p)}var C;if(dc)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Oa?Of(e,l)&&(N="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(N="onCompositionStart");N&&(Af&&l.locale!=="ko"&&(Oa||N!=="onCompositionStart"?N==="onCompositionEnd"&&Oa&&(C=Tf()):(Tl=p,cc="value"in Tl?Tl.value:Tl.textContent,Oa=!0)),O=Ss(u,N),0<O.length&&(N=new _u(N,e,null,l,p),d.push({event:N,listeners:O}),C?N.data=C:(C=Df(l),C!==null&&(N.data=C)))),(C=Mp?Hp(e,l):kp(e,l))&&(N=Ss(u,"onBeforeInput"),0<N.length&&(O=new _u("onBeforeInput","beforeinput",null,l,p),d.push({event:O,listeners:N}),O.data=C)),Cy(d,e,u,l,p)}wg(d,t)})}function Fn(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Ss(e,t){for(var l=t+"Capture",a=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Xn(e,l),i!=null&&a.unshift(Fn(e,i,s)),i=Xn(e,t),i!=null&&a.push(Fn(e,i,s))),e.tag===3)return a;e=e.return}return[]}function ba(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function md(e,t,l,a,i){for(var s=t._reactName,o=[];l!==null&&l!==a;){var r=l,c=r.alternate,u=r.stateNode;if(r=r.tag,c!==null&&c===a)break;r!==5&&r!==26&&r!==27||u===null||(c=u,i?(u=Xn(l,s),u!=null&&o.unshift(Fn(l,u,c))):i||(u=Xn(l,s),u!=null&&o.push(Fn(l,u,c)))),l=l.return}o.length!==0&&e.push({event:t,listeners:o})}var Oy=/\r\n?/g,Dy=/\u0000|\uFFFD/g;function pd(e){return(typeof e=="string"?e:""+e).replace(Oy,`
`).replace(Dy,"")}function Cg(e,t){return t=pd(t),pd(e)===t}function Fs(){}function pe(e,t,l,a,i,s){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ka(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ka(e,""+a);break;case"className":Ai(e,"class",a);break;case"tabIndex":Ai(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ai(e,l,a);break;case"style":Cf(e,a,s);break;case"data":if(t!=="object"){Ai(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Yi(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(l==="formAction"?(t!=="input"&&pe(e,t,"name",i.name,i,null),pe(e,t,"formEncType",i.formEncType,i,null),pe(e,t,"formMethod",i.formMethod,i,null),pe(e,t,"formTarget",i.formTarget,i,null)):(pe(e,t,"encType",i.encType,i,null),pe(e,t,"method",i.method,i,null),pe(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Yi(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Fs);break;case"onScroll":a!=null&&se("scroll",e);break;case"onScrollEnd":a!=null&&se("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(R(61));if(l=a.__html,l!=null){if(i.children!=null)throw Error(R(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Yi(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":se("beforetoggle",e),se("toggle",e),qi(e,"popover",a);break;case"xlinkActuate":Wt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Wt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Wt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Wt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Wt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Wt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":qi(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=op.get(l)||l,qi(e,l,a))}}function Mr(e,t,l,a,i,s){switch(l){case"style":Cf(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(R(61));if(l=a.__html,l!=null){if(i.children!=null)throw Error(R(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Ka(e,a):(typeof a=="number"||typeof a=="bigint")&&Ka(e,""+a);break;case"onScroll":a!=null&&se("scroll",e);break;case"onScrollEnd":a!=null&&se("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Fs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bf.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(i=l.endsWith("Capture"),t=l.slice(2,i?l.length-7:void 0),s=e[ot]||null,s=s!=null?s[l]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof a=="function")){typeof s!="function"&&s!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,i);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):qi(e,l,a)}}}function Je(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",e),se("load",e);var a=!1,i=!1,s;for(s in l)if(l.hasOwnProperty(s)){var o=l[s];if(o!=null)switch(s){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(R(137,t));default:pe(e,t,s,o,l,null)}}i&&pe(e,t,"srcSet",l.srcSet,l,null),a&&pe(e,t,"src",l.src,l,null);return;case"input":se("invalid",e);var r=s=o=i=null,c=null,u=null;for(a in l)if(l.hasOwnProperty(a)){var p=l[a];if(p!=null)switch(a){case"name":i=p;break;case"type":o=p;break;case"checked":c=p;break;case"defaultChecked":u=p;break;case"value":s=p;break;case"defaultValue":r=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(R(137,t));break;default:pe(e,t,a,p,l,null)}}Sf(e,s,r,c,u,o,i,!1),ns(e);return;case"select":se("invalid",e),a=o=s=null;for(i in l)if(l.hasOwnProperty(i)&&(r=l[i],r!=null))switch(i){case"value":s=r;break;case"defaultValue":o=r;break;case"multiple":a=r;default:pe(e,t,i,r,l,null)}t=s,l=o,e.multiple=!!a,t!=null?La(e,!!a,t,!1):l!=null&&La(e,!!a,l,!0);return;case"textarea":se("invalid",e),s=i=a=null;for(o in l)if(l.hasOwnProperty(o)&&(r=l[o],r!=null))switch(o){case"value":a=r;break;case"defaultValue":i=r;break;case"children":s=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(R(91));break;default:pe(e,t,o,r,l,null)}Nf(e,a,i,s),ns(e);return;case"option":for(c in l)if(l.hasOwnProperty(c)&&(a=l[c],a!=null))switch(c){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:pe(e,t,c,a,l,null)}return;case"dialog":se("beforetoggle",e),se("toggle",e),se("cancel",e),se("close",e);break;case"iframe":case"object":se("load",e);break;case"video":case"audio":for(a=0;a<Pn.length;a++)se(Pn[a],e);break;case"image":se("error",e),se("load",e);break;case"details":se("toggle",e);break;case"embed":case"source":case"link":se("error",e),se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in l)if(l.hasOwnProperty(u)&&(a=l[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(R(137,t));default:pe(e,t,u,a,l,null)}return;default:if(oc(t)){for(p in l)l.hasOwnProperty(p)&&(a=l[p],a!==void 0&&Mr(e,t,p,a,l,void 0));return}}for(r in l)l.hasOwnProperty(r)&&(a=l[r],a!=null&&pe(e,t,r,a,l,null))}function zy(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,r=null,c=null,u=null,p=null;for(v in l){var d=l[v];if(l.hasOwnProperty(v)&&d!=null)switch(v){case"checked":break;case"value":break;case"defaultValue":c=d;default:a.hasOwnProperty(v)||pe(e,t,v,null,a,d)}}for(var h in a){var v=a[h];if(d=l[h],a.hasOwnProperty(h)&&(v!=null||d!=null))switch(h){case"type":s=v;break;case"name":i=v;break;case"checked":u=v;break;case"defaultChecked":p=v;break;case"value":o=v;break;case"defaultValue":r=v;break;case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(R(137,t));break;default:v!==d&&pe(e,t,h,v,a,d)}}nr(e,o,r,c,u,p,s,i);return;case"select":v=o=r=h=null;for(s in l)if(c=l[s],l.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":v=c;default:a.hasOwnProperty(s)||pe(e,t,s,null,a,c)}for(i in a)if(s=a[i],c=l[i],a.hasOwnProperty(i)&&(s!=null||c!=null))switch(i){case"value":h=s;break;case"defaultValue":r=s;break;case"multiple":o=s;default:s!==c&&pe(e,t,i,s,a,c)}t=r,l=o,a=v,h!=null?La(e,!!l,h,!1):!!a!=!!l&&(t!=null?La(e,!!l,t,!0):La(e,!!l,l?[]:"",!1));return;case"textarea":v=h=null;for(r in l)if(i=l[r],l.hasOwnProperty(r)&&i!=null&&!a.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:pe(e,t,r,null,a,i)}for(o in a)if(i=a[o],s=l[o],a.hasOwnProperty(o)&&(i!=null||s!=null))switch(o){case"value":h=i;break;case"defaultValue":v=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(R(91));break;default:i!==s&&pe(e,t,o,i,a,s)}wf(e,h,v);return;case"option":for(var b in l)if(h=l[b],l.hasOwnProperty(b)&&h!=null&&!a.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:pe(e,t,b,null,a,h)}for(c in a)if(h=a[c],v=l[c],a.hasOwnProperty(c)&&h!==v&&(h!=null||v!=null))switch(c){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:pe(e,t,c,h,a,v)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in l)h=l[x],l.hasOwnProperty(x)&&h!=null&&!a.hasOwnProperty(x)&&pe(e,t,x,null,a,h);for(u in a)if(h=a[u],v=l[u],a.hasOwnProperty(u)&&h!==v&&(h!=null||v!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(R(137,t));break;default:pe(e,t,u,h,a,v)}return;default:if(oc(t)){for(var w in l)h=l[w],l.hasOwnProperty(w)&&h!==void 0&&!a.hasOwnProperty(w)&&Mr(e,t,w,void 0,a,h);for(p in a)h=a[p],v=l[p],!a.hasOwnProperty(p)||h===v||h===void 0&&v===void 0||Mr(e,t,p,h,a,v);return}}for(var f in l)h=l[f],l.hasOwnProperty(f)&&h!=null&&!a.hasOwnProperty(f)&&pe(e,t,f,null,a,h);for(d in a)h=a[d],v=l[d],!a.hasOwnProperty(d)||h===v||h==null&&v==null||pe(e,t,d,h,a,v)}var Hr=null,kr=null;function ws(e){return e.nodeType===9?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Eg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ur(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vo=null;function Ry(){var e=window.event;return e&&e.type==="popstate"?e===Vo?!1:(Vo=e,!0):(Vo=null,!1)}var Tg=typeof setTimeout=="function"?setTimeout:void 0,My=typeof clearTimeout=="function"?clearTimeout:void 0,vd=typeof Promise=="function"?Promise:void 0,Hy=typeof queueMicrotask=="function"?queueMicrotask:typeof vd<"u"?function(e){return vd.resolve(null).then(e).catch(ky)}:Tg;function ky(e){setTimeout(function(){throw e})}function $l(e){return e==="head"}function xd(e,t){var l=t,a=0,i=0;do{var s=l.nextSibling;if(e.removeChild(l),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(0<a&&8>a){l=a;var o=e.ownerDocument;if(l&1&&Yn(o.documentElement),l&2&&Yn(o.body),l&4)for(l=o.head,Yn(l),o=l.firstChild;o;){var r=o.nextSibling,c=o.nodeName;o[di]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&o.rel.toLowerCase()==="stylesheet"||l.removeChild(o),o=r}}if(i===0){e.removeChild(s),li(t);return}i--}else l==="$"||l==="$?"||l==="$!"?i++:a=l.charCodeAt(0)-48;else a=0;l=s}while(l);li(t)}function Br(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Br(l),sc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Uy(e,t,l,a){for(;e.nodeType===1;){var i=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[di])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Bt(e.nextSibling),e===null)break}return null}function By(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Bt(e.nextSibling),e===null))return null;return e}function Lr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Ly(e,t){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Gr=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(t===0)return e;t--}else l==="/$"&&t++}e=e.previousSibling}return null}function Ag(e,t,l){switch(t=ws(l),e){case"html":if(e=t.documentElement,!e)throw Error(R(452));return e;case"head":if(e=t.head,!e)throw Error(R(453));return e;case"body":if(e=t.body,!e)throw Error(R(454));return e;default:throw Error(R(451))}}function Yn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);sc(e)}var Dt=new Map,jd=new Set;function Ns(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gl=fe.d;fe.d={f:Gy,r:qy,D:Yy,C:Vy,L:Xy,m:Qy,X:Zy,S:$y,M:Ky};function Gy(){var e=gl.f(),t=Ks();return e||t}function qy(e){var t=rn(e);t!==null&&t.tag===5&&t.type==="form"?_h(t):gl.r(e)}var dn=typeof document>"u"?null:document;function Og(e,t,l){var a=dn;if(a&&typeof t=="string"&&t){var i=Nt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof l=="string"&&(i+='[crossorigin="'+l+'"]'),jd.has(i)||(jd.add(i),e={rel:e,crossOrigin:l,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Je(t,"link",e),Xe(t),a.head.appendChild(t)))}}function Yy(e){gl.D(e),Og("dns-prefetch",e,null)}function Vy(e,t){gl.C(e,t),Og("preconnect",e,t)}function Xy(e,t,l){gl.L(e,t,l);var a=dn;if(a&&e&&t){var i='link[rel="preload"][as="'+Nt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(i+='[imagesrcset="'+Nt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(i+='[imagesizes="'+Nt(l.imageSizes)+'"]')):i+='[href="'+Nt(e)+'"]';var s=i;switch(t){case"style":s=ln(e);break;case"script":s=fn(e)}Dt.has(s)||(e=je({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Dt.set(s,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(ji(s))||t==="script"&&a.querySelector(_i(s))||(t=a.createElement("link"),Je(t,"link",e),Xe(t),a.head.appendChild(t)))}}function Qy(e,t){gl.m(e,t);var l=dn;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Nt(a)+'"][href="'+Nt(e)+'"]',s=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=fn(e)}if(!Dt.has(s)&&(e=je({rel:"modulepreload",href:e},t),Dt.set(s,e),l.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(_i(s)))return}a=l.createElement("link"),Je(a,"link",e),Xe(a),l.head.appendChild(a)}}}function $y(e,t,l){gl.S(e,t,l);var a=dn;if(a&&e){var i=Ba(a).hoistableStyles,s=ln(e);t=t||"default";var o=i.get(s);if(!o){var r={loading:0,preload:null};if(o=a.querySelector(ji(s)))r.loading=5;else{e=je({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Dt.get(s))&&Vc(e,l);var c=o=a.createElement("link");Xe(c),Je(c,"link",e),c._p=new Promise(function(u,p){c.onload=u,c.onerror=p}),c.addEventListener("load",function(){r.loading|=1}),c.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Fi(o,t,a)}o={type:"stylesheet",instance:o,count:1,state:r},i.set(s,o)}}}function Zy(e,t){gl.X(e,t);var l=dn;if(l&&e){var a=Ba(l).hoistableScripts,i=fn(e),s=a.get(i);s||(s=l.querySelector(_i(i)),s||(e=je({src:e,async:!0},t),(t=Dt.get(i))&&Xc(e,t),s=l.createElement("script"),Xe(s),Je(s,"link",e),l.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function Ky(e,t){gl.M(e,t);var l=dn;if(l&&e){var a=Ba(l).hoistableScripts,i=fn(e),s=a.get(i);s||(s=l.querySelector(_i(i)),s||(e=je({src:e,async:!0,type:"module"},t),(t=Dt.get(i))&&Xc(e,t),s=l.createElement("script"),Xe(s),Je(s,"link",e),l.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function _d(e,t,l,a){var i=(i=Rl.current)?Ns(i):null;if(!i)throw Error(R(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=ln(l.href),l=Ba(i).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=ln(l.href);var s=Ba(i).hoistableStyles,o=s.get(e);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,o),(s=i.querySelector(ji(e)))&&!s._p&&(o.instance=s,o.state.loading=5),Dt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Dt.set(e,l),s||Jy(i,e,l,o.state))),t&&a===null)throw Error(R(528,""));return o}if(t&&a!==null)throw Error(R(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fn(l),l=Ba(i).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(R(444,e))}}function ln(e){return'href="'+Nt(e)+'"'}function ji(e){return'link[rel="stylesheet"]['+e+"]"}function Dg(e){return je({},e,{"data-precedence":e.precedence,precedence:null})}function Jy(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Je(t,"link",l),Xe(t),e.head.appendChild(t))}function fn(e){return'[src="'+Nt(e)+'"]'}function _i(e){return"script[async]"+e}function Sd(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Nt(l.href)+'"]');if(a)return t.instance=a,Xe(a),a;var i=je({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Xe(a),Je(a,"style",i),Fi(a,l.precedence,e),t.instance=a;case"stylesheet":i=ln(l.href);var s=e.querySelector(ji(i));if(s)return t.state.loading|=4,t.instance=s,Xe(s),s;a=Dg(l),(i=Dt.get(i))&&Vc(a,i),s=(e.ownerDocument||e).createElement("link"),Xe(s);var o=s;return o._p=new Promise(function(r,c){o.onload=r,o.onerror=c}),Je(s,"link",a),t.state.loading|=4,Fi(s,l.precedence,e),t.instance=s;case"script":return s=fn(l.src),(i=e.querySelector(_i(s)))?(t.instance=i,Xe(i),i):(a=l,(i=Dt.get(s))&&(a=je({},l),Xc(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Xe(i),Je(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(R(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,Fi(a,l.precedence,e));return t.instance}function Fi(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,s=i,o=0;o<a.length;o++){var r=a[o];if(r.dataset.precedence===t)s=r;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Vc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ii=null;function wd(e,t,l){if(Ii===null){var a=new Map,i=Ii=new Map;i.set(l,a)}else i=Ii,a=i.get(l),a||(a=new Map,i.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),i=0;i<l.length;i++){var s=l[i];if(!(s[di]||s[Pe]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var o=s.getAttribute(t)||"";o=e+o;var r=a.get(o);r?r.push(s):a.set(o,[s])}}return a}function Nd(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Py(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function zg(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var In=null;function Fy(){}function Iy(e,t,l){if(In===null)throw Error(R(475));var a=In;if(t.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var i=ln(l.href),s=e.querySelector(ji(i));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Cs.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=s,Xe(s);return}s=e.ownerDocument||e,l=Dg(l),(i=Dt.get(i))&&Vc(l,i),s=s.createElement("link"),Xe(s);var o=s;o._p=new Promise(function(r,c){o.onload=r,o.onerror=c}),Je(s,"link",l),t.instance=s}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(a.count++,t=Cs.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function Wy(){if(In===null)throw Error(R(475));var e=In;return e.stylesheets&&e.count===0&&qr(e,e.stylesheets),0<e.count?function(t){var l=setTimeout(function(){if(e.stylesheets&&qr(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(l)}}:null}function Cs(){if(this.count--,this.count===0){if(this.stylesheets)qr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Es=null;function qr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Es=new Map,t.forEach(ev,e),Es=null,Cs.call(e))}function ev(e,t){if(!(t.state.loading&4)){var l=Es.get(e);if(l)var a=l.get(null);else{l=new Map,Es.set(e,l);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(l.set(o.dataset.precedence,o),a=o)}a&&l.set(null,a)}i=t.instance,o=i.getAttribute("data-precedence"),s=l.get(o)||a,s===a&&l.set(null,i),l.set(o,i),this.count++,a=Cs.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Wn={$$typeof:al,Provider:null,Consumer:null,_currentValue:la,_currentValue2:la,_threadCount:0};function tv(e,t,l,a,i,s,o,r){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uo(0),this.hiddenUpdates=uo(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=r,this.incompleteTransitions=new Map}function Rg(e,t,l,a,i,s,o,r,c,u,p,d){return e=new tv(e,t,l,o,r,c,u,d),t=1,s===!0&&(t|=24),s=gt(3,null,null,t),e.current=s,s.stateNode=e,t=vc(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:l,cache:t},bc(s),e}function Mg(e){return e?(e=Ma,e):Ma}function Hg(e,t,l,a,i,s){i=Mg(i),a.context===null?a.context=i:a.pendingContext=i,a=Ml(t),a.payload={element:l},s=s===void 0?null:s,s!==null&&(a.callback=s),l=Hl(e,a,t),l!==null&&(vt(l,e,t),Mn(l,e,t))}function Cd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Qc(e,t){Cd(e,t),(e=e.alternate)&&Cd(e,t)}function kg(e){if(e.tag===13){var t=cn(e,67108864);t!==null&&vt(t,e,67108864),Qc(e,67108864)}}var Ts=!0;function lv(e,t,l,a){var i=F.T;F.T=null;var s=fe.p;try{fe.p=2,$c(e,t,l,a)}finally{fe.p=s,F.T=i}}function av(e,t,l,a){var i=F.T;F.T=null;var s=fe.p;try{fe.p=8,$c(e,t,l,a)}finally{fe.p=s,F.T=i}}function $c(e,t,l,a){if(Ts){var i=Yr(a);if(i===null)Yo(e,t,a,As,l),Ed(e,a);else if(iv(i,e,t,l,a))a.stopPropagation();else if(Ed(e,a),t&4&&-1<nv.indexOf(e)){for(;i!==null;){var s=rn(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var o=Wl(s.pendingLanes);if(o!==0){var r=s;for(r.pendingLanes|=2,r.entangledLanes|=2;o;){var c=1<<31-pt(o);r.entanglements[1]|=c,o&=~c}Pt(s),!(ge&6)&&(xs=Zt()+500,bi(0,!1))}}break;case 13:r=cn(s,2),r!==null&&vt(r,s,2),Ks(),Qc(s,2)}if(s=Yr(a),s===null&&Yo(e,t,a,As,l),s===i)break;i=s}i!==null&&a.stopPropagation()}else Yo(e,t,a,null,l)}}function Yr(e){return e=rc(e),Zc(e)}var As=null;function Zc(e){if(As=null,e=Ta(e),e!==null){var t=oi(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=of(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return As=e,null}function Ug(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vm()){case df:return 2;case ff:return 8;case as:case Xm:return 32;case hf:return 268435456;default:return 32}default:return 32}}var Vr=!1,Bl=null,Ll=null,Gl=null,ei=new Map,ti=new Map,Cl=[],nv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ed(e,t){switch(e){case"focusin":case"focusout":Bl=null;break;case"dragenter":case"dragleave":Ll=null;break;case"mouseover":case"mouseout":Gl=null;break;case"pointerover":case"pointerout":ei.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ti.delete(t.pointerId)}}function _n(e,t,l,a,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},t!==null&&(t=rn(t),t!==null&&kg(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function iv(e,t,l,a,i){switch(t){case"focusin":return Bl=_n(Bl,e,t,l,a,i),!0;case"dragenter":return Ll=_n(Ll,e,t,l,a,i),!0;case"mouseover":return Gl=_n(Gl,e,t,l,a,i),!0;case"pointerover":var s=i.pointerId;return ei.set(s,_n(ei.get(s)||null,e,t,l,a,i)),!0;case"gotpointercapture":return s=i.pointerId,ti.set(s,_n(ti.get(s)||null,e,t,l,a,i)),!0}return!1}function Bg(e){var t=Ta(e.target);if(t!==null){var l=oi(t);if(l!==null){if(t=l.tag,t===13){if(t=of(l),t!==null){e.blockedOn=t,Im(e.priority,function(){if(l.tag===13){var a=yt();a=nc(a);var i=cn(l,a);i!==null&&vt(i,l,a),Qc(l,a)}});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Yr(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);sr=a,l.target.dispatchEvent(a),sr=null}else return t=rn(l),t!==null&&kg(t),e.blockedOn=l,!1;t.shift()}return!0}function Td(e,t,l){Wi(e)&&l.delete(t)}function sv(){Vr=!1,Bl!==null&&Wi(Bl)&&(Bl=null),Ll!==null&&Wi(Ll)&&(Ll=null),Gl!==null&&Wi(Gl)&&(Gl=null),ei.forEach(Td),ti.forEach(Td)}function Ui(e,t){e.blockedOn===t&&(e.blockedOn=null,Vr||(Vr=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,sv)))}var Bi=null;function Ad(e){Bi!==e&&(Bi=e,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,function(){Bi===e&&(Bi=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(Zc(a||l)===null)continue;break}var s=rn(l);s!==null&&(e.splice(t,3),t-=3,_r(s,{pending:!0,data:i,method:l.method,action:a},a,i))}}))}function li(e){function t(c){return Ui(c,e)}Bl!==null&&Ui(Bl,e),Ll!==null&&Ui(Ll,e),Gl!==null&&Ui(Gl,e),ei.forEach(t),ti.forEach(t);for(var l=0;l<Cl.length;l++){var a=Cl[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Cl.length&&(l=Cl[0],l.blockedOn===null);)Bg(l),l.blockedOn===null&&Cl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var i=l[a],s=l[a+1],o=i[ot]||null;if(typeof s=="function")o||Ad(l);else if(o){var r=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[ot]||null)r=o.formAction;else if(Zc(i)!==null)continue}else r=o.action;typeof r=="function"?l[a+1]=r:(l.splice(a,3),a-=3),Ad(l)}}}function Kc(e){this._internalRoot=e}Is.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));var l=t.current,a=yt();Hg(l,a,e,t,null,null)};Is.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hg(e.current,2,null,e,null,null),Ks(),t[on]=null}};function Is(e){this._internalRoot=e}Is.prototype.unstable_scheduleHydration=function(e){if(e){var t=vf();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Cl.length&&t!==0&&t<Cl[l].priority;l++);Cl.splice(l,0,e),l===0&&Bg(e)}};var Od=nf.version;if(Od!=="19.1.1")throw Error(R(527,Od,"19.1.1"));fe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=km(t),e=e!==null?rf(e):null,e=e===null?null:e.stateNode,e};var ov={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Li=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Li.isDisabled&&Li.supportsFiber)try{ri=Li.inject(ov),mt=Li}catch{}}ks.createRoot=function(e,t){if(!sf(e))throw Error(R(299));var l=!1,a="",i=Rh,s=Mh,o=Hh,r=null;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(r=t.unstable_transitionCallbacks)),t=Rg(e,1,!1,null,null,l,a,i,s,o,r,null),e[on]=t.current,Yc(e),new Kc(t)};ks.hydrateRoot=function(e,t,l){if(!sf(e))throw Error(R(299));var a=!1,i="",s=Rh,o=Mh,r=Hh,c=null,u=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(i=l.identifierPrefix),l.onUncaughtError!==void 0&&(s=l.onUncaughtError),l.onCaughtError!==void 0&&(o=l.onCaughtError),l.onRecoverableError!==void 0&&(r=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(c=l.unstable_transitionCallbacks),l.formState!==void 0&&(u=l.formState)),t=Rg(e,1,!0,t,l??null,a,i,s,o,r,c,u),t.context=Mg(null),l=t.current,a=yt(),a=nc(a),i=Ml(a),i.callback=null,Hl(l,i,a),l=a,t.current.lanes=l,ui(t,l),Pt(t),e[on]=t.current,Yc(e),new Is(t)};ks.version="19.1.1";function Lg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lg)}catch(e){console.error(e)}}Lg(),Fd.exports=ks;var rv=Fd.exports;const cv=Jr(rv);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},ai.apply(this,arguments)}var Dl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dl||(Dl={}));const Dd="popstate";function uv(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:r="",hash:c=""}=ya(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Xr("",{pathname:o,search:r,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function l(i,s){let o=i.document.querySelector("base"),r="";if(o&&o.getAttribute("href")){let c=i.location.href,u=c.indexOf("#");r=u===-1?c:c.slice(0,u)}return r+"#"+(typeof s=="string"?s:Os(s))}function a(i,s){Jc(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return fv(t,l,a,e)}function Ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dv(){return Math.random().toString(36).substr(2,8)}function zd(e,t){return{usr:e.state,key:e.key,idx:t}}function Xr(e,t,l,a){return l===void 0&&(l=null),ai({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ya(t):t,{state:l,key:t&&t.key||a||dv()})}function Os(e){let{pathname:t="/",search:l="",hash:a=""}=e;return l&&l!=="?"&&(t+=l.charAt(0)==="?"?l:"?"+l),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function ya(e){let t={};if(e){let l=e.indexOf("#");l>=0&&(t.hash=e.substr(l),e=e.substr(0,l));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function fv(e,t,l,a){a===void 0&&(a={});let{window:i=document.defaultView,v5Compat:s=!1}=a,o=i.history,r=Dl.Pop,c=null,u=p();u==null&&(u=0,o.replaceState(ai({},o.state,{idx:u}),""));function p(){return(o.state||{idx:null}).idx}function d(){r=Dl.Pop;let w=p(),f=w==null?null:w-u;u=w,c&&c({action:r,location:x.location,delta:f})}function h(w,f){r=Dl.Push;let g=Xr(x.location,w,f);l&&l(g,w),u=p()+1;let y=zd(g,u),j=x.createHref(g);try{o.pushState(y,"",j)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(j)}s&&c&&c({action:r,location:x.location,delta:1})}function v(w,f){r=Dl.Replace;let g=Xr(x.location,w,f);l&&l(g,w),u=p();let y=zd(g,u),j=x.createHref(g);o.replaceState(y,"",j),s&&c&&c({action:r,location:x.location,delta:0})}function b(w){let f=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof w=="string"?w:Os(w);return g=g.replace(/ $/,"%20"),Ee(f,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,f)}let x={get action(){return r},get location(){return e(i,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Dd,d),c=w,()=>{i.removeEventListener(Dd,d),c=null}},createHref(w){return t(i,w)},createURL:b,encodeLocation(w){let f=b(w);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:h,replace:v,go(w){return o.go(w)}};return x}var Rd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Rd||(Rd={}));function hv(e,t,l){return l===void 0&&(l="/"),gv(e,t,l,!1)}function gv(e,t,l,a){let i=typeof t=="string"?ya(t):t,s=an(i.pathname||"/",l);if(s==null)return null;let o=Gg(e);mv(o);let r=null;for(let c=0;r==null&&c<o.length;++c){let u=Cv(s);r=wv(o[c],u,a)}return r}function Gg(e,t,l,a){t===void 0&&(t=[]),l===void 0&&(l=[]),a===void 0&&(a="");let i=(s,o,r)=>{let c={relativePath:r===void 0?s.path||"":r,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Ee(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let u=ql([a,c.relativePath]),p=l.concat(c);s.children&&s.children.length>0&&(Ee(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Gg(s.children,t,p,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:_v(u,s.index),routesMeta:p})};return e.forEach((s,o)=>{var r;if(s.path===""||!((r=s.path)!=null&&r.includes("?")))i(s,o);else for(let c of qg(s.path))i(s,o,c)}),t}function qg(e){let t=e.split("/");if(t.length===0)return[];let[l,...a]=t,i=l.endsWith("?"),s=l.replace(/\?$/,"");if(a.length===0)return i?[s,""]:[s];let o=qg(a.join("/")),r=[];return r.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&r.push(...o),r.map(c=>e.startsWith("/")&&c===""?"/":c)}function mv(e){e.sort((t,l)=>t.score!==l.score?l.score-t.score:Sv(t.routesMeta.map(a=>a.childrenIndex),l.routesMeta.map(a=>a.childrenIndex)))}const pv=/^:[\w-]+$/,yv=3,vv=2,xv=1,bv=10,jv=-2,Md=e=>e==="*";function _v(e,t){let l=e.split("/"),a=l.length;return l.some(Md)&&(a+=jv),t&&(a+=vv),l.filter(i=>!Md(i)).reduce((i,s)=>i+(pv.test(s)?yv:s===""?xv:bv),a)}function Sv(e,t){return e.length===t.length&&e.slice(0,-1).every((a,i)=>a===t[i])?e[e.length-1]-t[t.length-1]:0}function wv(e,t,l){l===void 0&&(l=!1);let{routesMeta:a}=e,i={},s="/",o=[];for(let r=0;r<a.length;++r){let c=a[r],u=r===a.length-1,p=s==="/"?t:t.slice(s.length)||"/",d=Ds({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},p),h=c.route;if(!d&&u&&l&&!a[a.length-1].route.index&&(d=Ds({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:ql([s,d.pathname]),pathnameBase:Ov(ql([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=ql([s,d.pathnameBase]))}return o}function Ds(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[l,a]=Nv(e.path,e.caseSensitive,e.end),i=t.match(l);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),r=i.slice(1);return{params:a.reduce((u,p,d)=>{let{paramName:h,isOptional:v}=p;if(h==="*"){let x=r[d]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const b=r[d];return v&&!b?u[h]=void 0:u[h]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function Nv(e,t,l){t===void 0&&(t=!1),l===void 0&&(l=!0),Jc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,r,c)=>(a.push({paramName:r,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),a]}function Cv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function an(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let l=t.endsWith("/")?t.length-1:t.length,a=e.charAt(l);return a&&a!=="/"?null:e.slice(l)||"/"}function Ev(e,t){t===void 0&&(t="/");let{pathname:l,search:a="",hash:i=""}=typeof e=="string"?ya(e):e;return{pathname:l?l.startsWith("/")?l:Tv(l,t):t,search:Dv(a),hash:zv(i)}}function Tv(e,t){let l=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?l.length>1&&l.pop():i!=="."&&l.push(i)}),l.length>1?l.join("/"):"/"}function Xo(e,t,l,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+l+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Av(e){return e.filter((t,l)=>l===0||t.route.path&&t.route.path.length>0)}function Pc(e,t){let l=Av(e);return t?l.map((a,i)=>i===l.length-1?a.pathname:a.pathnameBase):l.map(a=>a.pathnameBase)}function Fc(e,t,l,a){a===void 0&&(a=!1);let i;typeof e=="string"?i=ya(e):(i=ai({},e),Ee(!i.pathname||!i.pathname.includes("?"),Xo("?","pathname","search",i)),Ee(!i.pathname||!i.pathname.includes("#"),Xo("#","pathname","hash",i)),Ee(!i.search||!i.search.includes("#"),Xo("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,r;if(o==null)r=l;else{let d=t.length-1;if(!a&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}r=d>=0?t[d]:"/"}let c=Ev(i,r),u=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&l.endsWith("/");return!c.pathname.endsWith("/")&&(u||p)&&(c.pathname+="/"),c}const ql=e=>e.join("/").replace(/\/\/+/g,"/"),Ov=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Dv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Rv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Yg=["post","put","patch","delete"];new Set(Yg);const Mv=["get",...Yg];new Set(Mv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},ni.apply(this,arguments)}const Ws=S.createContext(null),Vg=S.createContext(null),ml=S.createContext(null),eo=S.createContext(null),pl=S.createContext({outlet:null,matches:[],isDataRoute:!1}),Xg=S.createContext(null);function Hv(e,t){let{relative:l}=t===void 0?{}:t;hn()||Ee(!1);let{basename:a,navigator:i}=S.useContext(ml),{hash:s,pathname:o,search:r}=to(e,{relative:l}),c=o;return a!=="/"&&(c=o==="/"?a:ql([a,o])),i.createHref({pathname:c,search:r,hash:s})}function hn(){return S.useContext(eo)!=null}function Zl(){return hn()||Ee(!1),S.useContext(eo).location}function Qg(e){S.useContext(ml).static||S.useLayoutEffect(e)}function At(){let{isDataRoute:e}=S.useContext(pl);return e?Pv():kv()}function kv(){hn()||Ee(!1);let e=S.useContext(Ws),{basename:t,future:l,navigator:a}=S.useContext(ml),{matches:i}=S.useContext(pl),{pathname:s}=Zl(),o=JSON.stringify(Pc(i,l.v7_relativeSplatPath)),r=S.useRef(!1);return Qg(()=>{r.current=!0}),S.useCallback(function(u,p){if(p===void 0&&(p={}),!r.current)return;if(typeof u=="number"){a.go(u);return}let d=Fc(u,JSON.parse(o),s,p.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ql([t,d.pathname])),(p.replace?a.replace:a.push)(d,p.state,p)},[t,a,o,s,e])}const Uv=S.createContext(null);function Bv(e){let t=S.useContext(pl).outlet;return t&&S.createElement(Uv.Provider,{value:e},t)}function to(e,t){let{relative:l}=t===void 0?{}:t,{future:a}=S.useContext(ml),{matches:i}=S.useContext(pl),{pathname:s}=Zl(),o=JSON.stringify(Pc(i,a.v7_relativeSplatPath));return S.useMemo(()=>Fc(e,JSON.parse(o),s,l==="path"),[e,o,s,l])}function Lv(e,t){return Gv(e,t)}function Gv(e,t,l,a){hn()||Ee(!1);let{navigator:i}=S.useContext(ml),{matches:s}=S.useContext(pl),o=s[s.length-1],r=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Zl(),p;if(t){var d;let w=typeof t=="string"?ya(t):t;c==="/"||(d=w.pathname)!=null&&d.startsWith(c)||Ee(!1),p=w}else p=u;let h=p.pathname||"/",v=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=hv(e,{pathname:v}),x=Qv(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},r,w.params),pathname:ql([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ql([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,l,a);return t&&x?S.createElement(eo.Provider,{value:{location:ni({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Dl.Pop}},x):x}function qv(){let e=Jv(),t=Rv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),l=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),l?S.createElement("pre",{style:i},l):null,s)}const Yv=S.createElement(qv,null);class Vv extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,l){return l.location!==t.location||l.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:l.error,location:l.location,revalidation:t.revalidation||l.revalidation}}componentDidCatch(t,l){console.error("React Router caught the following error during render",t,l)}render(){return this.state.error!==void 0?S.createElement(pl.Provider,{value:this.props.routeContext},S.createElement(Xg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xv(e){let{routeContext:t,match:l,children:a}=e,i=S.useContext(Ws);return i&&i.static&&i.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=l.route.id),S.createElement(pl.Provider,{value:t},a)}function Qv(e,t,l,a){var i;if(t===void 0&&(t=[]),l===void 0&&(l=null),a===void 0&&(a=null),e==null){var s;if(!l)return null;if(l.errors)e=l.matches;else if((s=a)!=null&&s.v7_partialHydration&&t.length===0&&!l.initialized&&l.matches.length>0)e=l.matches;else return null}let o=e,r=(i=l)==null?void 0:i.errors;if(r!=null){let p=o.findIndex(d=>d.route.id&&(r==null?void 0:r[d.route.id])!==void 0);p>=0||Ee(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,u=-1;if(l&&a&&a.v7_partialHydration)for(let p=0;p<o.length;p++){let d=o[p];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=p),d.route.id){let{loaderData:h,errors:v}=l,b=d.route.loader&&h[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((p,d,h)=>{let v,b=!1,x=null,w=null;l&&(v=r&&d.route.id?r[d.route.id]:void 0,x=d.route.errorElement||Yv,c&&(u<0&&h===0?(Fv("route-fallback",!1),b=!0,w=null):u===h&&(b=!0,w=d.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,h+1)),g=()=>{let y;return v?y=x:b?y=w:d.route.Component?y=S.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=p,S.createElement(Xv,{match:d,routeContext:{outlet:p,matches:f,isDataRoute:l!=null},children:y})};return l&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?S.createElement(Vv,{location:l.location,revalidation:l.revalidation,component:x,error:v,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var $g=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($g||{}),zs=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zs||{});function $v(e){let t=S.useContext(Ws);return t||Ee(!1),t}function Zv(e){let t=S.useContext(Vg);return t||Ee(!1),t}function Kv(e){let t=S.useContext(pl);return t||Ee(!1),t}function Zg(e){let t=Kv(),l=t.matches[t.matches.length-1];return l.route.id||Ee(!1),l.route.id}function Jv(){var e;let t=S.useContext(Xg),l=Zv(zs.UseRouteError),a=Zg(zs.UseRouteError);return t!==void 0?t:(e=l.errors)==null?void 0:e[a]}function Pv(){let{router:e}=$v($g.UseNavigateStable),t=Zg(zs.UseNavigateStable),l=S.useRef(!1);return Qg(()=>{l.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),l.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ni({fromRouteId:t},s)))},[e,t])}const Hd={};function Fv(e,t,l){!t&&!Hd[e]&&(Hd[e]=!0)}function Iv(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function nn(e){let{to:t,replace:l,state:a,relative:i}=e;hn()||Ee(!1);let{future:s,static:o}=S.useContext(ml),{matches:r}=S.useContext(pl),{pathname:c}=Zl(),u=At(),p=Fc(t,Pc(r,s.v7_relativeSplatPath),c,i==="path"),d=JSON.stringify(p);return S.useEffect(()=>u(JSON.parse(d),{replace:l,state:a,relative:i}),[u,d,i,l,a]),null}function Wv(e){return Bv(e.context)}function Ue(e){Ee(!1)}function ex(e){let{basename:t="/",children:l=null,location:a,navigationType:i=Dl.Pop,navigator:s,static:o=!1,future:r}=e;hn()&&Ee(!1);let c=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:s,static:o,future:ni({v7_relativeSplatPath:!1},r)}),[c,r,s,o]);typeof a=="string"&&(a=ya(a));let{pathname:p="/",search:d="",hash:h="",state:v=null,key:b="default"}=a,x=S.useMemo(()=>{let w=an(p,c);return w==null?null:{location:{pathname:w,search:d,hash:h,state:v,key:b},navigationType:i}},[c,p,d,h,v,b,i]);return x==null?null:S.createElement(ml.Provider,{value:u},S.createElement(eo.Provider,{children:l,value:x}))}function tx(e){let{children:t,location:l}=e;return Lv(Qr(t),l)}new Promise(()=>{});function Qr(e,t){t===void 0&&(t=[]);let l=[];return S.Children.forEach(e,(a,i)=>{if(!S.isValidElement(a))return;let s=[...t,i];if(a.type===S.Fragment){l.push.apply(l,Qr(a.props.children,s));return}a.type!==Ue&&Ee(!1),!a.props.index||!a.props.children||Ee(!1);let o={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=Qr(a.props.children,s)),l.push(o)}),l}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},Rs.apply(this,arguments)}function Kg(e,t){if(e==null)return{};var l={},a=Object.keys(e),i,s;for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&(l[i]=e[i]);return l}function lx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ax(e,t){return e.button===0&&(!t||t==="_self")&&!lx(e)}function $r(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,l)=>{let a=e[l];return t.concat(Array.isArray(a)?a.map(i=>[l,i]):[[l,a]])},[]))}function nx(e,t){let l=$r(e);return t&&t.forEach((a,i)=>{l.has(i)||t.getAll(i).forEach(s=>{l.append(i,s)})}),l}const ix=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sx=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ox="6";try{window.__reactRouterVersion=ox}catch{}const rx=S.createContext({isTransitioning:!1}),cx="startTransition",kd=Am[cx];function ux(e){let{basename:t,children:l,future:a,window:i}=e,s=S.useRef();s.current==null&&(s.current=uv({window:i,v5Compat:!0}));let o=s.current,[r,c]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=a||{},p=S.useCallback(d=>{u&&kd?kd(()=>c(d)):c(d)},[c,u]);return S.useLayoutEffect(()=>o.listen(p),[o,p]),S.useEffect(()=>Iv(a),[a]),S.createElement(ex,{basename:t,children:l,location:r.location,navigationType:r.action,navigator:o,future:a})}const dx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jg=S.forwardRef(function(t,l){let{onClick:a,relative:i,reloadDocument:s,replace:o,state:r,target:c,to:u,preventScrollReset:p,viewTransition:d}=t,h=Kg(t,ix),{basename:v}=S.useContext(ml),b,x=!1;if(typeof u=="string"&&fx.test(u)&&(b=u,dx))try{let y=new URL(window.location.href),j=u.startsWith("//")?new URL(y.protocol+u):new URL(u),M=an(j.pathname,v);j.origin===y.origin&&M!=null?u=M+j.search+j.hash:x=!0}catch{}let w=Hv(u,{relative:i}),f=gx(u,{replace:o,state:r,target:c,preventScrollReset:p,relative:i,viewTransition:d});function g(y){a&&a(y),y.defaultPrevented||f(y)}return S.createElement("a",Rs({},h,{href:b||w,onClick:x||s?a:g,ref:l,target:c}))}),xl=S.forwardRef(function(t,l){let{"aria-current":a="page",caseSensitive:i=!1,className:s="",end:o=!1,style:r,to:c,viewTransition:u,children:p}=t,d=Kg(t,sx),h=to(c,{relative:d.relative}),v=Zl(),b=S.useContext(Vg),{navigator:x,basename:w}=S.useContext(ml),f=b!=null&&px(h)&&u===!0,g=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,y=v.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(y=y.toLowerCase(),j=j?j.toLowerCase():null,g=g.toLowerCase()),j&&w&&(j=an(j,w)||j);const M=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let O=y===g||!o&&y.startsWith(g)&&y.charAt(M)==="/",C=j!=null&&(j===g||!o&&j.startsWith(g)&&j.charAt(g.length)==="/"),N={isActive:O,isPending:C,isTransitioning:f},k=O?a:void 0,H;typeof s=="function"?H=s(N):H=[s,O?"active":null,C?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let $=typeof r=="function"?r(N):r;return S.createElement(Jg,Rs({},d,{"aria-current":k,className:H,ref:l,style:$,to:c,viewTransition:u}),typeof p=="function"?p(N):p)});var Zr;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zr||(Zr={}));var Ud;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ud||(Ud={}));function hx(e){let t=S.useContext(Ws);return t||Ee(!1),t}function gx(e,t){let{target:l,replace:a,state:i,preventScrollReset:s,relative:o,viewTransition:r}=t===void 0?{}:t,c=At(),u=Zl(),p=to(e,{relative:o});return S.useCallback(d=>{if(ax(d,l)){d.preventDefault();let h=a!==void 0?a:Os(u)===Os(p);c(e,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:r})}},[u,c,p,a,i,l,e,s,o,r])}function mx(e){let t=S.useRef($r(e)),l=S.useRef(!1),a=Zl(),i=S.useMemo(()=>nx(a.search,l.current?null:t.current),[a.search]),s=At(),o=S.useCallback((r,c)=>{const u=$r(typeof r=="function"?r(i):r);l.current=!0,s("?"+u,c)},[s,i]);return[i,o]}function px(e,t){t===void 0&&(t={});let l=S.useContext(rx);l==null&&Ee(!1);let{basename:a}=hx(Zr.useViewTransitionState),i=to(e,{relative:t.relative});if(!l.isTransitioning)return!1;let s=an(l.currentLocation.pathname,a)||l.currentLocation.pathname,o=an(l.nextLocation.pathname,a)||l.nextLocation.pathname;return Ds(i.pathname,o)!=null||Ds(i.pathname,s)!=null}const yx="modulepreload",vx=function(e){return"/Anatomous/"+e},Bd={},xx=function(t,l,a){if(!l||l.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(l.map(s=>{if(s=vx(s),s in Bd)return;Bd[s]=!0;const o=s.endsWith(".css"),r=o?'[rel="stylesheet"]':"";if(!!a)for(let p=i.length-1;p>=0;p--){const d=i[p];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${r}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":yx,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((p,d)=>{u.addEventListener("load",p),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};class Vt extends Error{constructor(t,l,a){super(t),this.status=l,this.data=a}}let Qo=!1,ii=[];function bx(e){ii.push(e)}function jx(e){ii.forEach(t=>t(e)),ii=[]}const q=async(e,t={},l=!0)=>{const a=(t==null?void 0:t.body)instanceof FormData,i={headers:{...a?{}:{"Content-Type":"application/json"},...t.headers},credentials:"include",...t},s=localStorage.getItem("authToken");s&&(i.headers.Authorization=`Bearer ${s}`),i.body&&typeof i.body=="object"&&!a&&(i.body=JSON.stringify(i.body));try{let o=await fetch(e,i);if(o.status===401&&l){if(Qo)return new Promise((u,p)=>{bx(d=>{const h={...i,headers:{...i.headers,Authorization:`Bearer ${d}`}};q(e,h,!1).then(u).catch(p)})});Qo=!0;try{console.log(" Token expired, attempting refresh...");const u=await wt.refreshToken();if(u!=null&&u.authToken){console.log(" Token refresh successful"),jx(u.authToken);const p={...i,headers:{...i.headers,Authorization:`Bearer ${u.authToken}`}};return q(e,p,!1)}else throw new Error("No authToken received from refresh")}catch(u){console.error(" Token refresh failed:",u),ii.forEach(p=>p(null)),ii=[];try{localStorage.removeItem("authToken"),localStorage.removeItem("user")}catch{}throw new Vt("Session expired. Please login again.",401,null)}finally{Qo=!1}}let r=null;const c=o.headers.get("content-type")||"";try{if(c.includes("application/json"))r=await o.json();else{const u=await o.text();r=u?{message:u}:null}}catch(u){console.warn("Failed to parse response:",u),r={message:"Failed to parse response"}}if(!o.ok)throw o.status===401&&!l?new Vt("Authentication failed after token refresh",401,r):new Vt((r==null?void 0:r.message)||`Request failed with status ${o.status}`,o.status,r);return r??{}}catch(o){throw o instanceof Vt?o:o.name==="TypeError"&&o.message.includes("Failed to fetch")?new Vt("Network error: Unable to connect to server",0,{networkError:!0}):new Vt(o.message||"Unknown error occurred",0,null)}},ft=async(e,t={})=>{const l={headers:{"Content-Type":"application/json",...t.headers},...t};l.body&&typeof l.body=="object"&&(l.body=JSON.stringify(l.body));try{const a=await fetch(e,l);let i=null;const s=a.headers.get("content-type")||"";try{if(s.includes("application/json"))i=await a.json();else{const o=await a.text();i=o?{message:o}:null}}catch(o){console.warn("Failed to parse response:",o),i={message:"Failed to parse response"}}if(!a.ok)throw new Vt((i==null?void 0:i.message)||`Request failed with status ${a.status}`,a.status,i);return i??{}}catch(a){throw a instanceof Vt?a:a.name==="TypeError"&&a.message.includes("Failed to fetch")?new Vt("Network error: Unable to connect to server",0,{networkError:!0}):new Vt(a.message||"Unknown error occurred",0,null)}},te="https://xu6p-ejbd-2ew4.n7e.xano.io/api:5PA_dIPO",Yt="https://xu6p-ejbd-2ew4.n7e.xano.io/api:HBbbpjK5";function dt(e){return{getAll:`${te}/${e}`,getById:t=>`${te}/${e}/${t}`,create:`${te}/${e}`,update:t=>`${te}/${e}/${t}`,remove:t=>`${te}/${e}/${t}`}}const J={users:dt("users"),userSettings:dt("user_settings"),goals:dt("goals"),healthData:dt("health_data"),profiles:dt("profiles"),healthHistory:dt("health_history"),medicalConditions:dt("medical_conditions"),medications:dt("medications"),allergies:dt("allergies"),surgicalHistory:dt("surgical_history"),vaccinations:dt("vaccinations"),sensitivities:dt("sensitivities"),familyHistory:dt("family_history")},le={auth:{login:`${Yt}/auth/login`,logout:`${Yt}/auth/logout`,refreshToken:`${Yt}/auth/refresh`,signup:`${Yt}/auth/signup`,forgotPassword:`${Yt}/auth/forgot-password`,resetPassword:`${Yt}/auth/reset-password`,google:`${Yt}/auth/google`,googleCallback:`${Yt}/auth/callback/google`,googleSuccess:`${Yt}/auth/success`,checkAuth:`${Yt}/auth/check-auth`},reports:{generate:`${te}/report/generate`,list:`${te}/reports`,download:`${te}/reports/download`,share:`${te}/reports/share`,sharedByToken:`${te}/reports/shared/token`},onboarding:{step:e=>`${te}/onboarding/${e}`,personal:`${te}/onboarding/personal`,healthSnapshot:`${te}/onboarding/health_snapshot`,lifestyle:`${te}/onboarding/lifestyle`,healthGoals:`${te}/onboarding/health_goals`,privacy:`${te}/onboarding/privacy`,complete:`${te}/onboarding/complete`},healthHistory:{getHealthHistorySummary:`${te}/health_history_summary`,userHealthSummary:`${te}/user-health-summary`},insights:{generateInsights:`${te}/generate-insight`},checkThreshold:{checkThreshold:`${te}/check-threshold`},alertsInsight:{getAlertsInsight:`${te}/alerts_ai/{user_id}`},comprehensiveAlerts:{comprehensiveAlerts:`${te}/get-comprehensive-alerts`},uploudFile:{uploudFile:`${te}/upload/attachment_file`,avatarUpload:`${te}/upload/avatar`,getUserUploudFiles:`${te}/upload/get_files`,downloadFile:`${te}/upload/download_file`,deleteFile:`${te}/upload/delete_file`},goals:{getGoals:`${te}/goals/get/goals`,getHistory:`${te}/goals/get/history`,readd:`${te}/goals/readd`},goalProgress:{create:`${te}/goal/progress`,getProgress:`${te}/goal/get/progress`,remove:e=>`${te}/goal/progress/${e}`},notes:{list:`${te}/notes`,create:`${te}/notes`,update:e=>`${te}/notes/note/${e}`,getNote:`${te}/notes/get/note`}};async function $o(){try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch{return"unknown"}}function Gi(){typeof document<"u"&&(document.cookie="refresh_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="auth_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;")}function _x(){var e;try{const t=localStorage.getItem("user");if(t){const a=JSON.parse(t);if(a!=null&&a.id)return a.id}const l=(e=document.cookie.split("; ").find(a=>a.startsWith("auth_token=")))==null?void 0:e.split("=")[1];if(l){const a=JSON.parse(atob(l.split(".")[1]));return a.user_id||a.sub||a.id}return null}catch(t){return console.warn("Failed to get user ID from token:",t),null}}const wt={async login(e){var t;try{console.log(" Attempting login for:",e.email);const l={email:e.email,password:e.password,user_agent:navigator.userAgent,ip_address:await $o()};console.log(" Login request data:",{email:l.email,user_agent:l.user_agent,ip_address:l.ip_address});const a=await ft(le.auth.login,{method:"POST",body:l,credentials:"include"});return console.log(" Login successful, user:",(t=a.user)==null?void 0:t.email),a}catch(l){throw console.error(" Login error:",l),Gi(),l}},async logout(){try{console.log(" Attempting logout..."),await ft(le.auth.logout,{method:"POST",credentials:"include"}),console.log(" Logout successful")}catch(e){console.error(" Logout error:",e)}finally{Gi()}},async refreshToken(){try{console.log(" Attempting token refresh...");const e={user_id:_x(),user_agent:navigator.userAgent,ip_address:await $o()},t=await ft(le.auth.refreshToken,{method:"POST",body:e,credentials:"include"});return console.log(" Token refresh successful"),t}catch(e){console.error(" Token refresh failed:",e.message),Gi();const t=new Error(e.message||"Token refresh failed");throw t.code=e.code,t.status=e.status,t}},async signup(e){try{console.log(" Attempting signup for:",e.email);const t={email:e.email,password:e.password,firstName:e.firstName||"",lastName:e.lastName||"",user_agent:navigator.userAgent,ip_address:await $o()},l=await ft(le.auth.signup,{method:"POST",body:t});return console.log(" Signup successful"),l}catch(t){throw console.error(" Signup error:",t),t}},async requestPasswordReset(e){try{console.log(" Requesting password reset for:",e);const t=await ft(le.auth.forgotPassword,{method:"POST",body:{email:e}});return console.log(" Password reset email sent"),t}catch(t){throw console.error(" Password reset request error:",t),t}},async resetPassword({token:e,new_password:t}){try{console.log(" Resetting password...");const l=await ft(le.auth.resetPassword,{method:"POST",body:{token:e,new_password:t}});return console.log(" Password reset successful"),l}catch(l){throw console.error(" Password reset error:",l),l}},async getGoogleAuthUrl(){try{console.log(" Getting Google auth URL...");const e=await ft(le.auth.google);return console.log(" Google auth URL received"),e.url}catch(e){throw console.error(" Google auth URL error:",e),e}},async handleGoogleCallback(e){try{console.log(" Handling Google callback...");const t=await ft(`${le.auth.googleCallback}?code=${e}`,{method:"GET",credentials:"include"});return console.log(" Google callback successful"),t}catch(t){throw console.error(" Google callback error:",t),Gi(),t}},async validateToken(){try{console.log(" Validating auth token...");const e=await ft("/auth/validate",{method:"GET",credentials:"include"});return console.log(" Token validation successful"),e}catch(e){throw console.error(" Token validation failed:",e),e}}},Pg=S.createContext(null);function Sx({children:e}){const[t,l]=S.useState(null),[a,i]=S.useState(null),[s,o]=S.useState(!0),[r,c]=S.useState(!1),[u,p]=S.useState(!1),d=S.useCallback(async()=>{if(r)return null;c(!0);try{const O=await wt.refreshToken();if(O!=null&&O.authToken){l(O.authToken),i(O.user??null);try{localStorage.setItem("authToken",O.authToken),O.user&&localStorage.setItem("user",JSON.stringify(O.user))}catch{}return p(!1),O.authToken}return console.log(" Refresh returned no token"),null}catch(O){console.error(" Manual refresh failed:",O),l(null),i(null);try{localStorage.removeItem("authToken"),localStorage.removeItem("user")}catch{}return null}finally{c(!1)}},[r]);S.useEffect(()=>{async function O(){var C,N;try{console.log(" Attempting auto-authentication with refresh token...");const k=await wt.refreshToken();if(console.log(" Auto-authentication successful:",k),k!=null&&k.authToken){l(k.authToken),i(k.user??null);try{localStorage.setItem("authToken",k.authToken),k.user&&localStorage.setItem("user",JSON.stringify(k.user))}catch{}p(!1),console.log(" Auto-authentication successful - existing user will go to dashboard")}else console.log(" No valid session found"),l(null),i(null),p(!1)}catch(k){(C=k.message)!=null&&C.includes("expired")||(N=k.message)!=null&&N.includes("Invalid")?(console.log(" Refresh token expired or invalid, clearing session"),await wt.logout().catch(()=>{})):console.log(" Auto-authentication failed:",k.message),l(null),i(null);try{localStorage.removeItem("authToken"),localStorage.removeItem("user")}catch{}}finally{o(!1)}}O()},[]),S.useEffect(()=>{if(!t)return;const C=(()=>{try{const k=t.split(".");if(k.length!==3)return console.log(" Token is not a standard JWT, using default refresh time"),10*60*1e3;const H=JSON.parse(atob(k[1]));if(!H.exp)return console.log(" Token does not have expiration time, using default refresh time"),10*60*1e3;const $=H.exp*1e3,B=Date.now(),be=$-B;if(be<=0)return console.log(" Token already expired, using default refresh time"),10*60*1e3;const _e=Math.max(60*1e3,be-10*60*1e3);return console.log(` Token expires at: ${new Date($).toLocaleTimeString()}`),console.log(` Will refresh in: ${Math.round(_e/1e3/60)} minutes`),_e}catch{return 10*60*1e3}})(),N=setTimeout(async()=>{try{console.log(" Auto-refreshing token before expiration..."),await d()&&console.log(" Token auto-refreshed successfully")}catch(k){console.log(" Auto-refresh failed:",k.message)}},C);return()=>{console.log(" Cleaning up auto-refresh timer"),clearTimeout(N)}},[t,d]);async function h(O,C){try{const N=await wt.login({email:O,password:C});l(N.authToken),i(N.user??null);try{localStorage.setItem("authToken",N.authToken),N.user&&localStorage.setItem("user",JSON.stringify(N.user))}catch{}return p(!1),console.log(" User logged in successfully - will redirect directly to dashboard"),console.log(" Login redirect: Dashboard (no onboarding check)"),{success:!0}}catch(N){return console.error("Login error:",N),{success:!1,error:N.message}}}async function v(O,C,N={}){try{console.log(" Starting signup process...");const k=await wt.signup({email:O,password:C,...N});console.log(" AuthApi.signup response:",k),l(k.authToken),i(k.user??null);try{localStorage.setItem("authToken",k.authToken),k.user&&localStorage.setItem("user",JSON.stringify(k.user))}catch{}return p(!0),console.log(" New user signed up successfully - will redirect to onboarding"),console.log(" Signup redirect: Onboarding (new user)"),console.log(" isNewUser set to:",!0),{success:!0}}catch(k){return console.error("Signup error:",k),{success:!1,error:k.message}}}async function b(){try{await wt.logout()}catch(O){console.error("Logout error:",O)}finally{l(null),i(null),p(!1);try{localStorage.removeItem("authToken"),localStorage.removeItem("user")}catch{}}}async function x(O="completed"){try{return console.log(" Completing onboarding with status:",O),i(C=>{var N;return{...C,onboarding_completed:!0,completed:!0,onboarding_status:O,save_onboarding:{...C.save_onboarding,onboarding_completed:!0,current_step:"completed",progress:{...(N=C.save_onboarding)==null?void 0:N.progress,percentage:100},completed_at:new Date().toISOString()}}}),p(!1),console.log(" Onboarding marked as completed in AuthContext"),{success:!0}}catch(C){return console.error("Error completing onboarding:",C),{success:!1,error:C.message}}}async function w(){try{console.log(" Loading onboarding data from API...");const{OnboardingApi:O}=await xx(()=>Promise.resolve().then(()=>r0),void 0);if(!(a!=null&&a.id))return console.log(" No user ID available for loading onboarding data"),{success:!1,error:"No user ID"};const C=await O.getProgress(a.id);return console.log(" Onboarding data loaded:",C),i(N=>({...N,save_onboarding:(C==null?void 0:C.save_onboarding)||N.save_onboarding})),{success:!0,data:C}}catch(O){return console.error("Error loading onboarding data:",O),{success:!1,error:O.message}}}async function f(){try{return console.log(" Resetting onboarding status..."),i(O=>{var C;return{...O,onboarding_completed:!1,completed:!1,onboarding_status:"not_started",save_onboarding:{...O.save_onboarding,onboarding_completed:!1,current_step:"personal",progress:{...(C=O.save_onboarding)==null?void 0:C.progress,percentage:0}}}}),console.log(" Onboarding status reset in AuthContext"),{success:!0}}catch(O){return console.error("Error resetting onboarding:",O),{success:!1,error:O.message}}}const M={authToken:t,user:a,loading:s,refreshLoading:r,isNewUser:u,login:h,signup:v,logout:b,refreshAuth:d,isAuthenticated:()=>!!t&&!!a,completeOnboarding:x,resetOnboarding:f,loadOnboardingData:w,hasCompletedOnboarding:()=>a?(console.log(" hasCompletedOnboarding check - Current state:",{isNewUser:u,user:a?{id:a.id,email:a.email,completed:a.completed,onboarding_completed:a.onboarding_completed}:null}),u?(console.log(" hasCompletedOnboarding check: New user from signup, returning false"),!1):(console.log(" hasCompletedOnboarding check: Existing user from login, returning true (direct to dashboard)"),!0)):(console.log(" hasCompletedOnboarding check: No user, returning false"),!1),isTokenExpiringSoon:()=>{if(!t)return!1;try{const C=JSON.parse(atob(t.split(".")[1])).exp*1e3,N=Date.now();return C-N<15*60*1e3}catch(O){return console.error("Error checking token expiry:",O),!0}},setAuthToken:l,setUser:i,setIsNewUser:p};return n.jsx(Pg.Provider,{value:M,children:e})}function Oe(){const e=S.useContext(Pg);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const Fg=S.createContext(),zt=()=>{const e=S.useContext(Fg);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},wx=({children:e})=>{const[t,l]=S.useState([]),a=S.useCallback((h,v="info",b=5e3)=>{const x=Date.now()+Math.random(),w={id:x,message:h,type:v};return l(f=>[...f,w]),b>0&&setTimeout(()=>{l(f=>f.filter(g=>g.id!==x))},b),x},[]),i=S.useCallback(h=>{l(v=>v.filter(b=>b.id!==h))},[]),s=S.useCallback(()=>{l([])},[]),o=S.useCallback((h,v)=>a(h,"success",v),[a]),r=S.useCallback((h,v)=>a(h,"error",v),[a]),c=S.useCallback((h,v)=>a(h,"warning",v),[a]),u=S.useCallback((h,v)=>a(h,"info",v),[a]),p=S.useCallback((h,v="info",b)=>a(h,v,b),[a]),d={notifications:t,addNotification:a,removeNotification:i,clearAllNotifications:s,showSuccess:o,showError:r,showWarning:c,showInfo:u,showNotification:p};return n.jsx(Fg.Provider,{value:d,children:e})};function Ms({height:e=40,className:t=""}){return n.jsx("img",{src:"./images/logo-anatomous.png",alt:"Anatomous",height:e,style:{height:e},className:t})}function gn({open:e,title:t,children:l,onClose:a}){return e?Mm.createPortal(n.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-label":t||"Dialog",onClick:a,children:n.jsxs("div",{className:"modal-card",onClick:i=>i.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",style:{paddingBottom:20},children:[n.jsx("h2",{children:t}),n.jsx("button",{className:"icon-btn","aria-label":"Close",onClick:a,children:""})]}),n.jsx("div",{className:"modal-body",children:l})]})}),document.body):null}const zl={async getAll(){try{const e=await q(J.profiles.getAll);return(e==null?void 0:e.result)??e}catch(e){throw console.error("Error fetching profiles:",e),e}},async getById(e){try{const t=await q(J.profiles.getById(e));return(t==null?void 0:t.result)??t}catch(t){throw console.error("Error fetching profile:",t),t}},async create(e){try{const t=await q(J.profiles.create,{method:"POST",body:e});return(t==null?void 0:t.result)??t}catch(t){throw console.error("Error creating profile:",t),t}},async update(e,t){try{const l=await q(J.profiles.update(e),{method:"PATCH",body:t});return(l==null?void 0:l.result)??l}catch(l){throw console.error("Error updating profile:",l),l}},async delete(e){try{const t=await q(J.profiles.remove(e),{method:"DELETE"});return(t==null?void 0:t.result)??t}catch(t){throw console.error("Error deleting profile:",t),t}},async updatePhoto(e,t){try{const l=await q(J.profiles.update(e),{method:"PATCH",body:{profile_photo:t}});return(l==null?void 0:l.result)??l}catch(l){throw console.error("Error updating profile photo:",l),l}}};function Ig({onClose:e}){const[t,l]=Y.useState(""),[a,i]=Y.useState(""),[s,o]=Y.useState(""),[r,c]=Y.useState(""),[u,p]=Y.useState(!1),[d,h]=Y.useState(!1),[v,b]=Y.useState(!1),[x,w]=Y.useState(""),f=(At==null?void 0:At())||(()=>{}),{signup:g}=(Oe==null?void 0:Oe())||{},{showSuccess:y,showError:j}=zt();async function M(O){var C;if(O.preventDefault(),w(""),!d){w("Please agree to the Terms");return}if(!t||!a||!s||!r){w("Please fill in all fields");return}if(r.length<6){w("Password must be at least 6 characters");return}try{if(b(!0),g){const N=await g(s,r,{firstName:t,lastName:a});if(!(N!=null&&N.success))throw new Error((N==null?void 0:N.error)||"Signup failed");console.log(" Signup via AuthContext successful")}else{const N=await wt.signup({firstName:t,lastName:a,email:s,password:r});console.log(" Signup response data:",N)}y("Account created successfully!");try{console.log(" Creating profile for new user...");const N={first_name:t,last_name:a,email:s};console.log(" Profile data to create:",N);const k=await zl.create(N);console.log(" Profile created successfully:",k),y("Profile created with your information!")}catch(N){console.warn(" Could not create profile automatically:",N.message)}console.log(" Attempting to navigate to /onboarding..."),f("/onboarding",{replace:!0}),setTimeout(()=>{window.location.hash!=="#/onboarding"&&(console.log(" Navigate failed, using window.location fallback"),window.location.href="#/onboarding")},100),e==null||e()}catch(N){const k=((C=N==null?void 0:N.data)==null?void 0:C.message)||(N==null?void 0:N.message);w(k||"Unexpected error during signup")}finally{b(!1)}}return n.jsx(gn,{open:!0,title:"Sign Up",onClose:e,children:n.jsxs("form",{className:"form",onSubmit:M,noValidate:!0,children:[n.jsxs("div",{className:"form-row",style:{gap:12},children:[n.jsxs("div",{className:"form-field",style:{flex:1},children:[n.jsx("label",{htmlFor:"firstName",children:"First name"}),n.jsx("input",{id:"firstName",value:t,onChange:O=>l(O.target.value),placeholder:"John",required:!0})]}),n.jsxs("div",{className:"form-field",style:{flex:1},children:[n.jsx("label",{htmlFor:"lastName",children:"Last name"}),n.jsx("input",{id:"lastName",value:a,onChange:O=>i(O.target.value),placeholder:"Doe",required:!0})]})]}),n.jsxs("div",{className:"form-field",children:[n.jsx("label",{htmlFor:"signupEmail",children:"Email address"}),n.jsx("input",{id:"signupEmail",type:"email",value:s,onChange:O=>o(O.target.value),placeholder:"you@example.com",required:!0})]}),n.jsxs("div",{className:"form-field password",children:[n.jsx("label",{htmlFor:"signupPassword",children:"Password"}),n.jsx("input",{id:"signupPassword",type:u?"text":"password",value:r,onChange:O=>c(O.target.value),placeholder:"Create a password",required:!0}),n.jsx("button",{type:"button",className:"toggle-visibility","aria-label":"Toggle password visibility",onClick:()=>p(O=>!O),children:u?"Hide":"Show"})]}),n.jsxs("label",{className:"checkbox",style:{marginBottom:12},children:[n.jsx("input",{type:"checkbox",checked:d,onChange:O=>h(O.target.checked)}),n.jsx("span",{children:"I agree to the Terms"})]}),x?n.jsx("div",{className:"alert",children:x}):null,n.jsx("button",{className:"btn primary",type:"submit",disabled:v||!d,children:v?"Creating":"Create account"})]})})}function Nx({open:e,onClose:t}){const[l,a]=Y.useState(""),[i,s]=Y.useState(!1),[o,r]=Y.useState(!1),[c,u]=Y.useState("");Y.useEffect(()=>{e||(a(""),s(!1),r(!1),u(""))},[e]);async function p(d){d.preventDefault(),u(""),r(!0);try{await wt.requestPasswordReset(l),s(!0)}catch(h){u(h.message||"Failed to send reset link")}finally{r(!1)}}return n.jsx(gn,{open:e,title:"Reset Password",onClose:t,children:i?n.jsxs("div",{children:[n.jsxs("p",{children:["We sent a reset link to ",n.jsx("strong",{children:l})," if it exists in our system."]}),n.jsx("button",{className:"btn primary",onClick:t,children:"Close"})]}):n.jsxs("form",{onSubmit:p,className:"form",noValidate:!0,children:[n.jsxs("div",{className:"form-field",children:[n.jsx("label",{htmlFor:"forgotEmail",children:"Email address"}),n.jsx("input",{id:"forgotEmail",type:"email",value:l,onChange:d=>a(d.target.value),placeholder:"you@example.com",required:!0})]}),c?n.jsx("div",{className:"alert",children:c}):null,n.jsx("button",{className:"btn primary",type:"submit",disabled:o,children:o?"Sending":"Send reset link"})]})})}const Wg=({notifications:e,onRemove:t})=>n.jsx("div",{className:"notification-container",children:e.map(l=>n.jsx("div",{className:`notification notification-${l.type}`,onClick:()=>t(l.id),children:n.jsxs("div",{className:"notification-content",children:[n.jsxs("div",{className:"notification-icon",children:[l.type==="success"&&"",l.type==="error"&&"",l.type==="warning"&&"",l.type==="info"&&""]}),n.jsx("div",{className:"notification-message",children:l.message}),n.jsx("button",{className:"notification-close",onClick:a=>{a.stopPropagation(),t(l.id)},children:""})]})},l.id))});function Cx({onOpenSignup:e}){const[t,l]=Y.useState(""),[a,i]=Y.useState(""),[s,o]=Y.useState(!1),[r,c]=Y.useState(!1),[u,p]=Y.useState(!1),[d,h]=Y.useState(""),[v,b]=Y.useState(""),[x,w]=Y.useState(""),[f,g]=Y.useState(!1),[y,j]=Y.useState(!1),M=At(),{login:O,authToken:C,setAuthToken:N,setUser:k,hasCompletedOnboarding:H}=Oe(),{notifications:$,removeNotification:B,showSuccess:be,showError:_e}=zt();function De(){let T=!0;return b(""),w(""),(!t||!/^([^\s@]+)@([^\s@]+)\.[^\s@]+$/.test(t))&&(b("Please enter a valid email"),T=!1),a||(w("Please enter your password"),T=!1),T}async function L(T){var A,Q;if(T.preventDefault(),h(""),!!De())try{p(!0);const P=await wt.login({email:t,password:a});console.log(" API Login response:",P),P.authToken?(N(P.authToken),k(P.user??null),console.log(" Auth context updated, checking onboarding status..."),console.log(" User data:",P.user),console.log(" Onboarding completed:",(A=P.user)==null?void 0:A.completed),console.log(" Onboarding completed (legacy):",(Q=P.user)==null?void 0:Q.onboarding_completed),console.log(" Redirecting to root for centralized routing..."),M("/")):h("No authentication token received from server")}catch(P){console.error(" Login error:",P),h(P.message||"Login failed")}finally{p(!1)}}return n.jsxs("div",{className:"auth-layout",children:[n.jsxs("section",{className:"auth-card",children:[n.jsx("div",{style:{marginBottom:16},children:n.jsx(Ms,{height:56,className:"logo-anatomous"})}),n.jsx("h1",{className:"auth-title",children:"Log In"}),n.jsxs("form",{className:"form",onSubmit:L,noValidate:!0,children:[n.jsxs("div",{className:"form-field",children:[n.jsx("label",{htmlFor:"email",children:"Email address"}),n.jsx("input",{id:"email",name:"email",type:"email",placeholder:"Enter your email",autoComplete:"email",value:t,onChange:T=>l(T.target.value),required:!0}),n.jsx("p",{className:"field-hint",children:v})]}),n.jsxs("div",{className:"form-field password",children:[n.jsx("label",{htmlFor:"password",children:"Password"}),n.jsx("input",{id:"password",name:"password",type:s?"text":"password",placeholder:"Enter your password",autoComplete:"current-password",value:a,onChange:T=>i(T.target.value),required:!0}),n.jsx("button",{type:"button",className:"toggle-visibility","aria-label":"Toggle password visibility",onClick:()=>o(T=>!T),children:s?"Hide":"Show"}),n.jsx("p",{className:"field-hint",children:x})]}),n.jsx("button",{type:"submit",className:"btn primary",disabled:u,children:u?"Loading":"Log In"}),n.jsxs("div",{className:"form-row between",children:[n.jsxs("label",{className:"checkbox",children:[n.jsx("input",{id:"remember",name:"remember",type:"checkbox",checked:r,onChange:T=>c(T.target.checked)}),n.jsx("span",{children:"Remember me"})]}),n.jsx("a",{className:"link",href:"#",onClick:T=>{T.preventDefault(),g(!0)},children:"Forgot Password?"})]}),n.jsx("div",{className:"divider",children:n.jsx("span",{children:"or"})}),n.jsxs("div",{className:"social-buttons",children:[n.jsxs("button",{type:"button",className:"btn outline",onClick:async()=>{try{const T=await wt.getGoogleAuthUrl();window.location.href=T}catch(T){console.error("Failed to initiate Google OAuth",T),h("Failed to start Google login. Please try again.")}},children:[n.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google"}),n.jsx("span",{children:"Log in with Google"})]}),n.jsxs("button",{type:"button",className:"btn outline",onClick:()=>alert("Apple Sign-In integration depends on your backend"),children:[n.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/3/31/Apple_logo_white.svg",alt:"Apple"}),n.jsx("span",{children:"Log in with Apple"})]})]}),n.jsxs("p",{className:"alt-action",children:["No account yet? ",n.jsx("a",{className:"link",href:"#",onClick:T=>{T.preventDefault(),j(!0)},children:"Sign up"})]}),d?n.jsx("div",{className:"alert",children:d}):null]}),n.jsx(Nx,{open:f,onClose:()=>g(!1)}),y&&n.jsx(Ig,{onClose:()=>j(!1)})]}),n.jsx("aside",{className:"artwork",children:n.jsx("img",{src:"./images/login_image.avif",alt:"Artwork"})}),n.jsx(Wg,{notifications:$,onRemove:B})]})}function Ld(){const e=At(),{refreshAuth:t,authToken:l,setAuthToken:a,setUser:i,user:s}=Oe(),[o,r]=S.useState(null),[c,u]=S.useState("Initializing..."),[p,d]=S.useState(null);return S.useEffect(()=>{async function h(){try{if(u("Processing authentication..."),console.log(" OAuth callback page loaded"),await new Promise(w=>setTimeout(w,500)),l){console.log(" Auth token already present, checking onboarding status..."),console.log(" User data:",s),console.log(" Onboarding completed:",s==null?void 0:s.onboarding_completed),console.log(" Redirecting to root for centralized routing..."),e("/",{replace:!0});return}u("Getting authentication token..."),console.log(" Calling refreshAuth to exchange cookie for token...");const b=await t();if(console.log(" refreshAuth result:",{newAuthToken:b,tokenLength:b==null?void 0:b.length,tokenPreview:(b==null?void 0:b.substring(0,20))+"..."}),d({hasToken:!!b,tokenLength:b==null?void 0:b.length,authContext:{authToken:l,user:Oe().user}}),!b)throw new Error("Failed to get authentication token. The login session may have expired.");console.log(" Authentication successful!"),u("Success! Checking onboarding status..."),await new Promise(w=>setTimeout(w,800));const x=Oe().user;console.log(" Current user data:",x),console.log(" Onboarding completed:",x==null?void 0:x.completed),console.log(" Onboarding completed (legacy):",x==null?void 0:x.onboarding_completed),(x==null?void 0:x.completed)===!0||(x==null?void 0:x.onboarding_completed)===!0?(console.log(" Onboarding completed. Redirecting to root..."),u("Success! Redirecting..."),e("/",{replace:!0})):(console.log(" Onboarding not completed. Redirecting to root..."),u("Success! Redirecting..."),e("/",{replace:!0}))}catch(b){console.error(" OAuth callback error:",b),console.error("Error details:",{message:b.message,status:b.status,data:b.data});const x=b.message||"Failed to complete Google login";r(x),d({error:x,errorStatus:b.status,errorData:b.data})}}const v=setTimeout(h,200);return()=>clearTimeout(v)},[e,t,l]),o?n.jsxs("div",{style:{maxWidth:600,margin:"100px auto",padding:24,borderRadius:8,boxShadow:"0 2px 8px rgba(0,0,0,0.1)",backgroundColor:"#111",color:"#fff"},children:[n.jsx("div",{style:{fontSize:48,marginBottom:16,textAlign:"center"},children:""}),n.jsx("h3",{style:{color:"#ff4c4c",marginTop:0,textAlign:"center"},children:"Authentication Failed"}),n.jsx("p",{style:{color:"#ccc",marginBottom:8,textAlign:"center"},children:o}),p&&n.jsxs("details",{style:{marginTop:20,padding:12,backgroundColor:"#1a1a1a",borderRadius:4},children:[n.jsx("summary",{style:{cursor:"pointer",color:"#00bace"},children:"Debug Info"}),n.jsx("pre",{style:{fontSize:11,overflow:"auto",marginTop:8,padding:8,backgroundColor:"#0a0a0a",borderRadius:4},children:JSON.stringify(p,null,2)})]}),n.jsx("p",{style:{fontSize:"14px",color:"#777",textAlign:"center",marginTop:16},children:"Redirecting to login in 5 seconds..."})]}):n.jsxs("div",{style:{maxWidth:400,margin:"100px auto",padding:24,textAlign:"center",borderRadius:8,boxShadow:"0 2px 8px rgba(0,0,0,0.1)",backgroundColor:"#111",color:"#fff"},children:[n.jsx("h3",{style:{marginTop:0,color:"#00bace"},children:"Completing Google Sign-In"}),n.jsx("p",{style:{color:"#ccc",marginBottom:24},children:c}),n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:n.jsx("div",{style:{border:"3px solid #222",borderTop:"3px solid #00bace",borderRadius:"50%",width:"40px",height:"40px",animation:"spin 1s linear infinite"}})}),p&&n.jsxs("details",{style:{marginTop:20,padding:12,backgroundColor:"#1a1a1a",borderRadius:4,textAlign:"left"},children:[n.jsx("summary",{style:{cursor:"pointer",color:"#00bace",textAlign:"center"},children:"Debug Info"}),n.jsx("pre",{style:{fontSize:11,overflow:"auto",marginTop:8,padding:8,backgroundColor:"#0a0a0a",borderRadius:4},children:JSON.stringify(p,null,2)})]}),n.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function Ex(){const e=At(),t=Zl(),[l,a]=Y.useState(!1),{logout:i}=Oe(),{notifications:s,removeNotification:o}=zt(),r=async()=>{await i(),document.cookie="refresh_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",localStorage.removeItem("refresh_token"),e("/login")};return Y.useEffect(()=>{a(!1)},[t.pathname]),n.jsxs("div",{className:`dash-layout ${l?"menu-open":""}`,children:[n.jsx("header",{className:"dash-header",children:n.jsx(Ms,{height:28})}),n.jsxs("button",{className:"hamburger","aria-label":"Open menu","aria-expanded":l,"aria-controls":"sidebar",onClick:()=>a(c=>!c),children:[n.jsx("span",{}),n.jsx("span",{}),n.jsx("span",{})]}),n.jsxs("aside",{id:"sidebar",className:"dash-sidebar",role:"navigation",style:{display:"flex",flexDirection:"column"},children:[n.jsx("div",{className:"dash-brand",style:{display:"flex",alignItems:"center",gap:8},children:n.jsx(Ms,{height:28})}),n.jsxs("div",{className:"dash-nav",style:{flex:1},children:[n.jsx(xl,{end:!0,className:({isActive:c})=>`dash-link ${c?"active":""}`,to:"/dashboard",children:"Overview"}),n.jsx(xl,{className:({isActive:c})=>`dash-link ${c?"active":""}`,to:"/dashboard/insights",children:"Insights"}),n.jsx(xl,{className:({isActive:c})=>`dash-link ${c?"active":""}`,to:"/dashboard/goals",children:"Goals"}),n.jsx(xl,{className:({isActive:c})=>`dash-link ${c?"active":""}`,to:"/dashboard/workouts",children:"Workouts"}),n.jsx(xl,{className:({isActive:c})=>`dash-link ${c?"active":""}`,to:"/dashboard/nutrition",children:"Nutrition"}),n.jsx(xl,{className:({isActive:c})=>`dash-link ${c?"active":""}`,to:"/dashboard/reports",children:"Reports"}),n.jsx(xl,{className:({isActive:c})=>`dash-link ${c?"active":""}`,to:"/dashboard/profile",children:"Profile"}),n.jsx(xl,{className:({isActive:c})=>`dash-link ${c?"active":""}`,to:"/dashboard/settings",children:"Settings"})]}),n.jsx(Tx,{onLogout:r})]}),l&&n.jsx("div",{className:"dash-backdrop",onClick:()=>a(!1)}),n.jsxs("section",{className:"dash-content",children:[n.jsx("div",{className:"dash-toolbar"}),n.jsx(Wv,{})]}),n.jsx(Wg,{notifications:s,onRemove:o})]})}function Tx({onLogout:e}){var c,u,p;const{user:t}=Oe(),l=((c=((t==null?void 0:t.first_name)||(t==null?void 0:t.name)||"?")[0])==null?void 0:c.toUpperCase())+(((p=(u=t==null?void 0:t.last_name)==null?void 0:u[0])==null?void 0:p.toUpperCase())||""),[a,i]=Y.useState(""),[s,o]=Y.useState(null),r=d=>{if(!d)return"";if(d.avatar)return d.avatar;if(d.photo_url)return d.photo_url;const h=d.profile_photo;return typeof h=="string"?h:h&&(h.url||h.path)?h.url||h.path:""};return Y.useEffect(()=>{const d=r(t);if(d){i(d);return}let h=!1;return(async()=>{try{if(!(t!=null&&t.id))return;const v=await zl.getById(t.id);if(h)return;o(v||null);const b=r(v);b&&i(b)}catch{}})(),()=>{h=!0}},[t==null?void 0:t.id]),n.jsxs("div",{style:{marginTop:16,paddingTop:12,borderTop:"1px solid var(--border, #ececec)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[a?n.jsx("img",{src:a,alt:((t==null?void 0:t.first_name)||(t==null?void 0:t.name)||"User")+" avatar",style:{width:36,height:36,borderRadius:999,objectFit:"cover",background:"#eee"}}):n.jsx("div",{style:{width:36,height:36,borderRadius:999,background:"#ddd",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:600},children:l}),n.jsxs("div",{style:{minWidth:0},children:[n.jsx("div",{style:{fontWeight:600,lineHeight:1.2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:(()=>{var v;const d=((t==null?void 0:t.first_name)||(t==null?void 0:t.firstName)||(t==null?void 0:t.name)||(s==null?void 0:s.first_name)||(s==null?void 0:s.firstName)||"").toString(),h=(((v=(t==null?void 0:t.last_name)||(t==null?void 0:t.lastName)||(s==null?void 0:s.last_name)||(s==null?void 0:s.lastName)||"")==null?void 0:v[0])||"").toString();return d?`${d}${h?` ${h}.`:""}`:""})()}),n.jsx("div",{style:{fontSize:12,color:"#666",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:(t==null?void 0:t.email)||(s==null?void 0:s.email)||""})]})]}),n.jsx("button",{className:"btn outline",style:{width:"100%"},onClick:e,children:"Log out"})]})}function Ax(){return n.jsxs("div",{className:"grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px,1fr))",gap:16},children:[n.jsxs("div",{className:"card",children:[n.jsx("h3",{style:{marginTop:0},children:"Today"}),n.jsx("p",{children:"Steps: 8,214"}),n.jsx("p",{children:"Calories: 1,920 kcal"})]}),n.jsxs("div",{className:"card",children:[n.jsx("h3",{style:{marginTop:0},children:"Sleep"}),n.jsx("p",{children:"7h 45m last night"})]}),n.jsxs("div",{className:"card",children:[n.jsx("h3",{style:{marginTop:0},children:"Water"}),n.jsx("p",{children:"1.7 L of 2.0 L goal"})]}),n.jsxs("div",{className:"card",children:[n.jsx("h3",{style:{marginTop:0},children:"Goal"}),n.jsx("p",{children:"Workout 4x/week"})]})]})}const Ox={async generateInsight(e){try{const t={query:e.query||"",metrics:e.metrics||[]};return await q(`${te}/generate-insight`,{method:"POST",body:t})}catch(t){throw console.error("Error generating insight:",t),t}},async getRecentInsights(e){try{const t=new URLSearchParams({type_metric:e});return await q(`${te}/insights_recent?${t}`,{method:"GET"})}catch(t){throw console.error("Error getting recent insights:",t),t}}},Dx=()=>{const[e,t]=S.useState(!1),[l,a]=S.useState(null),[i,s]=S.useState([]),{user:o}=Oe(),r=["I understand you're experiencing concerning symptoms. It's important to seek immediate medical attention. Please call your local emergency services or go to the nearest emergency room.","Your symptoms suggest you need urgent medical care. Please contact emergency services right away - your health is the priority.","For immediate health concerns, please reach out to a healthcare professional or emergency services. This assistant cannot provide emergency medical advice."],c=["I'm here to help with general health information and wellness tips. For specific medical concerns, please consult with a healthcare professional.","I can provide educational health information to help you understand general health topics. For personalized medical advice, please speak with your doctor.","Let's discuss general health and wellness topics. For specific symptoms or medical questions, consulting a healthcare professional is recommended."],u=S.useCallback(v=>[/severe chest pain/i,/can'?t breathe/i,/suicid/i,/overdose/i,/bleeding that won'?t stop/i].some(x=>x.test(v)),[]),p=v=>v[Math.floor(Math.random()*v.length)],d=S.useCallback(async v=>{var b,x,w;t(!0),a(null);try{const f={role:"user",content:v};if(s(y=>[...y,f]),u(v)){const y=p(r);return s(j=>[...j,{role:"assistant",content:y}]),t(!1),y}if(!o||!o.id){const y="Please log in to use the AI Health Assistant. This feature requires authentication to provide secure and personalized health insights.";return s(j=>[...j,{role:"assistant",content:y}]),a("Authentication required"),t(!1),y}let g;try{g=await Ox.generateInsight({query:v,metrics:[]})}catch(y){if(console.error("API Error:",y),y.status===401){const j="Unable to authenticate. Please try logging in again.";return s(M=>[...M,{role:"assistant",content:j}]),a("Authentication failed"),t(!1),j}throw y}if(g&&g.result){let y=null;const j=[g.result.description,g.result.educational_insight,g.result.response,g.result.message,g.result.content];for(const M of j)if(M){if(typeof M=="string"){y=M;break}if(typeof M=="object"&&M.message){y=M.message;break}}return y||(y="I'd be happy to help you learn more about general health topics."),s(M=>[...M,{role:"assistant",content:y}]),y}else{const y=p(c);return s(j=>[...j,{role:"assistant",content:y}]),y}}catch(f){if(console.error("Error generating insight:",f),f.status===401||(b=f.message)!=null&&b.includes("Unauthorized")||(x=f.message)!=null&&x.includes("401")){const y="I apologize, but there was an authentication issue. Please try logging out and logging back in, or refresh the page.";return s(j=>[...j,{role:"assistant",content:y}]),a("Authentication failed - please log in again"),y}if((w=f.message)!=null&&w.includes("Failed to fetch")||f.name==="TypeError"){const y="I'm having trouble connecting to the server. Please check your internet connection and try again.";return s(j=>[...j,{role:"assistant",content:y}]),a("Network error"),y}const g=p(c);return s(y=>[...y,{role:"assistant",content:g}]),a("Failed to generate response"),g}finally{t(!1)}},[o,u]),h=S.useCallback(()=>{s([]),a(null)},[]);return{loading:e,error:l,conversation:i,sendMessage:d,clearConversation:h}};const zx=()=>{const[e,t]=S.useState(""),{loading:l,error:a,conversation:i,sendMessage:s,clearConversation:o}=Dx(),r=S.useRef(null),[c]=S.useState(!0),u=()=>{var h;(h=r.current)==null||h.scrollIntoView({behavior:"smooth"})};S.useEffect(()=>{u()},[i]);const p=async h=>{h.preventDefault(),!(!e.trim()||l)&&(await s(e),t(""))},d=h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),p(h))};return n.jsxs("div",{className:"chat-container",children:[n.jsxs("div",{className:"chat-header",children:[n.jsx("h2",{style:{margin:0,fontSize:18,fontWeight:600},children:"AI Health Assistant"}),n.jsx("button",{onClick:o,className:"clear-btn",children:"Clear Chat"})]}),c&&i.length===0&&n.jsxs("div",{style:{background:"rgba(0, 186, 206, 0.1)",border:"1px solid rgba(0, 186, 206, 0.3)",borderRadius:8,padding:12,margin:12,fontSize:12,color:"var(--muted)"},children:[n.jsx("strong",{children:"Important:"})," This AI assistant provides general health information and educational content only. It is not a substitute for professional medical advice. For specific health concerns, please consult with a healthcare professional."]}),a&&n.jsxs("div",{className:"error-message",children:["Error: ",a]}),n.jsxs("div",{className:"messages-container",children:[i.length===0?n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:"Ask a question to start the conversation!"})}):i.map((h,v)=>n.jsx("div",{className:`message ${h.role==="user"?"user-message":"ai-message"}`,children:n.jsx("div",{className:"message-content",children:h.content})},v)),n.jsx("div",{ref:r})]}),n.jsx("form",{onSubmit:p,className:"input-form",children:n.jsxs("div",{className:"input-container",children:[n.jsx("textarea",{value:e,onChange:h=>t(h.target.value),onKeyPress:d,placeholder:"Type your message here...",disabled:l,rows:3,className:"message-input"}),n.jsx("button",{type:"submit",disabled:l||!e.trim(),className:"send-button",children:l?"":""})]})})]})},Rx={async createComprehensiveAlert(e){try{const t={user_id:e.user_id,metrics:e.metrics||[]};return await q(le.comprehensiveAlerts.comprehensiveAlerts,{method:"POST",body:t})}catch(t){throw console.error(" Error creating comprehensive alert:",t),t}},async fetchComprehensiveAlerts(e){try{return await q(le.comprehensiveAlerts.comprehensiveAlerts,{method:"GET",headers:{"Content-Type":"application/json"}})}catch(t){throw console.error(" Error fetching comprehensive alerts:",t),t}}},Mx=e=>({"application/pdf":"pdf","image/jpeg":"pdf","image/jpg":"pdf","image/png":"pdf","application/msword":"pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"pdf","text/plain":"pdf"})[e]||"pdf",Na={async uploadFile(e,t,l="other",a=null){try{const i=new FormData;i.append("file",e),i.append("user_id",t);const o=new Set(["medical","insurance","lab","other","Labs","profile"]).has(l)?l:"other";i.append("category",o);const r=Mx(e.type);return i.append("file_type",r),i.append("file_name",a||e.name),await q(le.uploudFile.uploudFile,{method:"POST",body:i})}catch(i){throw console.error("Error uploading file:",i),i}},async uploadAvatar(e,t="profile",l=null){try{const a=new FormData;return a.append("image",e),a.append("category",t),a.append("file_type",l||(e.type||"").split("/")[1]||"image"),await q(le.uploudFile.avatarUpload,{method:"POST",body:a})}catch(a){throw console.error("Error uploading avatar:",a),a}},async getUserFiles(e){try{return await q(`${le.uploudFile.getUserUploudFiles}?user_id=${e}`)}catch(t){throw console.error("Error getting user files:",t),t}},async downloadFile(e,t=null,l=null){try{let a=`${le.uploudFile.downloadFile}`;const i=new URLSearchParams;e&&i.append("file_id",e),l&&i.append("user_id",l),a+=`?${i.toString()}`;const s=localStorage.getItem("authToken"),o=await fetch(a,{method:"GET",headers:{Authorization:`Bearer ${s}`},credentials:"include"});if(!o.ok)throw new Error(`Download failed with status: ${o.status}`);const r=await o.blob(),c=window.URL.createObjectURL(r),u=document.createElement("a");return u.href=c,u.download=t||`file_${e}`,document.body.appendChild(u),u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(c),{success:!0,message:"File downloaded successfully"}}catch(a){throw console.error("Error downloading file:",a),a}},async deleteFile(e,t=null){try{return await q(le.uploudFile.deleteFile,{method:"PATCH",body:{file_id:e,user_id:t}})}catch(l){throw console.error("Error deleting file:",l),l}}},Gd={async getTrends({typeMetric:e,period:t,startDate:l,endDate:a}){try{return await q(`${te}/metrics/trends`,{method:"POST",body:{type_metric:e,period:t,start_date:l,end_date:a}})}catch(i){throw console.error("Error getting trends:",i),i}},async getForecast(e){try{return await q(`${te}/metrics/forecast`,{method:"POST",body:{type_metric:e}})}catch(t){throw console.error("Error getting forecast:",t),t}}};function qd({data:e,height:t=120,color:l="var(--primary)",gradientBg:a="rgba(0,186,206,0.1)"}){const[i,s]=S.useState(null);return!e||e.length===0?n.jsx("div",{style:{height:t,display:"flex",alignItems:"center",justifyContent:"center",color:"var(--muted)"},children:"No data"}):n.jsxs("div",{style:{position:"relative"},children:[n.jsx("div",{style:{height:t,background:`linear-gradient(to top, ${a} 0%, transparent 100%)`,border:"1px solid var(--border)",borderRadius:8,display:"flex",alignItems:"flex-end",padding:8},children:e.map((o,r)=>{const c=o.isEmpty===!0,u=c?"var(--border)":l;return n.jsx("div",{onMouseEnter:()=>s({x:r,value:o.value,label:o.label||`Day ${r+1}`,isEmpty:c}),onMouseLeave:()=>s(null),style:{flex:1,height:`${o.height}%`,background:u,margin:"0 2px",borderRadius:"2px 2px 0 0",cursor:"pointer",transition:"all 0.2s",opacity:c?.4:1}},r)})}),n.jsx("div",{style:{display:"flex",gap:"2px",paddingTop:4},children:e.map((o,r)=>n.jsx("div",{style:{flex:1,display:"flex",justifyContent:"center",fontSize:8,color:"var(--muted)",overflow:"hidden"},children:n.jsx("span",{style:{writingMode:e.length>15?"vertical-rl":"horizontal-tb",textOrientation:"mixed",transform:e.length>15?"rotate(180deg)":"none",whiteSpace:"nowrap"},children:(()=>o.label&&/^\d+/.test(o.label)?o.label.split(" ")[0]:o.label||`${r+1}`)()})},r))}),i&&n.jsxs("div",{style:{position:"absolute",left:`${i.x/e.length*100}%`,bottom:"100%",transform:"translateX(-50%) translateY(-8px)",background:"rgba(0,0,0,0.9)",backdropFilter:"blur(8px)",color:"var(--text)",padding:"6px 10px",borderRadius:6,fontSize:12,whiteSpace:"nowrap",pointerEvents:"none",border:"1px solid var(--border)",zIndex:1e3},children:[n.jsx("div",{style:{fontWeight:600,marginBottom:2},children:i.label}),n.jsx("div",{style:{color:i.isEmpty?"var(--muted)":l,fontSize:11},children:i.isEmpty?"No data":i.value})]})]})}function Hx({data:e,size:t=120,strokeWidth:l=16}){const[a,i]=S.useState(null);if(!e||e.length===0)return n.jsx("div",{style:{width:t,height:t,display:"flex",alignItems:"center",justifyContent:"center",color:"var(--muted)"},children:"No data"});const s=e.reduce((d,h)=>d+h.value,0),o=(t-l)/2,r=t/2,c=2*Math.PI*o;let u=0;const p=e.map((d,h)=>{const v=u;u+=d.value;const b=u,x=d.color||["var(--primary)","var(--success)","var(--warning)","var(--error)"][h%4],f=`${(b-v)/s*c} ${c}`,g=-(v/s)*c;return{...d,index:h,color:x,dashArray:f,dashOffset:g}});return n.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[n.jsxs("svg",{width:t,height:t,children:[n.jsx("circle",{cx:r,cy:r,r:o,fill:"none",stroke:"var(--border)",strokeWidth:l}),p.map((d,h)=>n.jsx("circle",{cx:r,cy:r,r:o,fill:"none",stroke:d.color,strokeWidth:l,strokeDasharray:d.dashArray,strokeDashoffset:d.dashOffset,strokeLinecap:"round",transform:`rotate(-90 ${r} ${r})`,onMouseEnter:()=>i({...d,percentage:(d.value/s*100).toFixed(0)}),onMouseLeave:()=>i(null),style:{cursor:"pointer",transition:"stroke-width 0.2s"}},h)),n.jsxs("text",{x:r,y:r-5,textAnchor:"middle",dominantBaseline:"middle",fontSize:"20",fontWeight:"600",fill:"var(--text)",children:[s,"%"]}),n.jsx("text",{x:r,y:r+15,textAnchor:"middle",dominantBaseline:"middle",fontSize:"10",fill:"var(--muted)",children:"Forecast"})]}),a&&n.jsxs("div",{style:{position:"absolute",left:"50%",bottom:"100%",transform:"translateX(-50%) translateY(-8px)",background:"rgba(0,0,0,0.9)",backdropFilter:"blur(8px)",color:"var(--text)",padding:"6px 10px",borderRadius:6,fontSize:12,whiteSpace:"nowrap",pointerEvents:"none",border:"1px solid var(--border)",zIndex:1e3},children:[n.jsx("div",{style:{fontWeight:600,marginBottom:2},children:a.label}),n.jsxs("div",{style:{color:a.color,fontSize:11},children:[a.percentage,"%"]})]})]})}function kx(){const[e,t]=S.useState("ai-insights");Oe(),zt();const l=[{id:"ai-insights",label:"AI Health Insights"},{id:"trends",label:"Trends & Forecasts"},{id:"alerts",label:"Early Alerts"},{id:"uploads",label:"Uploads"}];return n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[n.jsx("div",{className:"dash-toolbar",children:n.jsx("h1",{style:{margin:0},children:"Insights"})}),n.jsx("div",{style:{display:"flex",gap:8,borderBottom:"1px solid var(--border)",paddingBottom:8,marginBottom:16},children:l.map(a=>n.jsx("button",{onClick:()=>t(a.id),style:{padding:"8px 16px",border:"none",background:"transparent",color:e===a.id?"var(--primary)":"var(--muted)",cursor:"pointer",fontSize:14,fontWeight:e===a.id?600:400,borderBottom:e===a.id?"2px solid var(--primary)":"2px solid transparent",transition:"all 0.2s"},children:a.label},a.id))}),e==="ai-insights"&&n.jsx(Ux,{}),e==="trends"&&n.jsx(Bx,{}),e==="alerts"&&n.jsx(Lx,{}),e==="uploads"&&n.jsx(Gx,{})]})}function Ux(){return n.jsx("div",{children:n.jsx(zx,{})})}function Bx(){const[e,t]=S.useState(!1),[l,a]=S.useState(!1),[i,s]=S.useState(null),[o,r]=S.useState(null),[c,u]=S.useState("heart_rate"),[p,d]=S.useState("Overview");zt();const{user:h}=Oe(),v=["heart_rate","blood_pressure","sleep_duration","blood_oxygen","body_temp"],b=Y.useCallback(()=>{const C=new Date,N=C.getFullYear(),k=C.getMonth();return new Date(N,k+1,0).getDate()},[]),x=Y.useMemo(()=>[...Array(10)].map((C,N)=>({height:40+N*3+Math.sin(N*.5)*10,value:`${Math.floor(60+N*2)}`,label:`Day ${N+1}`})),[]),w=b(),f=Y.useMemo(()=>[...Array(w)].map((C,N)=>({height:30+N/4*5+Math.cos(N*.1)*8,value:`${Math.floor(45+N/4*3)}`,label:`Day ${N+1}`})),[w]),g=Y.useMemo(()=>{if(i&&i.result&&Array.isArray(i.result)){const C=i.result;console.log("Using API data for Health Trend:",C);const N=C.map((H,$)=>{const B=H.value===null||H.value===void 0?0:parseFloat(H.value),be=isNaN(B)?0:B;let _e=`${$+1}`;if(H.period)try{_e=`${new Date(H.period).getDate()}`}catch{}return{height:be,value:`${Math.floor(be)}`,label:_e,trend:H.trend||"neutral",isEmpty:H.value===null||H.value===void 0}}),k=b();if(N.length<k)for(let H=N.length;H<k;H++)N.push({height:0,value:"0",label:`${H+1}`,trend:"neutral",isEmpty:!0});if(N.length>0)return N}return i&&console.log("API returned data but no valid values found, using mock data. API response:",i),f},[i,f]),y=Y.useMemo(()=>[{label:"Excellent",value:35,color:"rgba(0,186,206,0.9)"},{label:"Good",value:45,color:"rgba(0,186,206,0.6)"},{label:"Fair",value:15,color:"rgba(0,186,206,0.3)"},{label:"Poor",value:5,color:"rgba(0,76,215,0.3)"}],[]),j=Y.useMemo(()=>{if(o&&o.result_forecast){console.log("Using API forecast data:",o.result_forecast);const C=o.result_forecast,N=C.forecast;if(N&&N.points&&Array.isArray(N.points)&&N.points.length>0)return N.points.map((k,H)=>{const $=["rgba(0,186,206,0.9)","rgba(0,186,206,0.6)","rgba(0,186,206,0.3)","rgba(0,76,215,0.3)"];return{label:k.category||k.label||k.type||`Forecast ${H+1}`,value:parseFloat(k.value||k.percentage||0),color:$[H%$.length]}});if(C.trend||C.message){console.log("Using trend info for forecast");const k=C.trend||"neutral";if(N!=null&&N.confidence,k==="up")return[{label:"Improving",value:60,color:"rgba(0,186,206,0.9)"},{label:"Stable",value:30,color:"rgba(0,186,206,0.6)"},{label:"Declining",value:10,color:"rgba(0,186,206,0.3)"}];if(k==="down")return[{label:"Improving",value:20,color:"rgba(0,186,206,0.3)"},{label:"Stable",value:40,color:"rgba(0,186,206,0.6)"},{label:"Declining",value:40,color:"rgba(0,76,215,0.3)"}]}}return console.log("Using mock forecast data"),y},[o,y]),M=async()=>{try{t(!0);const C=new Date().toISOString().split("T")[0],N=new Date(Date.now()-7*24*60*60*1e3).toISOString().split("T")[0],k=await Gd.getTrends({typeMetric:c,period:p.toLowerCase(),startDate:N,endDate:C});(k&&k.success!==!1&&k.success!==void 0||k.succes!==!1&&k.succes!==void 0)&&(s(k),console.log("Trends loaded successfully from API:",k))}catch(C){console.log("Error fetching trends from API, using mock data instead",C)}finally{t(!1)}},O=async()=>{try{a(!0);const C=await Gd.getForecast(c);(C&&C.success!==!1&&C.success!==void 0||C.succes!==!1&&C.succes!==void 0)&&(r(C),console.log("Forecast loaded successfully from API:",C))}catch(C){console.log("Error fetching forecast from API, using mock data instead",C)}finally{a(!1)}};return S.useEffect(()=>{h&&h.id&&(M(),O())},[c,p,h]),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[n.jsxs("div",{className:"card",children:[n.jsx("h3",{style:{marginTop:0},children:"Recent Insights"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginTop:12},children:[1,2,3,4].map(C=>n.jsxs("div",{style:{padding:12,background:"rgba(0,186,206,0.1)",border:"1px solid var(--border)",borderRadius:8,minHeight:100},children:[n.jsxs("div",{style:{fontWeight:600,marginBottom:8},children:["Insight #",C]}),n.jsx("div",{style:{fontSize:12,color:"var(--muted)"},children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})]},C))})]}),n.jsxs("div",{className:"card",children:[n.jsx("h3",{style:{marginTop:0},children:"Vitals"}),n.jsxs("div",{style:{marginTop:12},children:[n.jsx(qd,{data:x,height:120}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:["Heart Rate: 72 bpm","Blood Pressure: 120/80","Weight: 70 kg","Body Temperature: 36.6C","Blood Oxygen: 98%","Respiratory Rate: 16 bpm"].map((C,N)=>n.jsxs("div",{style:{fontSize:13,display:"flex",justifyContent:"space-between"},children:[n.jsxs("span",{style:{color:"var(--muted)"},children:[C.split(":")[0],":"]}),n.jsx("span",{children:C.split(":")[1]})]},N))}),n.jsx("button",{className:"btn outline",style:{marginTop:12,width:"100%"},children:"New Entry"})]})]})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{style:{marginBottom:16},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[n.jsx("h3",{style:{marginTop:0},children:"Trends & Forecasts"}),e&&n.jsx("span",{style:{fontSize:12,color:"var(--primary)"},children:"Loading..."})]}),n.jsxs("div",{style:{display:"flex",gap:8,marginBottom:12,flexWrap:"wrap"},children:[n.jsx("select",{value:c,onChange:C=>u(C.target.value),style:{padding:"6px 12px",background:"rgba(17,17,17,.85)",border:"1px solid var(--border)",borderRadius:8,color:"var(--text)",fontSize:13,minWidth:140},children:v.map(C=>n.jsx("option",{value:C,children:C.replace(/_/g," ").replace(/\b\w/g,N=>N.toUpperCase())},C))}),["Overview","Daily","Monthly"].map(C=>n.jsx("button",{onClick:()=>d(C),className:`btn ${p===C?"primary":"outline"} small`,style:{height:32},children:C},C))]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[n.jsxs("div",{children:[n.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:n.jsx("h4",{style:{marginTop:0,marginBottom:12},children:"Health Trend"})}),n.jsx(qd,{data:g,height:120})]}),n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h4",{style:{marginTop:0,marginBottom:12},children:"Forecast"}),!o&&n.jsx("span",{style:{fontSize:10,color:"var(--muted)",fontStyle:"italic"},children:"Mock data"}),o&&n.jsx("span",{style:{fontSize:10,color:"var(--success)",fontStyle:"italic"},children:"Live data"})]}),n.jsxs("div",{style:{display:"flex",gap:16,alignItems:"center"},children:[n.jsx(Hx,{data:j,size:120}),n.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:8},children:j.map((C,N)=>{const k=C.value;return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:12},children:[n.jsx("div",{style:{width:12,height:12,borderRadius:2,background:C.color}}),n.jsxs("span",{style:{color:"var(--muted)"},children:[C.label,":"]}),n.jsxs("span",{style:{fontWeight:600},children:[k,"%"]})]},N)})})]})]})]})]})]})}function Lx(){var d;const{user:e}=Oe(),{showNotification:t}=zt(),[l,a]=S.useState([]),[i,s]=S.useState(!1),[o,r]=S.useState(null),[c,u]=S.useState(!1);S.useEffect(()=>{e!=null&&e.id&&p()},[e]);const p=async()=>{try{s(!0);const h=await Rx.fetchComprehensiveAlerts(e.id);a(h.result||h||[]),h.result&&h.result.length>0&&r(h.result[0])}catch(h){console.error("Error loading alerts:",h),t("Failed to load alerts","error")}finally{s(!1)}};return n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[n.jsxs("div",{className:"card",children:[n.jsx("h3",{style:{marginTop:0},children:"Health Alerts"}),i?n.jsx("div",{style:{textAlign:"center",padding:20,color:"var(--muted)"},children:"Loading alerts..."}):l.length===0?n.jsx("div",{style:{textAlign:"center",padding:20,color:"var(--muted)"},children:"No alerts at this time"}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12,marginTop:12},children:l.map((h,v)=>n.jsxs("div",{onClick:()=>r(h),style:{display:"flex",alignItems:"center",gap:12,padding:12,background:o===h?"rgba(0,186,206,0.15)":"rgba(0,186,206,0.05)",border:o===h?"2px solid var(--primary)":"1px solid var(--border)",borderRadius:8,cursor:"pointer",transition:"all 0.2s"},children:[n.jsx("div",{style:{width:40,height:40,borderRadius:"50%",background:"conic-gradient(var(--warning) 0%, rgba(245,166,35,0.2) 60%, transparent 60%)",border:"3px solid var(--border)"}}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontWeight:600,marginBottom:4},children:h.metric_name||h.alert_type||`Alert #${v+1}`}),n.jsx("div",{style:{fontSize:12,color:"var(--muted)"},children:h.description||h.message||"Health alert"})]})]},v))})]}),n.jsxs("div",{className:"card",children:[n.jsx("h3",{style:{marginTop:0},children:"What This Means"}),o?n.jsxs("div",{style:{marginTop:12},children:[n.jsxs("div",{style:{marginBottom:12},children:[n.jsx("strong",{children:"Severity:"})," ",n.jsx("span",{style:{padding:"4px 8px",background:o.severity==="critical"||o.severity==="high"?"rgba(255,76,76,0.1)":"rgba(245,166,35,0.1)",color:o.severity==="critical"||o.severity==="high"?"var(--error)":"var(--warning)",borderRadius:4,fontSize:12,fontWeight:600},children:((d=o.severity)==null?void 0:d.toUpperCase())||"MEDIUM"})]}),n.jsx("div",{style:{fontSize:14,lineHeight:1.6,color:"var(--muted)",marginBottom:12},children:o.description||o.message||"This is a health alert that requires attention."}),o.timestamp&&n.jsxs("div",{style:{fontSize:12,color:"var(--hint)",marginBottom:12},children:["Detected: ",new Date(o.timestamp).toLocaleString()]})]}):n.jsxs("div",{style:{marginTop:12,fontSize:14,lineHeight:1.6,color:"var(--muted)"},children:[n.jsx("p",{children:"Health alerts are generated based on your vital signs and health data. They help you identify potential health issues early and take preventive measures."}),n.jsx("p",{style:{marginTop:12},children:"Our AI analyzes patterns and deviations from your baseline metrics to provide personalized insights and recommendations."})]}),n.jsx("button",{className:"btn secondary",style:{marginTop:16,width:"100%"},onClick:()=>u(!0),children:"Learn More"})]}),n.jsxs(gn,{open:c,title:"About Health Alerts",onClose:()=>u(!1),children:[n.jsxs("div",{style:{marginBottom:20},children:[n.jsx("h3",{style:{marginTop:0,marginBottom:12},children:"Understanding Health Alerts"}),n.jsx("p",{style:{lineHeight:1.6,marginBottom:12},children:"Health alerts are automatically generated based on your vital signs and health data. Our AI system monitors your metrics 24/7 and identifies patterns or deviations from your baseline."})]}),n.jsxs("div",{style:{marginBottom:20},children:[n.jsx("h4",{style:{marginTop:0,marginBottom:8},children:"Alert Severity Levels"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[n.jsxs("div",{style:{padding:12,background:"rgba(255,76,76,0.1)",border:"1px solid rgba(255,76,76,0.35)",borderRadius:8},children:[n.jsx("strong",{style:{color:"var(--error)",marginBottom:4,display:"block"},children:"CRITICAL"}),n.jsx("span",{style:{fontSize:13,color:"var(--muted)"},children:"Immediate medical attention required. Seek emergency care."})]}),n.jsxs("div",{style:{padding:12,background:"rgba(245,166,35,0.1)",border:"1px solid rgba(245,166,35,0.35)",borderRadius:8},children:[n.jsx("strong",{style:{color:"var(--warning)",marginBottom:4,display:"block"},children:"HIGH"}),n.jsx("span",{style:{fontSize:13,color:"var(--muted)"},children:"Significant deviation from normal. Consult your healthcare provider soon."})]}),n.jsxs("div",{style:{padding:12,background:"rgba(245,166,35,0.05)",border:"1px solid rgba(245,166,35,0.2)",borderRadius:8},children:[n.jsx("strong",{style:{color:"var(--warning)",marginBottom:4,display:"block"},children:"MEDIUM"}),n.jsx("span",{style:{fontSize:13,color:"var(--muted)"},children:"Moderate deviation. Monitor and mention at your next appointment."})]})]})]}),n.jsxs("div",{style:{marginBottom:20},children:[n.jsx("h4",{style:{marginTop:0,marginBottom:8},children:"What to Do"}),n.jsxs("ul",{style:{margin:0,paddingLeft:20,lineHeight:1.8,color:"var(--muted)"},children:[n.jsx("li",{children:"Review the detailed description of each alert"}),n.jsx("li",{children:"Consider when the alert was triggered"}),n.jsx("li",{children:"Check if you've made any recent lifestyle changes"}),n.jsx("li",{children:"Consult with your healthcare provider if concerned"}),n.jsx("li",{children:"Keep a log of recurring alerts for pattern analysis"})]})]}),n.jsxs("div",{style:{padding:12,background:"rgba(0,186,206,0.1)",border:"1px solid var(--primary)",borderRadius:8},children:[n.jsx("strong",{style:{color:"var(--primary)",fontSize:13},children:"Important Note:"}),n.jsx("p",{style:{fontSize:12,marginTop:4,marginBottom:0,color:"var(--muted)"},children:"Health alerts are informational and educational. They are not a substitute for professional medical advice, diagnosis, or treatment. Always consult a qualified healthcare provider for any health concerns."})]}),n.jsx("div",{style:{display:"flex",gap:12,justifyContent:"flex-end",marginTop:20},children:n.jsx("button",{className:"btn primary",onClick:()=>u(!1),children:"Got it"})})]})]})}function Gx(){const{user:e}=Oe(),{showNotification:t}=zt(),[l,a]=S.useState([]),[i,s]=S.useState(!1),[o,r]=S.useState(!1),[c,u]=S.useState(!1),[p,d]=S.useState(0),[h,v]=S.useState(!1),[b,x]=S.useState(null);S.useEffect(()=>{e!=null&&e.id&&w()},[e]);const w=async()=>{try{s(!0);const H=await Na.getUserFiles(e.id);a(H.result||H||[])}catch(H){console.error("Error loading files:",H),t("Failed to load files","error")}finally{s(!1)}},f=async H=>{var De;const $=(De=H.target.files)==null?void 0:De[0];if(!$||!(e!=null&&e.id))return;const B=[".pdf",".jpg",".jpeg",".png",".doc",".docx"],be=$.name.toLowerCase();if(!B.some(L=>be.endsWith(L))){t("Invalid file type. Please upload PDF, images, or documents.","error");return}try{r(!0),d(0);const L=setInterval(()=>{d(T=>T>=90?(clearInterval(L),90):T+10)},100);await Na.uploadFile($,e.id,"Labs",$.name),clearInterval(L),d(100),t("File uploaded successfully","success"),w(),setTimeout(()=>{d(0)},1e3)}catch(L){console.error("Upload error:",L),t("Failed to upload file","error")}finally{r(!1),H.target.value=""}},g=async H=>{if(!H||!(e!=null&&e.id))return;const $=[".pdf",".jpg",".jpeg",".png",".doc",".docx"],B=H.name.toLowerCase();if(!$.some(_e=>B.endsWith(_e))){t("Invalid file type. Please upload PDF, images, or documents.","error");return}try{r(!0),d(0);const _e=setInterval(()=>{d(De=>De>=90?(clearInterval(_e),90):De+10)},100);await Na.uploadFile(H,e.id,"Labs",H.name),clearInterval(_e),d(100),t("File uploaded successfully","success"),w(),setTimeout(()=>{d(0)},1e3)}catch(_e){console.error("Upload error:",_e),t("Failed to upload file","error")}finally{r(!1)}},y=H=>{H.preventDefault(),u(!0)},j=H=>{H.preventDefault(),u(!1)},M=H=>{H.preventDefault(),u(!1);const $=H.dataTransfer.files[0];$&&g($)},O=async(H,$)=>{try{await Na.downloadFile(H,$,e.id),t("File downloaded successfully","success")}catch{t("Failed to download file","error")}},C=H=>{x(H),v(!0)},N=async()=>{if(b)try{await Na.deleteFile(b.id||b.file_id,e.id),t("File deleted successfully","success"),w(),v(!1),x(null)}catch{t("Failed to delete file","error"),v(!1),x(null)}},k=()=>{v(!1),x(null)};return n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[n.jsxs("div",{className:"card",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[n.jsx("h3",{style:{margin:0},children:"Upload Medical Files"}),n.jsxs("label",{className:"btn primary",style:{cursor:o?"not-allowed":"pointer",opacity:o?.6:1},children:[o?"Uploading...":"Choose File",n.jsx("input",{type:"file",onChange:f,disabled:o,style:{display:"none"},accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"})]})]}),o&&n.jsxs("div",{style:{marginBottom:12},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[n.jsx("span",{style:{fontSize:12,color:"var(--muted)"},children:"Uploading..."}),n.jsxs("span",{style:{fontSize:12,color:"var(--muted)"},children:[p,"%"]})]}),n.jsx("div",{style:{height:6,background:"var(--border)",borderRadius:3,overflow:"hidden"},children:n.jsx("div",{style:{height:"100%",width:`${p}%`,background:"linear-gradient(135deg, var(--primary) 0%, var(--primary-600) 100%)",transition:"width 0.3s ease"}})})]}),n.jsx("div",{onDragOver:y,onDragLeave:j,onDrop:M,style:{height:180,background:c?"rgba(0,186,206,0.1)":"rgba(0,186,206,0.05)",border:`2px dashed ${c?"var(--primary)":"var(--border)"}`,borderRadius:12,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"var(--muted)",fontSize:14,transition:"all 0.2s",cursor:o?"not-allowed":"pointer"},children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{fontSize:32,marginBottom:8},children:""}),n.jsx("div",{style:{fontWeight:600},children:"Uploading..."})]}):c?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"var(--primary)",strokeWidth:"2",style:{marginBottom:8},children:[n.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n.jsx("polyline",{points:"17 8 12 3 7 8"}),n.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),n.jsx("div",{style:{fontWeight:600,color:"var(--primary)"},children:"Drop file here"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginBottom:8,opacity:.5},children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14 2 14 8 20 8"}),n.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),n.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),n.jsx("polyline",{points:"10 9 9 9 8 9"})]}),n.jsx("div",{style:{fontWeight:600,marginBottom:4},children:"Drag & drop files here"}),n.jsx("div",{style:{fontSize:12},children:"or click to browse"}),n.jsx("div",{style:{fontSize:11,marginTop:8,opacity:.7},children:"Supports: PDF, JPG, PNG, DOC, DOCX"})]})})]}),n.jsxs("div",{className:"card",children:[n.jsx("h3",{style:{marginTop:0},children:"Lab Results"}),i?n.jsx("div",{style:{textAlign:"center",padding:20,color:"var(--muted)"},children:"Loading files..."}):l.length===0?n.jsx("div",{style:{textAlign:"center",padding:20,color:"var(--muted)"},children:"No files uploaded yet"}):n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{borderBottom:"1px solid var(--border)"},children:[n.jsx("th",{style:{padding:"12px 8px",textAlign:"left",color:"var(--muted)",fontWeight:600},children:"Test/File"}),n.jsx("th",{style:{padding:"12px 8px",textAlign:"left",color:"var(--muted)",fontWeight:600},children:"Date"}),n.jsx("th",{style:{padding:"12px 8px",textAlign:"left",color:"var(--muted)",fontWeight:600},children:"Category"}),n.jsx("th",{style:{padding:"12px 8px",textAlign:"left",color:"var(--muted)",fontWeight:600},children:"Status"}),n.jsx("th",{style:{padding:"12px 8px",textAlign:"left",color:"var(--muted)",fontWeight:600},children:"Actions"})]})}),n.jsx("tbody",{children:l.map((H,$)=>n.jsxs("tr",{style:{borderBottom:"1px solid var(--border)",transition:"background 0.2s",cursor:"pointer"},onMouseEnter:B=>B.currentTarget.style.background="rgba(0,186,206,0.05)",onMouseLeave:B=>B.currentTarget.style.background="transparent",children:[n.jsx("td",{style:{padding:"12px 8px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("span",{style:{fontSize:18},children:""}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:600},children:H.filename||H.file_name||`File #${$+1}`}),H.file_type&&n.jsx("div",{style:{fontSize:11,color:"var(--hint)"},children:H.file_type.toUpperCase()})]})]})}),n.jsx("td",{style:{padding:"12px 8px",color:"var(--muted)"},children:H.created_at?new Date(H.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):H.uploaded_at?new Date(H.uploaded_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}),n.jsx("td",{style:{padding:"12px 8px",color:"var(--muted)"},children:H.category||"Uncategorized"}),n.jsx("td",{style:{padding:"12px 8px"},children:n.jsx("span",{style:{padding:"4px 8px",background:"rgba(0,195,122,0.1)",color:"var(--success)",borderRadius:4,fontSize:12,fontWeight:600},children:"Processed"})}),n.jsx("td",{style:{padding:"12px 8px"},children:n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{className:"btn ghost small",style:{width:32,height:32,padding:0,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>O(H.id||H.file_id,H.filename||H.file_name),title:"Download file",children:n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n.jsx("polyline",{points:"7 10 12 15 17 10"}),n.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),n.jsx("button",{className:"btn ghost small",style:{width:32,height:32,padding:0,display:"flex",alignItems:"center",justifyContent:"center",color:"var(--error)"},onClick:()=>C(H),title:"Delete file",children:n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("polyline",{points:"3 6 5 6 21 6"}),n.jsx("path",{d:"m19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},$))})]})})]}),n.jsxs(gn,{open:h,title:"Confirm Delete",onClose:k,children:[n.jsx("p",{style:{marginBottom:20},children:"Are you sure you want to delete this file?"}),b&&n.jsx("div",{style:{padding:12,background:"rgba(255,76,76,0.1)",border:"1px solid rgba(255,76,76,0.35)",borderRadius:8,marginBottom:20},children:n.jsx("strong",{children:b.filename||b.file_name})}),n.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end"},children:[n.jsx("button",{className:"btn outline",onClick:k,children:"Cancel"}),n.jsx("button",{className:"btn danger",onClick:N,children:"Delete"})]})]})]})}function qx(){return n.jsxs("div",{className:"card",children:[n.jsx("h3",{style:{marginTop:0},children:"Workouts"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Full Body - 45m"}),n.jsx("li",{children:"Cardio Intervals - 30m"}),n.jsx("li",{children:"Yoga Recovery - 25m"})]})]})}const Et={getAll:()=>q(J.goals.getAll),getByUserId:e=>q(`${J.goals.getAll}?user_id=${e}`),getById:e=>q(J.goals.getById(e)),create:e=>q(J.goals.create,{method:"POST",body:e}),update:(e,t)=>q(J.goals.update(e),{method:"PATCH",body:t}),delete:e=>q(J.goals.remove(e),{method:"DELETE"}),createGoal:e=>q(J.goals.create,{method:"POST",body:e}),listGoals:()=>q(le.goals.getGoals),updateGoal:(e,t)=>q(J.goals.update(e),{method:"PATCH",body:t}),removeGoal:e=>q(J.goals.remove(e),{method:"DELETE"}),addProgress:e=>q(le.goalProgress.create,{method:"POST",body:e}),getProgress:e=>{const t=new URLSearchParams(e).toString();return q(`${le.goalProgress.getProgress}?${t}`)},deleteProgress:e=>q(le.goalProgress.remove(e),{method:"DELETE"}),getHistory:e=>{const t=new URLSearchParams(e).toString();return q(`${le.goals.getHistory}?${t}`)},readd:e=>q(le.goals.readd,{method:"POST",body:{goal_id:e}}),createNote:e=>{const t=Object.fromEntries(Object.entries({text:e.text,mood_tag:e.mood_tag}).filter(([l,a])=>a!=null));return q(le.notes.create,{method:"POST",body:t})},listNotes:e=>{const t=Object.fromEntries(Object.entries(e||{}).filter(([a,i])=>i!=null&&String(i).trim()!=="")),l=Object.keys(t).length?`?${new URLSearchParams(t).toString()}`:"";return q(`${le.notes.list}${l}`)},updateNote:(e,t)=>{const l=Object.fromEntries(Object.entries({text:t.text,mood_tag:t.mood_tag}).filter(([a,i])=>i!=null));return q(le.notes.update(e),{method:"PATCH",body:l})},getNote:e=>q(`${le.notes.getNote}?note_id=${e}`),deleteNote:(e,t)=>q(le.notes.update(e),{method:"DELETE",body:t})};function Ic({isOpen:e,onClose:t,onConfirm:l,title:a="Confirm Delete",message:i="Are you sure you want to delete this item?",confirmText:s="Delete",cancelText:o="Cancel",isLoading:r=!1}){return e?n.jsx("div",{className:"modal-overlay",onClick:t,children:n.jsxs("div",{className:"modal-content",onClick:c=>c.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",style:{marginBottom:"20px"},children:[n.jsx("h3",{style:{margin:0,color:"#fff"},children:a}),n.jsx("button",{onClick:t,className:"modal-close",children:""})]}),n.jsx("div",{className:"modal-body",style:{marginBottom:"20px"},children:n.jsx("p",{style:{margin:0,color:"#fff"},children:i})}),n.jsxs("div",{className:"modal-footer",style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[n.jsx("button",{onClick:t,className:"btn secondary",children:o}),n.jsx("button",{onClick:l,className:"btn danger",children:r?"Deleting...":s})]})]})}):null}function Yx({value:e,onChange:t}){const l=[{key:"active",label:"Active Goals"},{key:"history",label:"Goal History"},{key:"notes",label:"Notes"}];return n.jsx("div",{role:"tablist","aria-label":"Goals navigation",style:{display:"flex",gap:8,borderBottom:"1px solid var(--border)",paddingBottom:8,marginBottom:16},children:l.map(a=>n.jsx("button",{onClick:()=>t(a.key),role:"tab","aria-selected":e===a.key,style:{padding:"8px 16px",border:"none",background:"transparent",color:e===a.key?"var(--primary)":"var(--muted)",cursor:"pointer",fontSize:14,fontWeight:e===a.key?600:400,borderBottom:e===a.key?"2px solid var(--primary)":"2px solid transparent",transition:"all 0.2s"},children:a.label},a.key))})}function Wc({title:e,action:t,onAction:l}){return n.jsxs("div",{className:"card",style:{textAlign:"center"},children:[n.jsx("p",{style:{color:"var(--muted)",marginBottom:12},children:e}),t&&n.jsx("button",{className:"btn primary",onClick:l,children:t})]})}function Vx({goal:e,onUpdate:t,onDelete:l,onEdit:a}){return{"on track":"success",completed:"secondary",paused:"warning",archived:"outline"}[String(e.status||"on track").toLowerCase()],n.jsxs("div",{className:"card",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:600},children:e.title}),e.description&&n.jsx("div",{style:{color:"var(--muted)",fontSize:13,marginTop:4},children:e.description})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(()=>{const i=String(e.status||"on track").toLowerCase(),o=[i,...["on track","completed","paused","archived"].filter(r=>r!==i)];return n.jsx("select",{value:i,onChange:r=>t(e,{status:r.target.value}),style:{height:32,minWidth:160},"aria-label":"Change status",children:o.map(r=>n.jsx("option",{value:r,children:r.replace(/^\w/,c=>c.toUpperCase())},r))})})(),n.jsx("button",{className:"icon-button",onClick:()=>a(e),title:"Edit goal","aria-label":"Edit goal",children:n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{opacity:.9},children:[n.jsx("path",{d:"M12 20h9"}),n.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),n.jsx("button",{className:"icon-button error",onClick:()=>l(e),title:"Delete goal","aria-label":"Delete goal",children:n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{opacity:.9},children:[n.jsx("polyline",{points:"3 6 5 6 21 6"}),n.jsx("path",{d:"m19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]})}function Xx({open:e,goal:t,onClose:l,onSave:a}){const[i,s]=Y.useState(""),[o,r]=Y.useState(""),[c,u]=Y.useState(""),[p,d]=Y.useState("on track"),[h,v]=Y.useState(""),[b,x]=Y.useState("private");return Y.useEffect(()=>{t&&(s(t.title||""),r(t.description||""),u(t.target_date||""),d(t.status||"on track"),v(t.type||""),x(t.visibility_scope||"private"))},[t]),e?n.jsx(gn,{open:e,title:"Edit Goal",onClose:l,children:n.jsxs("div",{style:{width:"100%",display:"grid",gap:20},children:[n.jsxs("div",{className:"form-field",style:{width:"100%"},children:[n.jsx("label",{children:"Title"}),n.jsx("input",{value:i,onChange:w=>s(w.target.value)})]}),n.jsxs("div",{className:"form-field",style:{width:"100%"},children:[n.jsx("label",{children:"Description"}),n.jsx("textarea",{value:o,onChange:w=>r(w.target.value)})]}),n.jsxs("div",{className:"form-row",style:{width:"100%"},children:[n.jsxs("div",{className:"form-field",style:{flex:1},children:[n.jsx("label",{children:"Target date"}),n.jsx("input",{type:"date",placeholder:"YYYY-MM-DD",value:c,onChange:w=>u(w.target.value)})]}),n.jsxs("div",{className:"form-field",style:{width:180},children:[n.jsx("label",{children:"Status"}),n.jsxs("select",{value:p,onChange:w=>d(w.target.value),children:[n.jsx("option",{value:"on track",children:"On Track"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"paused",children:"Paused"}),n.jsx("option",{value:"archived",children:"Archived"})]})]})]}),n.jsxs("div",{className:"form-row",style:{width:"100%"},children:[n.jsxs("div",{className:"form-field",style:{flex:1},children:[n.jsx("label",{children:"Type"}),n.jsx("input",{value:h,onChange:w=>v(w.target.value),placeholder:"fitness / diet / habit"})]}),n.jsxs("div",{className:"form-field",style:{width:180},children:[n.jsx("label",{children:"Visibility"}),n.jsxs("select",{value:b,onChange:w=>x(w.target.value),children:[n.jsx("option",{value:"private",children:"Private"}),n.jsx("option",{value:"public",children:"Public"})]})]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8,width:"100%"},children:[n.jsx("button",{className:"btn secondary",onClick:l,children:"Cancel"}),n.jsx("button",{className:"btn primary",onClick:()=>a({title:i,description:o,status:p,target_date:c||void 0,type:h,visibility_scope:b}),children:"Save Changes"})]})]})}):null}function Qx({onCreate:e,loading:t}){const[l,a]=Y.useState(""),[i,s]=Y.useState(""),[o,r]=Y.useState(""),[c,u]=Y.useState(""),[p,d]=Y.useState("private"),h=l.trim().length>0;return n.jsxs("div",{className:"card",style:{display:"grid",gap:12},children:[n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Title"}),n.jsx("input",{value:l,onChange:v=>a(v.target.value),placeholder:"e.g. Run 5km"})]}),n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Description"}),n.jsx("textarea",{value:i,onChange:v=>s(v.target.value),placeholder:"Details"})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-field",style:{flex:1},children:[n.jsx("label",{children:"Target date"}),n.jsx("input",{type:"date",value:o,onChange:v=>r(v.target.value)})]}),n.jsxs("div",{className:"form-field",style:{flex:1},children:[n.jsx("label",{children:"Type"}),n.jsx("input",{value:c,onChange:v=>u(v.target.value),placeholder:"fitness / diet / habit"})]}),n.jsxs("div",{className:"form-field",style:{width:160},children:[n.jsx("label",{children:"Visibility"}),n.jsxs("select",{value:p,onChange:v=>d(v.target.value),children:[n.jsx("option",{value:"private",children:"Private"}),n.jsx("option",{value:"public",children:"Public"})]})]})]}),n.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:n.jsx("button",{className:"btn primary",disabled:!h||t,onClick:async()=>{await e({title:l,description:i,status:"on track",target_date:o||void 0,type:c,visibility_scope:p})&&(a(""),s(""),r(""),u(""),d("private"))},children:"Add Goal"})})]})}function $x(){const{addNotification:e}=zt(),[t,l]=Y.useState(!1),[a,i]=Y.useState([]),[s,o]=Y.useState({open:!1,item:null}),[r,c]=Y.useState({open:!1,item:null}),u=Y.useCallback(async()=>{l(!0);try{const w=await Et.listGoals();i((w==null?void 0:w.result)||w||[])}catch(w){e(w.message||"Failed to load goals","error")}finally{l(!1)}},[e]);Y.useEffect(()=>{u()},[u]);const p=async w=>{try{return l(!0),await Et.createGoal(w),e("Goal added","success"),u(),!0}catch(f){return e(f.message,"error"),!1}finally{l(!1)}},d=async(w,f)=>{try{l(!0),await Et.updateGoal(w.id||w.goals_id||w.goal_id,{...f,goals_id:w.id||w.goals_id||w.goal_id}),e("Goal updated","success"),u()}catch(g){e(g.message,"error")}finally{l(!1)}},h=w=>o({open:!0,item:w}),v=async()=>{const w=s.item;if(!w)return o({open:!1,item:null});try{l(!0),await Et.removeGoal(w.id||w.goals_id||w.goal_id),e("Goal deleted","success"),o({open:!1,item:null}),u()}catch(f){e(f.message,"error")}finally{l(!1)}},b=w=>c({open:!0,item:w}),x=async w=>{const f=r.item;if(!f)return c({open:!1,item:null});try{l(!0),await Et.updateGoal(f.id||f.goals_id||f.goal_id,{...w,goals_id:f.id||f.goals_id||f.goal_id}),e("Goal updated","success"),c({open:!1,item:null}),u()}catch(g){e(g.message,"error")}finally{l(!1)}};return n.jsxs("div",{style:{display:"grid",gap:16},children:[n.jsx(Qx,{onCreate:p,loading:t}),t&&n.jsx("div",{className:"card",children:"Loading"}),!t&&(a==null?void 0:a.length)===0&&n.jsx(Wc,{title:"No goals yet"}),!t&&(a==null?void 0:a.length)>0&&n.jsx("div",{style:{display:"grid",gap:12},children:a.map(w=>n.jsx(Vx,{goal:w,onUpdate:d,onDelete:h,onEdit:b},w.id))}),n.jsx(Ic,{isOpen:s.open,onClose:()=>o({open:!1,item:null}),onConfirm:v,title:"Delete goal",message:"This action cannot be undone. Are you sure?"}),n.jsx(Xx,{open:r.open,goal:r.item,onClose:()=>c({open:!1,item:null}),onSave:x})]})}function Zx(){const{addNotification:e}=zt(),[t,l]=Y.useState([]),[a,i]=Y.useState({status:"Completed",start_date:"",end_date:""}),s=Y.useCallback(async()=>{if(a.status)try{const r={status:String(a.status).toLowerCase()};a.start_date&&(r.start_date=a.start_date),a.end_date&&(r.end_date=a.end_date);const c=await Et.getHistory(r);l((c==null?void 0:c.result)||c||[])}catch(r){e(r.message,"error")}},[a,e]);Y.useEffect(()=>{s()},[s]);const o=async r=>{try{await Et.readd(r.id||r.goal_id),e("Goal re-added","success")}catch(c){e(c.message,"error")}};return n.jsxs("div",{className:"card",style:{display:"grid",gap:12},children:[n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-field",style:{width:180},children:[n.jsx("label",{children:"Status"}),n.jsxs("select",{value:a.status,onChange:r=>i(c=>({...c,status:r.target.value.toLowerCase()})),children:[n.jsx("option",{children:"Completed"}),n.jsx("option",{children:"Archived"})]})]}),n.jsxs("div",{className:"form-field",style:{width:180},children:[n.jsx("label",{children:"Start date"}),n.jsx("input",{type:"date",placeholder:"YYYY-MM-DD",value:a.start_date,onChange:r=>i(c=>({...c,start_date:r.target.value}))})]}),n.jsxs("div",{className:"form-field",style:{width:180},children:[n.jsx("label",{children:"End date"}),n.jsx("input",{type:"date",placeholder:"YYYY-MM-DD",value:a.end_date,onChange:r=>i(c=>({...c,end_date:r.target.value}))})]}),n.jsx("div",{style:{alignSelf:"end"},children:n.jsx("button",{className:"btn secondary",onClick:s,children:"Filter"})})]}),(t==null?void 0:t.length)===0&&n.jsx(Wc,{title:"No results for selected filters"}),(t==null?void 0:t.length)>0&&n.jsx("div",{style:{display:"grid",gap:8},children:t.map(r=>n.jsxs("div",{className:"card",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:600},children:r.title}),r.completed_at&&n.jsxs("div",{style:{color:"var(--muted)",fontSize:13},children:["Completed: ",new Date(r.completed_at).toLocaleDateString()]})]}),n.jsx("button",{className:"btn outline small",onClick:()=>o(r),children:"Re-add"})]},r.id))})]})}function Kx(){const{addNotification:e}=zt(),[t,l]=Y.useState({start_date:"",end_date:"",mood_tag:""}),[a,i]=Y.useState([]),[s,o]=Y.useState(""),[r,c]=Y.useState(""),[u,p]=Y.useState(null),[d,h]=Y.useState(!1),v=Y.useCallback(async()=>{try{const g=t.start_date&&t.start_date.trim()||t.end_date&&t.end_date.trim()||t.mood_tag&&t.mood_tag.trim(),y=await Et.listNotes(g?{start_date:t.start_date,end_date:t.end_date,mood_tag:t.mood_tag}:void 0);i((y==null?void 0:y.result)||y||[])}catch(g){e(g.message,"error")}},[t,e]);Y.useEffect(()=>{v()},[v]);const b=async()=>{if(s.trim())try{await Et.createNote({text:s,mood_tag:r||void 0}),o(""),c(""),e("Note added","success"),v()}catch(g){e(g.message,"error")}},x=async g=>{try{const y=await Et.getNote(g.id||g.note_id);p((y==null?void 0:y.result)||y||g)}catch(y){e(y.message,"error")}},w=async()=>{if(u)try{const g=u.id||u.note_id;await Et.updateNote(g,{text:u.text,mood_tag:u.mood_tag||void 0}),e("Note updated","success"),p(null),v()}catch(g){e(g.message,"error")}},f=async()=>{if(u)try{const g=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).id:void 0,y=u.id||u.note_id;await Et.deleteNote(y,{user_id:g}),e("Note deleted","success"),p(null),h(!1),v()}catch(g){e(g.message,"error")}};return n.jsxs("div",{style:{display:"grid",gap:16},children:[n.jsx("div",{className:"card",style:{display:"grid",gap:12},children:n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-field",style:{width:180},children:[n.jsx("label",{children:"Start date"}),n.jsx("input",{type:"date",value:t.start_date,onChange:g=>l(y=>({...y,start_date:g.target.value}))})]}),n.jsxs("div",{className:"form-field",style:{width:180},children:[n.jsx("label",{children:"End date"}),n.jsx("input",{type:"date",value:t.end_date,onChange:g=>l(y=>({...y,end_date:g.target.value}))})]}),n.jsxs("div",{className:"form-field",style:{width:180},children:[n.jsx("label",{children:"Mood"}),n.jsx("input",{value:t.mood_tag,onChange:g=>l(y=>({...y,mood_tag:g.target.value})),placeholder:"e.g. energetic"})]}),n.jsx("div",{style:{alignSelf:"end"},children:n.jsx("button",{className:"btn secondary",onClick:v,children:"Filter"})})]})}),n.jsxs("div",{className:"card",style:{display:"grid",gap:12},children:[n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Write a note"}),n.jsx("textarea",{value:s,onChange:g=>o(g.target.value),placeholder:"How are you feeling today?"})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-field",style:{width:220},children:[n.jsx("label",{children:"Mood tag"}),n.jsx("input",{value:r,onChange:g=>c(g.target.value),placeholder:"calm / energetic / tired"})]}),n.jsx("div",{style:{alignSelf:"end"},children:n.jsx("button",{className:"btn primary",onClick:b,children:"Save"})})]})]}),(a==null?void 0:a.length)>0?n.jsx("div",{style:{display:"grid",gap:8},children:a.map(g=>n.jsxs("div",{className:"card",style:{cursor:"default"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8,marginBottom:8},children:[n.jsx("div",{children:g.text}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[g.mood_tag&&n.jsx("div",{className:"btn outline small",children:g.mood_tag}),n.jsx("button",{className:"icon-button",title:"Edit note","aria-label":"Edit note",onClick:y=>{y.stopPropagation(),x(g)},children:n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{opacity:.9},children:[n.jsx("path",{d:"M12 20h9"}),n.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"})]})}),n.jsx("button",{className:"icon-button error",title:"Delete note","aria-label":"Delete note",onClick:y=>{y.stopPropagation(),p(g),h(!0)},children:n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{opacity:.9},children:[n.jsx("polyline",{points:"3 6 5 6 21 6"}),n.jsx("path",{d:"m19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]}),n.jsx("div",{style:{color:"var(--muted)",fontSize:10},children:new Date(g.created_at||g.date||Date.now()).toLocaleString()})]},g.id))}):n.jsx(Wc,{title:"No notes yet"}),u&&n.jsxs(gn,{open:!!u,title:"Edit Note",onClose:()=>p(null),children:[n.jsxs("div",{className:"form-field",style:{width:"100%"},children:[n.jsx("label",{children:"Text"}),n.jsx("textarea",{value:u.text,onChange:g=>p({...u,text:g.target.value})})]}),n.jsx("div",{className:"form-row",style:{width:"100%"},children:n.jsxs("div",{className:"form-field",style:{width:"100%"},children:[n.jsx("label",{children:"Mood tag"}),n.jsx("input",{value:u.mood_tag||"",onChange:g=>p({...u,mood_tag:g.target.value})})]})}),n.jsx("div",{style:{display:"flex",width:"100%"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[n.jsx("button",{className:"btn secondary",onClick:()=>p(null),children:"Cancel"}),n.jsx("button",{className:"btn primary",onClick:w,children:"Save"})]})})]}),n.jsx(Ic,{isOpen:d,onClose:()=>h(!1),onConfirm:f,title:"Delete note",message:"This action cannot be undone. Are you sure?"})]})}function Jx(){const[e,t]=Y.useState("active");return n.jsxs("div",{style:{display:"grid",gap:16},children:[n.jsx("div",{className:"dash-toolbar",children:n.jsx("h1",{style:{margin:0},children:"Goals"})}),n.jsx(Yx,{value:e,onChange:t}),e==="active"&&n.jsx($x,{}),e==="history"&&n.jsx(Zx,{}),e==="notes"&&n.jsx(Kx,{})]})}function Px(){return n.jsxs("div",{className:"card",children:[n.jsx("h3",{style:{marginTop:0},children:"Nutrition"}),n.jsx("p",{children:"Breakfast: Oatmeal and berries"}),n.jsx("p",{children:"Lunch: Quinoa bowl"}),n.jsx("p",{children:"Dinner: Grilled salmon and veggies"})]})}let Zo=!1,si=[];function Fx(e){si.push(e)}function Ix(e,t){si.forEach(l=>l(e,t)),si=[]}function Wx(){const{authToken:e,setAuthToken:t,setUser:l,refreshAuth:a}=Oe();return async(s,o={})=>{const r={...o.headers};e&&(r.Authorization=`Bearer ${e}`);try{return await ft(s,{...o,headers:r})}catch(c){if(c.status===401){if(Zo)return new Promise((u,p)=>{Fx((d,h)=>{const v={...r,Authorization:`Bearer ${d}`};ft(s,{...o,headers:v}).then(u).catch(p)})});Zo=!0;try{console.log(" useAuthRequest: Token expired, attempting refresh...");const u=await a();if(u)return console.log(" useAuthRequest: Token refresh successful"),Ix(u,null),r.Authorization=`Bearer ${u}`,await ft(s,{...o,headers:r});throw new Error("No authToken received from refresh")}catch(u){throw console.error(" useAuthRequest: Token refresh failed:",u),si.forEach(p=>p(null,null)),si=[],new Error("Session expired. Please login again.")}finally{Zo=!1}}throw c}}}const Sn={async getAll(){try{return await q(J.healthData.getAll)}catch(e){throw console.error("Error fetching all health data:",e),e}},async getByUserId(e){try{return await q(`${J.healthData.getAll}/${e}`)}catch(t){throw console.error("Error fetching health data by user ID:",t),t}},async create(e){try{return await q(J.healthData.create,{method:"POST",body:e})}catch(t){throw console.error("Error creating health data:",t),t}},async updateRecord(e,t,l){try{console.log(" Updating health data record:",t,"for user:",e),console.log(" Health data to update:",l);const a={health_data_id:t,...l},i=await q(`${J.healthData.getAll}/${e}`,{method:"PATCH",body:a});return console.log(" Health data record updated successfully:",i),i}catch(a){throw console.error("Error updating health data record:",a),a}},async update(e,t){try{console.log(" Updating health data for user:",e),console.log(" Health data to update:",t);const l={...t,health_data_id:t.health_data_id||t.id},a=await q(`${J.healthData.getAll}/${e}`,{method:"PATCH",body:l});return console.log(" Health data updated successfully:",a),a}catch(l){throw console.error("Error updating health data:",l),l}},async deleteRecord(e,t){try{console.log(" Deleting health data record:",t,"for user:",e);const l=await q(`${J.healthData.getAll}/${e}`,{method:"DELETE",body:{id:t}});return console.log(" Health data record deleted successfully:",l),l}catch(l){throw console.error("Error deleting health data record:",l),l}},async delete(e){try{return await q(J.healthData.remove(e),{method:"DELETE"})}catch(t){throw console.error("Error deleting health data:",t),t}}},me={async getHealthHistorySummary(e){try{return await q(le.healthHistory.getHealthHistorySummary,{method:"POST",body:{user_id:e}})}catch(t){throw console.error("Error fetching health history summary:",t),t}},async saveUserHealthSummary(e){try{return await q(le.healthHistory.userHealthSummary,{method:"POST",body:e})}catch(t){throw console.error("Error saving user health summary:",t),t}},async addMedicalCondition(e){try{return await q(J.medicalConditions.create,{method:"POST",body:e})}catch(t){throw console.error("Error adding medical condition:",t),t}},async addMedication(e){try{return await q(J.medications.create,{method:"POST",body:e})}catch(t){throw console.error("Error adding medication:",t),t}},async addAllergy(e){try{return await q(J.allergies.create,{method:"POST",body:e})}catch(t){throw console.error("Error adding allergy:",t),t}},async addSurgicalHistory(e){try{return await q(J.surgicalHistory.create,{method:"POST",body:e})}catch(t){throw console.error("Error adding surgical history:",t),t}},async addVaccination(e){try{return await q(J.vaccinations.create,{method:"POST",body:e})}catch(t){throw console.error("Error adding vaccination:",t),t}},async addSensitivity(e){try{return await q(J.sensitivities.create,{method:"POST",body:e})}catch(t){throw console.error("Error adding sensitivity:",t),t}},async updateSensitivity(e,t){try{const l=J.sensitivities.update(e);return await q(l,{method:"PATCH",body:t})}catch(l){throw console.error("Error updating sensitivity:",l),l}},async addFamilyHistory(e){try{return await q(J.familyHistory.create,{method:"POST",body:e})}catch(t){throw console.error("Error adding family history:",t),t}},async updateMedicalCondition(e,t){try{const l=J.medicalConditions.update(e);return console.log(" Updating medical condition:",{url:l,method:"PATCH",body:t}),await q(l,{method:"PATCH",body:t})}catch(l){throw console.error("Error updating medical condition:",l),console.error("Request details:",{endpoint:J.medicalConditions.update(e),medical_conditions_id:e,data:t}),l}},async updateAllergy(e,t){try{const l=J.allergies.update(e);return await q(l,{method:"PATCH",body:t})}catch(l){throw console.error("Error updating allergy:",l),l}},async deleteMedicalCondition(e){try{return await q(J.medicalConditions.remove(e),{method:"DELETE"})}catch(t){throw console.error("Error deleting medical condition:",t),t}},async updateMedication(e,t){try{const l=J.medications.update(e);return await q(l,{method:"PATCH",body:t})}catch(l){throw console.error("Error updating medication:",l),l}},async deleteAllergy(e){try{return await q(J.allergies.remove(e),{method:"DELETE"})}catch(t){throw console.error("Error deleting allergy:",t),t}},async deleteMedication(e){try{return await q(J.medications.remove(e),{method:"DELETE"})}catch(t){throw console.error("Error deleting medication:",t),t}},async deleteSensitivity(e){try{return await q(J.sensitivities.remove(e),{method:"DELETE"})}catch(t){throw console.error("Error deleting sensitivity:",t),t}},async updateSurgicalHistory(e,t){try{const l=J.surgicalHistory.update(e);return await q(l,{method:"PATCH",body:t})}catch(l){throw console.error("Error updating surgical history:",l),l}},async deleteSurgicalHistory(e){try{const t=J.surgicalHistory.remove(e);console.log(" Deleting surgical history:",{url:t,method:"DELETE",surgical_history_id:e});const l=await q(t,{method:"DELETE"});return console.log(" Surgical history deleted successfully:",l),l}catch(t){throw console.error(" Error deleting surgical history:",t),console.error("Request details:",{endpoint:J.surgicalHistory.remove(e),surgical_history_id:e,errorMessage:t==null?void 0:t.message,errorCode:t==null?void 0:t.code}),t}},async updateFamilyHistory(e,t){try{const l=J.familyHistory.update(e);return await q(l,{method:"PATCH",body:t})}catch(l){throw console.error("Error updating family history:",l),l}},async deleteFamilyHistory(e){try{return await q(J.familyHistory.remove(e),{method:"DELETE"})}catch(t){throw console.error("Error deleting family history:",t),t}},async deleteVaccination(e){try{return await q(J.vaccinations.remove(e),{method:"DELETE"})}catch(t){throw console.error("Error deleting vaccination:",t),t}}},Il=({title:e,lastUpdated:t,hasAddButton:l=!1,buttonLabel:a="Add",data:i=[],onAdd:s,renderItem:o})=>{const[r,c]=S.useState(!1),[u,p]=S.useState({}),d=()=>{console.log("Add button clicked for:",e),c(!0)},h=async()=>{try{console.log("Saving new item:",u);let f={};switch(!0){case e.includes("Condition"):f={condition_name:u.condition_name,diagnosis_date:u.diagnosis_date||null,severity:u.severity||null,notes:u.notes||null,status:u.status||"active",treatment_plan:u.treatment_plan||""};break;case e.includes("Medication"):f={name:u.name,dosage:u.dosage||null,frequency:u.frequency||null,start_date:u.start_date||new Date().toISOString().split("T")[0],end_date:u.end_date||null,notes:u.notes||null};break;case e.includes("Allerg"):f={allergy_name:u.allergy_name,severity:u.severity||null,notes:u.notes||null,type:u.type||"other"};break;case e.includes("Surg"):f={procedure_name:u.procedure_name,surgery_date:u.surgery_date||null,hospital:u.hospital||null,surgeon:u.surgeon||null,reason:u.reason||null,outcome:u.outcome||null,complications:u.complications||null,notes:u.notes||null};break;case e.includes("Vaccin"):f={vaccine_name:u.vaccine_name,vaccination_date:u.vaccination_date||new Date().toISOString().split("T")[0],next_due_date:u.next_due_date||null,administrator:u.administrator||null,lot_number:u.lot_number||null,notes:u.notes||null};break;case e.includes("Sensitiv"):f={sensitivity_name:u.sensitivity_name,type:u.type||"environmental",severity:u.severity||null,triggers:u.triggers||null,symptoms:u.symptoms||null,management:u.management||null,notes:u.notes||null};break;case e.includes("Family"):f={condition_name:u.condition_name,family_member:u.family_member||null,age_at_diagnosis:u.age_at_diagnosis||null,is_genetic:u.is_genetic||!1,relationship_notes:u.relationship_notes||null,notes:u.notes||null};break;default:f={name:u.name,notes:u.notes||null}}console.log("Sending to API:",f),await s(f),c(!1),p({})}catch(f){console.error("Error saving item:",f)}},v=()=>{c(!1),p({})},b=(f,g)=>{p(y=>({...y,[f]:g}))},w=(()=>{switch(!0){case e.includes("Condition"):return"condition_name";case e.includes("Medication"):return"name";case e.includes("Allerg"):return"allergy_name";case e.includes("Surg"):return"procedure_name";case e.includes("Vaccin"):return"vaccine_name";case e.includes("Sensitiv"):return"sensitivity_name";case e.includes("Family"):return"condition_name";default:return"name"}})();return n.jsxs("div",{className:"border-b pb-6 last:border-b-0",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium",children:e}),t&&n.jsxs("p",{className:"text-sm text-gray-500",children:["Last updated: ",t]})]}),l&&!r&&n.jsx("button",{onClick:d,className:"bg-blue-500 text-white px-4 py-2 rounded-md text-sm hover:bg-blue-600 transition-colors",children:a})]}),i&&i.length>0?n.jsx("div",{className:"space-y-3",children:i.map(o)}):n.jsx("p",{className:"text-gray-500 text-sm",children:"No records found"}),r&&n.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50",children:[n.jsxs("h4",{className:"font-medium mb-3",children:["Add New ",e]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:`Enter ${e.toLowerCase()}...`,className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",value:u[w]||"",onChange:f=>b(w,f.target.value)}),e.includes("Condition")&&n.jsxs(n.Fragment,{children:[n.jsx("input",{type:"date",placeholder:"Diagnosis Date",className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.diagnosis_date||"",onChange:f=>b("diagnosis_date",f.target.value)}),n.jsxs("select",{className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.severity||"",onChange:f=>b("severity",f.target.value),children:[n.jsx("option",{value:"",children:"Select Severity"}),n.jsx("option",{value:"mild",children:"Mild"}),n.jsx("option",{value:"moderate",children:"Moderate"}),n.jsx("option",{value:"severe",children:"Severe"})]}),n.jsx("textarea",{placeholder:"Treatment plan (optional)",className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"2",value:u.treatment_plan||"",onChange:f=>b("treatment_plan",f.target.value)})]}),e.includes("Medication")&&n.jsxs(n.Fragment,{children:[n.jsx("input",{type:"text",placeholder:"Dosage (e.g., 10mg)",className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.dosage||"",onChange:f=>b("dosage",f.target.value)}),n.jsx("input",{type:"text",placeholder:"Frequency (e.g., once daily)",className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.frequency||"",onChange:f=>b("frequency",f.target.value)}),n.jsx("input",{type:"date",placeholder:"Start date",className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.start_date||"",onChange:f=>b("start_date",f.target.value)}),n.jsx("input",{type:"date",placeholder:"End date (optional)",className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.end_date||"",onChange:f=>b("end_date",f.target.value)})]}),e.includes("Allerg")&&n.jsxs("select",{className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.severity||"",onChange:f=>b("severity",f.target.value),children:[n.jsx("option",{value:"",children:"Select Severity"}),n.jsx("option",{value:"mild",children:"Mild"}),n.jsx("option",{value:"moderate",children:"Moderate"}),n.jsx("option",{value:"severe",children:"Severe"})]}),e.includes("Surg")&&n.jsxs(n.Fragment,{children:[n.jsx("input",{type:"date",className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.surgery_date||"",onChange:f=>b("surgery_date",f.target.value)}),n.jsx("input",{type:"text",placeholder:"Hospital",className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.hospital||"",onChange:f=>b("hospital",f.target.value)}),n.jsx("input",{type:"text",placeholder:"Surgeon",className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.surgeon||"",onChange:f=>b("surgeon",f.target.value)})]}),e.includes("Vaccin")&&n.jsxs(n.Fragment,{children:[n.jsx("input",{type:"date",className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.vaccination_date||"",onChange:f=>b("vaccination_date",f.target.value)}),n.jsx("input",{type:"date",placeholder:"Next due date",className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.next_due_date||"",onChange:f=>b("next_due_date",f.target.value)}),n.jsx("input",{type:"text",placeholder:"Administrator",className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.administrator||"",onChange:f=>b("administrator",f.target.value)})]}),e.includes("Sensitiv")&&n.jsxs(n.Fragment,{children:[n.jsx("input",{type:"text",placeholder:"Type (e.g., environmental, chemical)",className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.type||"",onChange:f=>b("type",f.target.value)}),n.jsx("input",{type:"text",placeholder:"Severity",className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",value:u.severity||"",onChange:f=>b("severity",f.target.value)}),n.jsx("textarea",{placeholder:"Triggers",className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"2",value:u.triggers||"",onChange:f=>b("triggers",f.target.value)})]}),e.includes("Family")&&n.jsxs(n.Fragment,{children:[n.jsxs("select",{value:u.family_member||"",onChange:f=>b("family_member",f.target.value),children:[n.jsx("option",{value:"",children:"Select Family Member"}),n.jsx("option",{value:"mother",children:"Mother"}),n.jsx("option",{value:"father",children:"Father"}),n.jsx("option",{value:"sibling",children:"Sibling"}),n.jsx("option",{value:"grandparent",children:"Grandparent"}),n.jsx("option",{value:"child",children:"Child"}),n.jsx("option",{value:"aunt/uncle",children:"Aunt/Uncle"}),n.jsx("option",{value:"cousin",children:"Cousin"})]}),n.jsx("input",{type:"number",placeholder:"Age at diagnosis",value:u.age_at_diagnosis||"",onChange:f=>b("age_at_diagnosis",f.target.value)}),n.jsxs("div",{className:"checkbox",children:[n.jsx("input",{type:"checkbox",id:"is_genetic",checked:u.is_genetic||!1,onChange:f=>b("is_genetic",f.target.checked)}),n.jsx("label",{htmlFor:"is_genetic",children:"Genetic condition"})]})]}),n.jsx("textarea",{placeholder:"Additional notes (optional)",rows:"2",value:u.notes||"",onChange:f=>b("notes",f.target.value)}),n.jsxs("div",{className:"btn-group",style:{justifyContent:"flex-end",marginTop:"12px"},children:[n.jsx("button",{onClick:v,className:"btn outline",children:"Cancel"}),n.jsx("button",{onClick:h,disabled:!u[w],className:"btn success",children:"Save"})]})]})]})]})};function e0(){const e=Wx(),{user:t}=Oe(),{showSuccess:l,showError:a,showInfo:i}=zt(),[s,o]=S.useState(null),[r,c]=S.useState(null),[u,p]=S.useState(!0),[d,h]=S.useState(!1),[v,b]=S.useState(!1),[x,w]=S.useState(""),[f,g]=S.useState(null),y=S.useRef(null),[j,M]=S.useState({first_name:"",last_name:"",phone_number:"",dob:"",gender:"",sex_of_birth:"",height_cm:"",weight_kg:"",zip_code:"",user_id:""}),[O,C]=S.useState("personal"),[N,k]=S.useState({medical_conditions:[],medications:[],allergies:[],surgical_history:[],vaccinations:[],sensitivities:[],family_history:[]}),[H,$]=S.useState({medical_conditions:null,medications:null,allergies:null,surgical_history:null,vaccinations:null,sensitivities:null,family_history:null}),[B,be]=S.useState({date:new Date().toISOString().split("T")[0],heart_rate:"",blood_pressure_systolic:"",blood_pressure_diastolic:"",weekly_activity_minutes:"",activity_level:"",visibility_scope:"private",hydration_liters:"",pulse_oximetry:"",respiratory_rate:"",body_weight_trend:"",body_mass_index:"",fasting_glucose:"",body_temperature:""}),[_e,De]=S.useState([]),[L,T]=S.useState(!1),[A,Q]=S.useState(!1),[P,Ie]=S.useState(null),[Rt,Kl]=S.useState(null),[ze,Gt]=S.useState(null),[va,Ft]=S.useState(!1),[K,Mt]=S.useState(!1),[ce,I]=S.useState(null),[G,ee]=S.useState({}),[W,eu]=S.useState(null),[m0,tu]=S.useState(null),[em,lu]=S.useState({medical_conditions:!1,medications:!1,allergies:!1,surgical_history:!1,vaccinations:!1,sensitivities:!1,family_history:!1}),[au,nu]=S.useState(!1),[tm,lo]=S.useState(!1),[Z,ao]=S.useState(null),[Si,no]=S.useState(null),[lm,iu]=S.useState(!1);S.useEffect(()=>{if(va&&ze){const m=document.createElement("div");if(m.id="delete-confirmation-modal",m.style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        z-index: 999999;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        animation: fadeIn 0.3s ease-out;
      `,!document.getElementById("modal-styles")){const E=document.createElement("style");E.id="modal-styles",E.textContent=`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          @keyframes slideIn {
            from { 
              opacity: 0;
              transform: scale(0.9) translateY(-20px);
            }
            to { 
              opacity: 1;
              transform: scale(1) translateY(0);
            }
          }
        `,document.head.appendChild(E)}const _=document.createElement("div");_.style.cssText=`
        background: rgba(17, 17, 17, 0.95);
        border: 1px solid #222222;
        border-radius: 16px;
        max-width: 420px;
        width: 100%;
        max-height: 90vh;
        overflow: hidden;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(0, 186, 206, 0.1);
        animation: slideIn 0.3s ease-out;
        position: relative;
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
      `,_.innerHTML=`
        <!-- Header -->
        <div style="padding: 24px 24px 20px; border-bottom: 1px solid #222222; background: linear-gradient(135deg, rgba(255, 76, 76, 0.1) 0%, rgba(17, 17, 17, 0.8) 100%); position: relative;">
          <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
            <div style="width: 40px; height: 40px; background: rgba(255, 76, 76, 0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 1px solid rgba(255, 76, 76, 0.3);">
              <span style="font-size: 20px;"></span>
            </div>
            <h3 style="margin: 0; color: #ffffff; font-size: 20px; font-weight: 700; letter-spacing: -0.025em;">
              Delete Health Data Record
            </h3>
          </div>
          <p style="margin: 0; color: #cccccc; font-size: 14px; line-height: 1.5;">
            This action cannot be undone. Please confirm that you want to permanently delete this health data record.
          </p>
          <button id="close-modal-btn" style="
            position: absolute;
            top: 20px;
            right: 20px;
            width: 32px;
            height: 32px;
            background: rgba(34, 34, 34, 0.8);
            border: 1px solid #333333;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: #cccccc;
            transition: all 0.2s ease;
          " onmouseover="this.style.background='rgba(0, 186, 206, 0.2)'; this.style.borderColor='#00bace'; this.style.color='#ffffff';" onmouseout="this.style.background='rgba(34, 34, 34, 0.8)'; this.style.borderColor='#333333'; this.style.color='#cccccc';">
            
          </button>
        </div>

        <!-- Content -->
        <div style="padding: 24px;">
          <!-- Record Details -->
          <div style="background: rgba(17, 17, 17, 0.6); border: 1px solid #333333; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
            <h4 style="margin: 0 0 16px 0; color: #00bace; font-size: 14px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em;">
              Record Details
            </h4>
            <div style="space-y: 12px;">
              <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid #333333;">
                <span style="color: #777777; font-size: 13px; font-weight: 500;">Date:</span>
                <span style="color: #ffffff; font-size: 13px; font-weight: 600;">${ze.date||"Unknown"}</span>
              </div>
              ${ze.heart_rate?`
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid #333333;">
                  <span style="color: #777777; font-size: 13px; font-weight: 500;">Heart Rate:</span>
                  <span style="color: #ffffff; font-size: 13px; font-weight: 600;">${ze.heart_rate} bpm</span>
                </div>
              `:""}
              ${ze.blood_pressure_systolic&&ze.blood_pressure_diastolic?`
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0;">
                  <span style="color: #777777; font-size: 13px; font-weight: 500;">Blood Pressure:</span>
                  <span style="color: #ffffff; font-size: 13px; font-weight: 600;">${ze.blood_pressure_systolic}/${ze.blood_pressure_diastolic}</span>
                </div>
              `:""}
            </div>
          </div>
        </div>

        <!-- Footer -->
        <div style="padding: 20px 24px 24px; border-top: 1px solid #222222; background: rgba(17, 17, 17, 0.8); display: flex; gap: 12px; justify-content: flex-end;">
          <button id="cancel-delete-btn" style="
            padding: 12px 20px;
            background: transparent;
            color: #cccccc;
            border: 1px solid #333333;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
            min-width: 80px;
          " onmouseover="this.style.background='rgba(0, 186, 206, 0.1)'; this.style.borderColor='#00bace'; this.style.color='#ffffff';" onmouseout="this.style.background='transparent'; this.style.borderColor='#333333'; this.style.color='#cccccc';">
            Cancel
          </button>
          <button id="confirm-delete-btn" style="
            padding: 12px 20px;
            background: linear-gradient(135deg, #ff4c4c 0%, #cc3a3a 100%);
            color: white;
            border: 1px solid #ff4c4c;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s ease;
            min-width: 80px;
            box-shadow: 0 4px 12px rgba(255, 76, 76, 0.3);
          " onmouseover="this.style.filter='brightness(1.1)'; this.style.transform='translateY(-1px)'; this.style.boxShadow='0 6px 16px rgba(255, 76, 76, 0.4)';" onmouseout="this.style.filter='brightness(1)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(255, 76, 76, 0.3)';">
            Delete Record
          </button>
        </div>
      `,m.appendChild(_),document.body.appendChild(m);const X=document.getElementById("cancel-delete-btn"),D=document.getElementById("confirm-delete-btn"),U=document.getElementById("close-modal-btn"),z=()=>{Ft(!1),Gt(null),m.remove()};X.addEventListener("click",z),U.addEventListener("click",z),D.addEventListener("click",async()=>{try{await Sn.deleteRecord(t.id,ze.id),l("Health data record deleted successfully!"),await io(),z()}catch(E){console.error("Error deleting health data:",E),a("Failed to delete health data record. Please try again.")}}),m.addEventListener("click",E=>{E.target===m&&z()})}else if(!va){const m=document.getElementById("delete-confirmation-modal");m&&m.remove()}},[va,ze]);const[Jl,am]=S.useState({medical_conditions:[{id:1,condition_name:"Hypertension",diagnosis_date:"2020-01-15",severity:"moderate",notes:"Controlled with medication"},{id:2,condition_name:"Diabetes Type 2",diagnosis_date:"2019-03-20",severity:"mild",notes:"Diet controlled"}],medications:[{id:1,name:"Metformin",dosage:"500mg",frequency:"twice daily",start_date:"2019-03-20",notes:"For diabetes management"},{id:2,name:"Lisinopril",dosage:"10mg",frequency:"once daily",start_date:"2020-01-15",notes:"For blood pressure"}],allergies:[{id:1,allergy_name:"Penicillin",severity:"severe",notes:"Causes rash and difficulty breathing"},{id:2,allergy_name:"Shellfish",severity:"moderate",notes:"Causes stomach upset"}],surgical_history:[{id:1,procedure_name:"Appendectomy",surgery_date:"2015-06-10",hospital:"City General Hospital",surgeon:"Dr. Smith",notes:"Recovery was smooth"}],vaccinations:[{id:1,vaccine_name:"COVID-19",vaccination_date:"2021-03-15",administrator:"Dr. Johnson",notes:"Pfizer vaccine"},{id:2,vaccine_name:"Flu Shot",vaccination_date:"2023-10-01",administrator:"CVS Pharmacy",notes:"Annual vaccination"}],sensitivities:[{id:1,sensitivity_name:"Latex",type:"environmental",severity:"mild",notes:"Causes skin irritation"}],family_history:[{id:1,condition_name:"Heart Disease",family_member:"father",age_at_diagnosis:55,is_genetic:!0,notes:"Father had heart attack at 55"}]}),Pl=async m=>{console.log("Adding test item:",m);let _="medical_conditions";m.name?_="medications":m.allergy_name?_="allergies":m.procedure_name?_="surgical_history":m.vaccine_name?_="vaccinations":m.sensitivity_name?_="sensitivities":m.family_member&&(_="family_history");const X={id:Date.now(),...m};am(D=>({...D,[_]:[...D[_],X]})),l(`${_.replace("_"," ")} added successfully!`)},lt=(m,_)=>{be(X=>({...X,[m]:_}))},nm=async()=>{if(P){await rm();return}try{h(!0);const m=z=>{const E=[];return z.heart_rate&&(z.heart_rate<30||z.heart_rate>200)&&E.push("Heart rate should be between 30-200 bpm"),z.blood_pressure_systolic&&(z.blood_pressure_systolic<70||z.blood_pressure_systolic>250)&&E.push("Systolic blood pressure should be between 70-250 mmHg"),z.blood_pressure_diastolic&&(z.blood_pressure_diastolic<40||z.blood_pressure_diastolic>150)&&E.push("Diastolic blood pressure should be between 40-150 mmHg"),z.pulse_oximetry&&(z.pulse_oximetry<70||z.pulse_oximetry>100)&&E.push("Pulse oximetry should be between 70-100%"),z.respiratory_rate&&(z.respiratory_rate<8||z.respiratory_rate>40)&&E.push("Respiratory rate should be between 8-40 breaths/min"),z.body_mass_index&&(z.body_mass_index<10||z.body_mass_index>60)&&E.push("BMI should be between 10-60"),z.fasting_glucose&&(z.fasting_glucose<50||z.fasting_glucose>500)&&E.push("Fasting glucose should be between 50-500 mg/dL"),z.body_temperature&&(z.body_temperature<30||z.body_temperature>45)&&E.push("Body temperature should be between 30-45C"),z.activity_level&&(z.activity_level<1||z.activity_level>5)&&E.push("Activity level should be between 1-5"),E},_={user_id:t.id,...B,heart_rate:B.heart_rate?parseInt(B.heart_rate):null,blood_pressure_systolic:B.blood_pressure_systolic?parseInt(B.blood_pressure_systolic):null,blood_pressure_diastolic:B.blood_pressure_diastolic?parseInt(B.blood_pressure_diastolic):null,weekly_activity_minutes:B.weekly_activity_minutes?parseFloat(B.weekly_activity_minutes):null,activity_level:B.activity_level?parseInt(B.activity_level):null,hydration_liters:B.hydration_liters?parseFloat(B.hydration_liters):null,pulse_oximetry:B.pulse_oximetry?parseInt(B.pulse_oximetry):null,respiratory_rate:B.respiratory_rate?parseInt(B.respiratory_rate):null,body_mass_index:B.body_mass_index?parseFloat(B.body_mass_index):null,fasting_glucose:B.fasting_glucose?parseFloat(B.fasting_glucose):null,body_temperature:B.body_temperature?parseFloat(B.body_temperature):null},X=m(_);if(X.length>0){a(`Please check your data: ${X.join(", ")}`);return}console.log("Saving health data:",_);const D=await Sn.create(_);console.log("Health data API response:",D);const U={id:D.id||Date.now(),..._,created_at:D.created_at||new Date().toISOString()};De(z=>[U,...z]),be({date:new Date().toISOString().split("T")[0],heart_rate:"",blood_pressure_systolic:"",blood_pressure_diastolic:"",weekly_activity_minutes:"",activity_level:"",visibility_scope:"private",hydration_liters:"",pulse_oximetry:"",respiratory_rate:"",body_weight_trend:"",body_mass_index:"",fasting_glucose:"",body_temperature:""}),l("Health data saved successfully!"),Q(!1)}catch(m){console.error("Error saving health data:",m),a("Failed to save health data. Please try again.")}finally{h(!1)}},im=async m=>{const _=_e.find(X=>X.id===m);_&&(Gt(_),Ft(!0))},sm=async()=>{var m;if(!(!Z||!Si))try{iu(!0);const _=(Z==null?void 0:Z.id)||(Z==null?void 0:Z.medical_conditions_id)||(Z==null?void 0:Z.medical_condition_id)||(Z==null?void 0:Z.allergies_id)||(Z==null?void 0:Z.allergy_id)||(Z==null?void 0:Z.medications_id)||(Z==null?void 0:Z.medication_id)||(Z==null?void 0:Z.surgical_history_id)||(Z==null?void 0:Z.surgical_id)||(Z==null?void 0:Z.surgery_id)||(Z==null?void 0:Z.vaccinations_id)||(Z==null?void 0:Z.vaccination_id)||(Z==null?void 0:Z.sensitivities_id)||(Z==null?void 0:Z.sensitivity_id)||(Z==null?void 0:Z.family_history_id)||(Z==null?void 0:Z.family_id);if(!_)throw new Error("Cannot delete: record ID not found");const X=Number(_);if(!Number.isFinite(X))throw new Error("Invalid record ID: must be a number");switch(Si){case"medical_conditions":await me.deleteMedicalCondition(X);break;case"allergies":await me.deleteAllergy(X);break;case"medications":await me.deleteMedication(X);break;case"sensitivities":await me.deleteSensitivity(X);break;case"family_history":await me.deleteFamilyHistory(X);break;case"vaccinations":await me.deleteVaccination(X);break;case"surgical_history":await me.deleteSurgicalHistory(X);break;default:throw console.warn(`Delete not implemented for section: ${Si}`),new Error(`Delete operation not available for ${Si}`)}await so(),l("Record deleted successfully")}catch(_){(_==null?void 0:_.code)==="ERROR_CODE_ACCESS_DENIED"||(m=_==null?void 0:_.message)!=null&&m.includes("ACCESS_DENIED")?a("Access denied. You may not have permission to delete this record, or it may belong to another user."):a((_==null?void 0:_.message)||"Failed to delete record")}finally{iu(!1),lo(!1),ao(null),no(null)}},om=m=>{var _,X,D,U,z,E,V,qe,Ht,Ye,ie;Ie(m),be({date:m.date||"",heart_rate:((_=m.heart_rate)==null?void 0:_.toString())||"",blood_pressure_systolic:((X=m.blood_pressure_systolic)==null?void 0:X.toString())||"",blood_pressure_diastolic:((D=m.blood_pressure_diastolic)==null?void 0:D.toString())||"",weekly_activity_minutes:((U=m.weekly_activity_minutes)==null?void 0:U.toString())||"",activity_level:((z=m.activity_level)==null?void 0:z.toString())||"",visibility_scope:m.visibility_scope||"private",hydration_liters:((E=m.hydration_liters)==null?void 0:E.toString())||"",pulse_oximetry:((V=m.pulse_oximetry)==null?void 0:V.toString())||"",respiratory_rate:((qe=m.respiratory_rate)==null?void 0:qe.toString())||"",body_weight_trend:m.body_weight_trend||"",body_mass_index:((Ht=m.body_mass_index)==null?void 0:Ht.toString())||"",fasting_glucose:((Ye=m.fasting_glucose)==null?void 0:Ye.toString())||"",body_temperature:((ie=m.body_temperature)==null?void 0:ie.toString())||""}),Q(!0)},rm=async()=>{if(P)try{h(!0);const m={user_id:t.id,...B,heart_rate:B.heart_rate?parseInt(B.heart_rate):null,blood_pressure_systolic:B.blood_pressure_systolic?parseInt(B.blood_pressure_systolic):null,blood_pressure_diastolic:B.blood_pressure_diastolic?parseInt(B.blood_pressure_diastolic):null,weekly_activity_minutes:B.weekly_activity_minutes?parseFloat(B.weekly_activity_minutes):null,activity_level:B.activity_level?parseInt(B.activity_level):null,hydration_liters:B.hydration_liters?parseFloat(B.hydration_liters):null,pulse_oximetry:B.pulse_oximetry?parseInt(B.pulse_oximetry):null,respiratory_rate:B.respiratory_rate?parseInt(B.respiratory_rate):null,body_mass_index:B.body_mass_index?parseFloat(B.body_mass_index):null,fasting_glucose:B.fasting_glucose?parseFloat(B.fasting_glucose):null,body_temperature:B.body_temperature?parseFloat(B.body_temperature):null};await Sn.updateRecord(t.id,P.id,m),l("Health data updated successfully!"),Q(!1),Ie(null),be({date:"",heart_rate:"",blood_pressure_systolic:"",blood_pressure_diastolic:"",weekly_activity_minutes:"",activity_level:"",visibility_scope:"private",hydration_liters:"",pulse_oximetry:"",respiratory_rate:"",body_weight_trend:"",body_mass_index:"",fasting_glucose:"",body_temperature:""}),await io()}catch(m){console.error("Error updating health data:",m),a("Failed to update health data. Please try again.")}finally{h(!1)}},io=async()=>{try{T(!0),console.log("Loading health data from API..."),console.log("API URL:",J.healthData.getAll),console.log("User ID:",t==null?void 0:t.id);try{console.log("Testing API with users endpoint...");const X=await e(J.users.getAll);console.log("Users API test successful:",X)}catch(X){console.error("Users API test failed:",X)}let m;try{m=await Sn.getByUserId(t.id),console.log("Health data by user ID response:",m)}catch(X){console.log("getByUserId failed, trying getAll...",X),m=await Sn.getAll(),console.log("Health data getAll response:",m)}const _=(m==null?void 0:m.result)||m;if(_&&Array.isArray(_)){const X=_.filter(D=>D.heart_rate>0||D.blood_pressure_systolic>0||D.blood_pressure_diastolic>0||D.weekly_activity_minutes>0||D.hydration_liters>0||D.pulse_oximetry>0||D.respiratory_rate>0||D.body_mass_index>0||D.fasting_glucose>0||D.body_temperature>0||D.body_weight_trend&&D.body_weight_trend.trim()!=="");De(X),console.log("Health data loaded successfully:",X.length,"valid records out of",_.length,"total")}else console.log("No health data found or invalid response format"),console.log("Response structure:",m),De([])}catch(m){console.error("Error loading health data:",m),console.error("Error details:",{message:m.message,status:m.status,url:J.healthData.getAll}),console.log("Trying alternative health data endpoints...");try{const _=await e(`${J.healthData.getAll}/${t==null?void 0:t.id}`);console.log("Alternative endpoint response:",_);const X=(_==null?void 0:_.result)||_;if(X&&Array.isArray(X)){const D=X.filter(U=>U.heart_rate>0||U.blood_pressure_systolic>0||U.blood_pressure_diastolic>0||U.weekly_activity_minutes>0||U.hydration_liters>0||U.pulse_oximetry>0||U.respiratory_rate>0||U.body_mass_index>0||U.fasting_glucose>0||U.body_temperature>0||U.body_weight_trend&&U.body_weight_trend.trim()!=="");De(D);return}}catch(_){console.error("Alternative endpoint also failed:",_)}De([])}finally{T(!1)}},cm={medical_conditions:["Hypertension","Diabetes Type 1","Diabetes Type 2","Asthma","COPD","Cardiovascular Disease","High Cholesterol","Arthritis","Depression","Anxiety","Migraine","Epilepsy","Thyroid Disorders","Autoimmune Diseases"],medications:["Metformin","Lisinopril","Atorvastatin","Ibuprofen","Aspirin","Levothyroxine","Metoprolol","Omeprazole","Sertraline","Albuterol","Warfarin","Furosemide","Amlodipine","Simvastatin","Losartan"],allergies:["Penicillin","Sulfa drugs","Peanuts","Tree nuts","Shellfish","Dust mites","Pollen","Pet dander","Latex","Mold","Eggs","Milk","Soy","Wheat","Insect stings","Contrast dye"],surgical_history:["Appendectomy","C-section","Knee surgery","Hip replacement","Gallbladder removal","Hernia repair","Cataract surgery","Tonsillectomy","Cholecystectomy","Hysterectomy","Prostate surgery","Heart surgery","Spine surgery","Shoulder surgery"],vaccinations:["COVID-19","Influenza (Flu)","Hepatitis A","Hepatitis B","MMR","Tdap","Varicella","Pneumococcal","Meningococcal","HPV","Shingles","Polio","Tetanus","Diphtheria","Pertussis"],sensitivities:["Latex","Nickel","Fragrances","Cleaning products","Pesticides","Formaldehyde","Dyes","Preservatives","Sulfites","MSG","Artificial sweeteners","Food additives","Chemicals","Smoke"],family_history:["Heart disease","Diabetes","Cancer","Alzheimer's","Depression","High blood pressure","Stroke","Kidney disease","Liver disease","Mental health disorders","Autoimmune diseases","Blood disorders","Genetic conditions","Obesity","Substance abuse"]};S.useEffect(()=>{async function m(){var _,X,D,U;if(!t||!t.id){const z="User not authenticated";c(z),a(z),p(!1);return}try{p(!0),console.log(" Fetching profile for user ID:",t.id);let z=null;try{z=await zl.getById(t.id),console.log(" Profile found by ID:",z)}catch(Ht){console.log(" Profile not found by ID, trying to get all profiles:",Ht.message);const Ye=await zl.getAll();console.log(" All profiles response:",Ye);const ie=(Ye==null?void 0:Ye.result)||Ye;console.log(" All profiles array:",ie),Array.isArray(ie)?(z=ie.find(oo=>oo.user_id===t.id||oo.id===t.id),console.log(" Found profile in list:",z)):ie&&(ie.user_id===t.id||ie.id===t.id)&&(z=ie,console.log(" Single profile found:",z))}o(z);const E=(z==null?void 0:z.avatar_url)||(z==null?void 0:z.avatar)||(z==null?void 0:z.photo_url)||(typeof(z==null?void 0:z.profile_photo)=="string"?z==null?void 0:z.profile_photo:((_=z==null?void 0:z.profile_photo)==null?void 0:_.url)||((X=z==null?void 0:z.profile_photo)==null?void 0:X.path))||"";E&&w(E);const V=z||t;console.log(" Data to use for form:",V),console.log(" Profile data:",z),console.log(" User data:",t);const qe={first_name:(V==null?void 0:V.first_name)||(V==null?void 0:V.firstName)||"",last_name:(V==null?void 0:V.last_name)||(V==null?void 0:V.lastName)||"",phone_number:(V==null?void 0:V.phone_number)||(V==null?void 0:V.phone)||"",dob:(V==null?void 0:V.dob)||(V==null?void 0:V.date_of_birth)||"",gender:(V==null?void 0:V.gender)||"",sex_of_birth:(V==null?void 0:V.sex_of_birth)||"",height_cm:((V==null?void 0:V.height_cm)??"")===0?"":(V==null?void 0:V.height_cm)??"",weight_kg:((V==null?void 0:V.weight_kg)??"")===0?"":(V==null?void 0:V.weight_kg)??"",zip_code:(V==null?void 0:V.zip_code)??"",user_id:(V==null?void 0:V.user_id)||(t==null?void 0:t.id)||""};console.log(" Form data to set:",qe),M(qe),c(null),z||console.log(" No profile found, using user data as fallback")}catch(z){console.warn(" Failed to fetch profile from API, using user data:",z.message);const E=t;o(E);const V=(E==null?void 0:E.avatar_url)||(E==null?void 0:E.avatar)||(E==null?void 0:E.photo_url)||(typeof(E==null?void 0:E.profile_photo)=="string"?E==null?void 0:E.profile_photo:((D=E==null?void 0:E.profile_photo)==null?void 0:D.url)||((U=E==null?void 0:E.profile_photo)==null?void 0:U.path))||"";V&&w(V),M({first_name:(E==null?void 0:E.first_name)||(E==null?void 0:E.firstName)||"",last_name:(E==null?void 0:E.last_name)||(E==null?void 0:E.lastName)||"",phone_number:(E==null?void 0:E.phone_number)||(E==null?void 0:E.phone)||"",dob:(E==null?void 0:E.dob)||(E==null?void 0:E.date_of_birth)||"",gender:(E==null?void 0:E.gender)||"",height_cm:((E==null?void 0:E.height_cm)??"")===0?"":(E==null?void 0:E.height_cm)??"",weight_kg:((E==null?void 0:E.weight_kg)??"")===0?"":(E==null?void 0:E.weight_kg)??"",zip_code:(E==null?void 0:E.zip_code)??"",user_id:(E==null?void 0:E.user_id)||(t==null?void 0:t.id)||""}),console.log(" Fallback form data set:",{first_name:(E==null?void 0:E.first_name)||(E==null?void 0:E.firstName)||"",last_name:(E==null?void 0:E.last_name)||(E==null?void 0:E.lastName)||"",phone_number:(E==null?void 0:E.phone_number)||(E==null?void 0:E.phone)||"",dob:(E==null?void 0:E.dob)||(E==null?void 0:E.date_of_birth)||"",gender:(E==null?void 0:E.gender)||""});const qe=`Profile API unavailable: ${z.message}`;c(qe),a(qe)}finally{p(!1)}}m()},[t==null?void 0:t.id]),S.useEffect(()=>{O==="health_data"&&(t!=null&&t.id)&&io(),O==="health_history"&&(t!=null&&t.id)&&so()},[O,t==null?void 0:t.id]);const so=async()=>{var m,_,X;try{const D=await me.getHealthHistorySummary(t.id),U=(D==null?void 0:D.result)||D||{},z=V=>Array.isArray(V)?V.filter(Boolean):[];k({medical_conditions:z(U.user_medical_condition),medications:z(U.user_medications),allergies:z(U.user_allergies),surgical_history:z(U.user_surgical_history),vaccinations:z(U.user_vaccinations),sensitivities:z(U.user_sensitivities),family_history:z(U.user_family_history)});const E=new Date().toISOString();$(V=>({...V,medical_conditions:E,medications:E,allergies:E,surgical_history:E,vaccinations:E,sensitivities:E,family_history:E}))}catch(D){((m=D==null?void 0:D.message)==null?void 0:m.includes("ERR_CONNECTION_REFUSED"))||((_=D==null?void 0:D.message)==null?void 0:_.includes("Network error"))||((X=D==null?void 0:D.message)==null?void 0:X.includes("Unable to connect"))||console.warn("Failed to load health history summary:",D==null?void 0:D.message),k({medical_conditions:[],medications:[],allergies:[],surgical_history:[],vaccinations:[],sensitivities:[],family_history:[]})}};function It(m){const{name:_,value:X}=m.target;M(D=>({...D,[_]:X}))}async function um(m){var _,X,D,U,z,E,V;if((_=m==null?void 0:m.preventDefault)==null||_.call(m),!!(t!=null&&t.id))try{h(!0),c(null);let qe=null;if(f)try{b(!0),console.log(" UPLOADING photo:"),console.log(" Endpoint:",`${le.uploudFile.uploudFile}`),console.log(" File:",{name:f.name,size:f.size,type:f.type}),console.log(" User ID:",t.id),console.log(" Category:","profile");const kt=await Na.uploadAvatar(f,"profile"),ue=(kt==null?void 0:kt.result)||kt,wi=(ue==null?void 0:ue.url)||(ue==null?void 0:ue.path)||"";console.log(" Photo upload response:",ue),console.log(" Photo URL:",wi),qe={access:(ue==null?void 0:ue.access)||"public",path:(ue==null?void 0:ue.path)||wi,name:(ue==null?void 0:ue.name)||f.name,type:(ue==null?void 0:ue.type)||f.type,size:(ue==null?void 0:ue.size)||f.size,mime:(ue==null?void 0:ue.mime)||f.type,meta:(ue==null?void 0:ue.meta)||{},url:wi},w(wi),l("Photo uploaded successfully!")}catch(kt){const ue=(kt==null?void 0:kt.message)||"Failed to upload photo";c(ue),a(ue);return}finally{b(!1),g(null)}const Ht={first_name:(X=j.first_name)==null?void 0:X.trim(),last_name:(D=j.last_name)==null?void 0:D.trim(),phone_number:(U=j.phone_number)==null?void 0:U.trim(),dob:j.dob||null,gender:j.gender||"",sex_of_birth:j.sex_of_birth||"",height_cm:j.height_cm===""?0:Number(j.height_cm),weight_kg:j.weight_kg===""?0:Number(j.weight_kg),zip_code:((z=j.zip_code)==null?void 0:z.trim())||""};let Ye=Ht;s&&s.id?Ye={profiles_id:s.id,...Ht}:Ye={user_id:j.user_id||t.id,...Ht},console.log(" Saving profile with payload (no photo):",Ye),console.log(" Photo handling:",{uploadedPhotoData:qe?"Photo uploaded separately":"No new photo",existingPhoto:s!=null&&s.profile_photo?"Preserved in UI":"No existing photo"});let ie;s&&s.id?(console.log(" UPDATING existing profile:"),console.log(" Endpoint:",`PATCH ${J.profiles.update(t.id)}`),console.log(" Request Body:",JSON.stringify(Ye,null,2)),console.log(" Request Body (formatted):",Ye),ie=await zl.update(t.id,Ye),console.log(" Profile updated successfully:",ie)):(console.log(" CREATING new profile:"),console.log(" Endpoint:",`POST ${J.profiles.create}`),console.log(" Request Body:",JSON.stringify(Ye,null,2)),console.log(" Request Body (formatted):",Ye),ie=await zl.create(Ye),console.log(" Profile created successfully:",ie)),o(ie);try{const kt=(ie==null?void 0:ie.avatar_url)||(ie==null?void 0:ie.avatar)||(ie==null?void 0:ie.photo_url)||(typeof(ie==null?void 0:ie.profile_photo)=="string"?ie==null?void 0:ie.profile_photo:((E=ie==null?void 0:ie.profile_photo)==null?void 0:E.url)||((V=ie==null?void 0:ie.profile_photo)==null?void 0:V.path))||"";kt&&w(kt)}catch{}l(qe?"Profile updated and photo uploaded successfully!":"Profile updated successfully!")}catch(qe){const Ht=qe.message||"Failed to save profile";console.error(" Profile save error:",qe),c(Ht),a(Ht)}finally{h(!1)}}return n.jsxs("div",{className:"dashboard-profile",children:[n.jsx("div",{className:"dash-toolbar",children:n.jsx("h1",{style:{margin:0},children:"Profile"})}),n.jsxs("div",{style:{display:"flex",gap:8,marginBottom:16,paddingBottom:8,borderBottom:"1px solid var(--border)"},children:[n.jsx("button",{onClick:()=>C("personal"),className:`btn ${O==="personal"?"primary":"outline"}`,style:{width:"auto",padding:"8px 16px",height:38},children:"Personal Info"}),n.jsx("button",{onClick:()=>C("health_history"),className:`btn ${O==="health_history"?"primary":"outline"}`,style:{width:"auto",padding:"8px 16px",height:38},children:"Health History"}),n.jsx("button",{onClick:()=>C("health_data"),className:`btn ${O==="health_data"?"primary":"outline"}`,style:{width:"auto",padding:"8px 16px",height:38},children:"Health Data"}),n.jsx("button",{onClick:()=>C("medical_records"),className:`btn ${O==="medical_records"?"primary":"outline"}`,style:{width:"auto",padding:"8px 16px",height:38},children:"Medical Records"}),n.jsx("button",{onClick:()=>C("test_card"),className:`btn ${O==="test_card"?"primary":"outline"}`,style:{width:"auto",padding:"8px 16px",height:38},children:"Test Card"})]}),O==="personal"&&n.jsxs("div",{className:"card",style:{display:"flex",gap:16,marginBottom:24,alignItems:"flex-start"},children:[n.jsxs("div",{style:{width:120,height:120,backgroundColor:"#0b0b0b",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:12,border:"1px solid var(--border)",overflow:"hidden",cursor:"pointer",position:"relative"},onClick:()=>{var m;return(m=y.current)==null?void 0:m.click()},role:"button",title:"Change photo","aria-label":"Change profile photo",children:[x?n.jsx("img",{src:x,alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"}}):n.jsx("span",{style:{fontSize:48},children:""}),v&&n.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(0,0,0,.45)",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12},children:"Uploading"}),n.jsx("input",{ref:y,type:"file",accept:"image/*",style:{display:"none"},onChange:async m=>{var X;const _=(X=m.target.files)==null?void 0:X[0];if(_)try{x!=null&&x.startsWith("blob:")&&URL.revokeObjectURL(x);const D=URL.createObjectURL(_);w(D),g(_),i('Photo selected. Click "Save changes" to upload.')}finally{m.target.value=""}}})]}),n.jsx("div",{style:{flex:1},children:u?n.jsx("p",{children:"Loading profile..."}):n.jsxs(n.Fragment,{children:[n.jsx("h2",{style:{marginTop:0},children:(s==null?void 0:s.name)||(s!=null&&s.first_name&&(s!=null&&s.last_name)?`${s.first_name} ${s.last_name}`:(s==null?void 0:s.first_name)||(s==null?void 0:s.last_name)||(t==null?void 0:t.name)||(t!=null&&t.first_name&&(t!=null&&t.last_name)?`${t.first_name} ${t.last_name}`:t!=null&&t.firstName&&(t!=null&&t.lastName)?`${t.firstName} ${t.lastName}`:(t==null?void 0:t.first_name)||(t==null?void 0:t.last_name)||(t==null?void 0:t.firstName)||(t==null?void 0:t.lastName)||(j.first_name||j.last_name?`${j.first_name||""} ${j.last_name||""}`.trim():"Loading...")))}),r&&n.jsxs("p",{style:{color:"var(--error)",fontSize:"14px",marginTop:"8px"},children:[" ",r]}),n.jsxs("form",{onSubmit:um,className:"form",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginTop:12,maxWidth:720},children:[n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"First name"}),n.jsx("input",{name:"first_name",value:j.first_name,onChange:It,placeholder:"John"})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Last name"}),n.jsx("input",{name:"last_name",value:j.last_name,onChange:It,placeholder:"Doe"})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Phone"}),n.jsx("input",{name:"phone_number",value:j.phone_number,onChange:It,placeholder:"+1 555-1234"})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Date of birth"}),n.jsx("input",{type:"date",name:"dob",value:j.dob||"",onChange:It})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Gender Identity"}),n.jsxs("select",{name:"gender",value:j.gender||"",onChange:It,children:[n.jsx("option",{value:"",children:"Not specified"}),n.jsx("option",{value:"male",children:"Male"}),n.jsx("option",{value:"female",children:"Female"}),n.jsx("option",{value:"non-binary",children:"Non-binary"}),n.jsx("option",{value:"other",children:"Other"}),n.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Sex at Birth"}),n.jsxs("select",{name:"sex_of_birth",value:j.sex_of_birth||"",onChange:It,children:[n.jsx("option",{value:"",children:"Not specified"}),n.jsx("option",{value:"male",children:"Male"}),n.jsx("option",{value:"female",children:"Female"}),n.jsx("option",{value:"intersex",children:"Intersex"}),n.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Height (cm)"}),n.jsx("input",{type:"number",inputMode:"numeric",name:"height_cm",value:j.height_cm,onChange:It,placeholder:"e.g. 175"})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Weight (kg)"}),n.jsx("input",{type:"number",inputMode:"numeric",name:"weight_kg",value:j.weight_kg,onChange:It,placeholder:"e.g. 70"})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"ZIP Code"}),n.jsx("input",{name:"zip_code",value:j.zip_code,onChange:It,placeholder:"e.g. 94105"})]}),n.jsx("div",{style:{gridColumn:"1 / -1",display:"flex",gap:8,marginTop:8},children:n.jsx("button",{type:"submit",className:"btn primary full",disabled:d,children:d?"Saving":"Save changes"})})]})]})})]}),O==="health_history"&&n.jsx("div",{style:{maxWidth:920},children:n.jsxs("div",{className:"card",style:{padding:0},children:[n.jsxs("div",{style:{padding:16,borderBottom:"1px solid var(--border)"},children:[n.jsx("h2",{style:{margin:0},children:"Health History"}),n.jsx("p",{style:{color:"var(--muted)",margin:"8px 0 0 0",fontSize:"14px"},children:"Comprehensive health intake form. Each section can be collapsed/expanded for easy navigation."})]}),n.jsx("div",{style:{padding:16},children:[["medical_conditions","Medical Conditions","Chronic conditions, diseases, and ongoing health issues"],["medications","Current Medications","Prescription and over-the-counter medications with dosage and frequency"],["allergies","Known Allergies","Medications, foods, and environmental triggers"],["surgical_history","Surgical History","Past surgeries, procedures, and hospitalizations"],["vaccinations","Vaccination History","Immunizations and vaccination records"],["sensitivities","Environmental & Chemical Sensitivities","Chemical, environmental, and other sensitivities"],["family_history","Family Health History","Genetic predispositions and family medical conditions"]].map(([m,_,X])=>n.jsx(t0,{title:_,description:X,options:cm[m],values:N[m],lastUpdated:H[m],onToggle:D=>{k(U=>{const z=U[m]||[],E=typeof D=="object"?D.id||D.condition_name||D.name:D;return{...U,[m]:z.filter(V=>(typeof V=="object"?V.id||V.condition_name||V.name:V)!==E)}})},sectionKey:m,onEdit:D=>{eu(D),tu(m),I(m);const U={...D||{},user_id:t==null?void 0:t.id};ee(U),Mt(!0)},onDelete:D=>{ao(D),no(m),lo(!0)},onSave:async()=>{try{lu(U=>({...U,[m]:!0}));const D=N[m]||[];for(const U of D){if(typeof U=="object"&&U!==null&&U.id)continue;const z=typeof U=="string"?U:U.condition_name||U.name||"";if(m==="medical_conditions"){const E=new Date().toISOString().split("T")[0];await me.addMedicalCondition({user_id:t.id,condition_name:z,diagnosis_date:E,status:"active",severity:"mild",notes:"",treatment_plan:"",last_updated:Date.now()})}else if(m==="medications"){const E=new Date().toISOString().split("T")[0];await me.addMedication({user_id:t.id,name:U,dosage:"",frequency:"",start_date:E,end_date:null,notes:""})}else if(m==="allergies")await me.addAllergy({user_id:t.id,allergy_name:U,severity:"mild",notes:""});else if(m==="surgical_history"){const E=new Date().toISOString().split("T")[0];await me.addSurgicalHistory({user_id:t.id,procedure_name:U,surgery_date:E,surgeon:"",hospital:"",notes:""})}else if(m==="vaccinations"){const E=new Date().toISOString().split("T")[0];await me.addVaccination({user_id:t.id,vaccine_name:U,vaccination_date:E,lot_number:"",next_due_date:""})}else m==="sensitivities"?await me.addSensitivity({user_id:t.id,sensitivity_name:U,type:"environmental",symptoms:"",severity:"mild"}):m==="family_history"&&await me.addFamilyHistory({user_id:t.id,condition_name:U,family_member:"",age_at_diagnosis:null,is_genetic:!1,notes:""})}$(U=>({...U,[m]:new Date().toISOString()})),l(`${_} saved successfully!`)}catch(D){a(D.message||`Failed to save ${_.toLowerCase()}`)}finally{lu(D=>({...D,[m]:!1}))}},onAddNew:()=>{I(m);const D=new Date().toISOString().split("T")[0],U={user_id:t==null?void 0:t.id};m==="medical_conditions"&&Object.assign(U,{condition_name:"",diagnosis_date:"",status:"active",severity:"",notes:"",treatment_plan:"",last_updated:Date.now(),useToday:!1}),m==="medications"&&Object.assign(U,{name:"",dosage:"",frequency:"",start_date:D,end_date:null,notes:""}),m==="allergies"&&Object.assign(U,{allergy_name:"",severity:"mild",notes:""}),m==="surgical_history"&&Object.assign(U,{procedure_name:"",surgery_date:D,surgeon:"",hospital:"",notes:""}),m==="vaccinations"&&Object.assign(U,{vaccine_name:"",vaccination_date:D,lot_number:"",next_due_date:""}),m==="sensitivities"&&Object.assign(U,{sensitivity_name:"",type:"environmental",symptoms:"",severity:"mild"}),m==="family_history"&&Object.assign(U,{family_member:"",condition_name:"",age_at_diagnosis:"",is_genetic:!1,notes:""}),ee(U),Mt(!0)},saving:em[m]},m))})]})}),K&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",backdropFilter:"blur(3px)",WebkitBackdropFilter:"blur(3px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:20},onClick:m=>{m.target===m.currentTarget&&Mt(!1)},children:n.jsxs("div",{style:{background:"var(--bg)",border:"1px solid var(--border)",borderRadius:12,width:"100%",maxWidth:520,maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",borderBottom:"1px solid var(--border)"},children:[n.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:600},children:W?ce==="medical_conditions"?"Edit Medical Condition":`Edit ${ce==null?void 0:ce.replace("_"," ").replace(/\b\w/g,m=>m.toUpperCase())}`:ce==="medical_conditions"?"Add New Medical Conditions":`Add New ${ce==null?void 0:ce.replace("_"," ").replace(/\b\w/g,m=>m.toUpperCase())}`}),n.jsx("button",{className:"btn outline",onClick:()=>Mt(!1),style:{padding:"6px 10px",fontSize:"16px"},children:""})]}),n.jsx("div",{style:{padding:20,overflowY:"auto"},children:n.jsxs("form",{onSubmit:async m=>{m.preventDefault();try{nu(!0);let _={...G,user_id:t==null?void 0:t.id};(_.end_date===""||_.end_date===void 0)&&(_.end_date=null),(_.diagnosis_date===""||_.diagnosis_date===void 0)&&(_.diagnosis_date=null),(_.start_date===""||_.start_date===void 0)&&(_.start_date=null),(_.surgery_date===""||_.surgery_date===void 0)&&(_.surgery_date=null),(_.vaccination_date===""||_.vaccination_date===void 0)&&(_.vaccination_date=null),(_.next_due_date===""||_.next_due_date===void 0)&&(_.next_due_date=null);let X=null;if(ce==="medical_conditions"){const{useToday:D,...U}=_;U.diagnosis_date||(U.diagnosis_date=new Date().toISOString().split("T")[0]),U.status||(U.status="active"),U.severity||(U.severity="mild"),U.last_updated=Date.now();let z;if(W&&(W.id||U.medical_conditions_id||W.medical_conditions_id)){const E=W.id||W.medical_conditions_id||U.medical_conditions_id,V=Number(E);if(!Number.isFinite(V))throw new Error("Invalid medical_conditions_id: must be a number");const qe={condition_name:U.condition_name,diagnosis_date:U.diagnosis_date||new Date().toISOString().split("T")[0],status:U.status||"active",severity:U.severity||"mild",notes:U.notes||"",treatment_plan:U.treatment_plan||"",last_updated:Date.now()};z=await me.updateMedicalCondition(V,qe)}else z=await me.addMedicalCondition(U);X=(z==null?void 0:z.result)||z||U}else if(ce==="medications"){let D;if(W&&(W.id||W.medications_id||W.medication_id)){const U=W.id||W.medications_id||W.medication_id,z=Number(U);if(!Number.isFinite(z))throw new Error("Invalid medications_id: must be a number");const E={name:_.name||_.medication_name||"",dosage:_.dosage||"",frequency:_.frequency||"",start_date:_.start_date||null,end_date:_.end_date||null,last_updated:Date.now()};D=await me.updateMedication(z,E)}else D=await me.addMedication(_);X=(D==null?void 0:D.result)||D||_}else if(ce==="allergies"){let D;if(W&&(W.id||W.allergies_id||W.allergy_id)){const U=W.id||W.allergies_id||W.allergy_id,z=Number(U);if(!Number.isFinite(z))throw new Error("Invalid allergies_id: must be a number");const E={allergy_name:_.allergy_name,severity:_.severity||"",notes:_.notes||"",last_updated:Date.now()};D=await me.updateAllergy(z,E)}else D=await me.addAllergy(_);X=(D==null?void 0:D.result)||D||_}else if(ce==="surgical_history"){let D;if(W&&(W.id||W.surgical_history_id||W.surgical_id||W.surgery_id)){const U=W.id||W.surgical_history_id||W.surgical_id||W.surgery_id,z=Number(U);if(!Number.isFinite(z))throw new Error("Invalid surgical_history_id: must be a number");const E={procedure_name:_.procedure_name||"",surgery_date:_.surgery_date||null,surgeon:_.surgeon||"",hospital:_.hospital||"",reason:_.reason||"",outcome:_.outcome||"",complications:_.complications||"",notes:_.notes||"",last_updated:Date.now()};D=await me.updateSurgicalHistory(z,E)}else D=await me.addSurgicalHistory(_);X=(D==null?void 0:D.result)||D||_}else if(ce==="vaccinations"){const D=await me.addVaccination(_);X=(D==null?void 0:D.result)||D||_}else if(ce==="sensitivities"){let D;if(W&&(W.id||W.sensitivities_id||W.sensitivity_id)){const U=W.id||W.sensitivities_id||W.sensitivity_id,z=Number(U);if(!Number.isFinite(z))throw new Error("Invalid sensitivities_id: must be a number");const E={sensitivity_name:_.sensitivity_name||"",type:_.type||"",triggers:_.triggers||"",symptoms:_.symptoms||"",management:_.management||"",severity:_.severity||"",notes:_.notes||"",last_updated:Date.now()};D=await me.updateSensitivity(z,E)}else D=await me.addSensitivity(_);X=(D==null?void 0:D.result)||D||_}else if(ce==="family_history"){let D;if(W&&(W.id||W.family_history_id||W.family_id)){const U=W.id||W.family_history_id||W.family_id,z=Number(U);if(!Number.isFinite(z))throw new Error("Invalid family_history_id: must be a number");const E={family_member:_.family_member||"",condition_name:_.condition_name||"",age_at_diagnosis:_.age_at_diagnosis||0,relationship_notes:_.relationship_notes||"",notes:_.notes||"",is_genetic:_.is_genetic||!1,last_updated:Date.now()};D=await me.updateFamilyHistory(z,E)}else D=await me.addFamilyHistory(_);X=(D==null?void 0:D.result)||D||_}X&&await so(),$(D=>({...D,[ce]:new Date().toISOString()})),l("Saved successfully"),Mt(!1),eu(null),tu(null)}catch(_){a((_==null?void 0:_.message)||"Failed to save")}finally{nu(!1)}},className:"form",style:{display:"flex",flexDirection:"column",gap:16},children:[ce==="medical_conditions"&&n.jsxs(n.Fragment,{children:[n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column",gap:6},children:[n.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--text)"},children:"Condition name"}),n.jsx("input",{value:G.condition_name||"",onChange:m=>ee(_=>({..._,condition_name:m.target.value})),placeholder:"Enter medical conditions...",required:!0,style:{padding:"10px 12px",fontSize:"14px"}})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column",gap:6},children:[n.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--text)"},children:"Diagnosis date"}),n.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[n.jsx("input",{type:"date",value:G.diagnosis_date||"",onChange:m=>{ee(_=>({..._,diagnosis_date:m.target.value,useToday:!1}))},style:{flex:1,padding:"10px 12px",fontSize:"14px"}}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontSize:"13px",color:"var(--muted)"},children:[n.jsx("input",{type:"checkbox",checked:G.useToday||!1,onChange:m=>{const _=new Date().toISOString().split("T")[0];ee(X=>({...X,useToday:m.target.checked,diagnosis_date:m.target.checked?_:X.diagnosis_date}))},style:{width:18,height:18,cursor:"pointer"}}),n.jsx("span",{children:"Today"})]})]})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column",gap:6},children:[n.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--text)"},children:"Severity"}),n.jsxs("select",{value:G.severity||"",onChange:m=>ee(_=>({..._,severity:m.target.value})),required:!0,style:{padding:"10px 12px",fontSize:"14px",appearance:"none",backgroundImage:`url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 10px center",backgroundSize:"16px",paddingRight:"36px"},children:[n.jsx("option",{value:"",disabled:!0,children:"Select Severity"}),n.jsx("option",{value:"mild",children:"Mild"}),n.jsx("option",{value:"moderate",children:"Moderate"}),n.jsx("option",{value:"severe",children:"Severe"})]})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column",gap:6},children:[n.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--text)"},children:"Treatment plan"}),n.jsx("textarea",{value:G.treatment_plan||"",onChange:m=>ee(_=>({..._,treatment_plan:m.target.value})),placeholder:"Treatment plan (optional)",rows:4,style:{padding:"10px 12px",fontSize:"14px",resize:"vertical",minHeight:"80px",fontFamily:"inherit"}})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column",gap:6},children:[n.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--text)"},children:"Additional notes"}),n.jsx("textarea",{value:G.notes||"",onChange:m=>ee(_=>({..._,notes:m.target.value})),placeholder:"Additional notes (optional)",rows:4,style:{padding:"10px 12px",fontSize:"14px",resize:"vertical",minHeight:"80px",fontFamily:"inherit"}})]}),n.jsx("input",{type:"hidden",value:G.status||"active"}),n.jsx("input",{type:"hidden",value:G.last_updated||Date.now()})]}),ce==="medications"&&n.jsxs(n.Fragment,{children:[n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Name"}),n.jsx("input",{value:G.name||"",onChange:m=>ee(_=>({..._,name:m.target.value})),required:!0})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Dosage"}),n.jsx("input",{value:G.dosage||"",onChange:m=>ee(_=>({..._,dosage:m.target.value}))})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Frequency"}),n.jsx("input",{value:G.frequency||"",onChange:m=>ee(_=>({..._,frequency:m.target.value}))})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Start date"}),n.jsx("input",{type:"date",value:G.start_date||"",onChange:m=>ee(_=>({..._,start_date:m.target.value}))})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"End date"}),n.jsx("input",{type:"date",value:G.end_date||"",onChange:m=>ee(_=>({..._,end_date:m.target.value||null}))})]}),n.jsxs("label",{className:"form-field",style:{gridColumn:"1 / -1",display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Notes"}),n.jsx("input",{value:G.notes||"",onChange:m=>ee(_=>({..._,notes:m.target.value}))})]})]}),ce==="allergies"&&n.jsxs(n.Fragment,{children:[n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Allergy name"}),n.jsx("input",{value:G.allergy_name||"",onChange:m=>ee(_=>({..._,allergy_name:m.target.value})),required:!0})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Severity"}),n.jsxs("select",{value:G.severity||"mild",onChange:m=>ee(_=>({..._,severity:m.target.value})),children:[n.jsx("option",{value:"mild",children:"mild"}),n.jsx("option",{value:"moderate",children:"moderate"}),n.jsx("option",{value:"severe",children:"severe"})]})]}),n.jsxs("label",{className:"form-field",style:{gridColumn:"1 / -1",display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Notes"}),n.jsx("input",{value:G.notes||"",onChange:m=>ee(_=>({..._,notes:m.target.value}))})]})]}),ce==="surgical_history"&&n.jsxs(n.Fragment,{children:[n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Procedure name"}),n.jsx("input",{value:G.procedure_name||"",onChange:m=>ee(_=>({..._,procedure_name:m.target.value})),required:!0})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Surgery date"}),n.jsx("input",{type:"date",value:G.surgery_date||"",onChange:m=>ee(_=>({..._,surgery_date:m.target.value}))})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Surgeon"}),n.jsx("input",{value:G.surgeon||"",onChange:m=>ee(_=>({..._,surgeon:m.target.value}))})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Hospital"}),n.jsx("input",{value:G.hospital||"",onChange:m=>ee(_=>({..._,hospital:m.target.value}))})]}),n.jsxs("label",{className:"form-field",style:{gridColumn:"1 / -1",display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Notes"}),n.jsx("input",{value:G.notes||"",onChange:m=>ee(_=>({..._,notes:m.target.value}))})]})]}),ce==="vaccinations"&&n.jsxs(n.Fragment,{children:[n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Vaccine name"}),n.jsx("input",{value:G.vaccine_name||"",onChange:m=>ee(_=>({..._,vaccine_name:m.target.value})),required:!0})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Vaccination date"}),n.jsx("input",{type:"date",value:G.vaccination_date||"",onChange:m=>ee(_=>({..._,vaccination_date:m.target.value}))})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Lot number"}),n.jsx("input",{value:G.lot_number||"",onChange:m=>ee(_=>({..._,lot_number:m.target.value}))})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Next due date"}),n.jsx("input",{type:"date",value:G.next_due_date||"",onChange:m=>ee(_=>({..._,next_due_date:m.target.value}))})]})]}),ce==="sensitivities"&&n.jsxs(n.Fragment,{children:[n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Sensitivity name"}),n.jsx("input",{value:G.sensitivity_name||"",onChange:m=>ee(_=>({..._,sensitivity_name:m.target.value})),required:!0})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Type"}),n.jsxs("select",{value:G.type||"environmental",onChange:m=>ee(_=>({..._,type:m.target.value})),children:[n.jsx("option",{value:"environmental",children:"environmental"}),n.jsx("option",{value:"chemical",children:"chemical"}),n.jsx("option",{value:"food",children:"food"}),n.jsx("option",{value:"other",children:"other"})]})]}),n.jsxs("label",{className:"form-field",style:{gridColumn:"1 / -1",display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Symptoms"}),n.jsx("input",{value:G.symptoms||"",onChange:m=>ee(_=>({..._,symptoms:m.target.value}))})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Severity"}),n.jsxs("select",{value:G.severity||"mild",onChange:m=>ee(_=>({..._,severity:m.target.value})),children:[n.jsx("option",{value:"mild",children:"mild"}),n.jsx("option",{value:"moderate",children:"moderate"}),n.jsx("option",{value:"severe",children:"severe"})]})]})]}),ce==="family_history"&&n.jsxs(n.Fragment,{children:[n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Family member"}),n.jsx("input",{value:G.family_member||"",onChange:m=>ee(_=>({..._,family_member:m.target.value})),required:!0})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Condition name"}),n.jsx("input",{value:G.condition_name||"",onChange:m=>ee(_=>({..._,condition_name:m.target.value})),required:!0})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Age at diagnosis"}),n.jsx("input",{type:"number",value:G.age_at_diagnosis||"",onChange:m=>ee(_=>({..._,age_at_diagnosis:m.target.value?parseInt(m.target.value,10):""}))})]}),n.jsxs("label",{className:"form-field",style:{display:"flex",flexDirection:"row",alignItems:"center",gap:8},children:[n.jsx("input",{type:"checkbox",checked:!!G.is_genetic,onChange:m=>ee(_=>({..._,is_genetic:m.target.checked}))}),n.jsx("span",{children:"Genetic"})]}),n.jsxs("label",{className:"form-field",style:{gridColumn:"1 / -1",display:"flex",flexDirection:"column"},children:[n.jsx("span",{children:"Notes"}),n.jsx("input",{value:G.notes||"",onChange:m=>ee(_=>({..._,notes:m.target.value}))})]})]}),n.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:8,justifyContent:"flex-end",marginTop:8},children:[n.jsx("button",{type:"button",className:"btn outline",onClick:()=>Mt(!1),children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn primary",disabled:au,children:au?"Saving":"Save"})]})]})})]})}),n.jsx(Ic,{isOpen:tm,onClose:()=>{lo(!1),ao(null),no(null)},onConfirm:sm,title:"Delete Record",message:Z?`Are you sure you want to delete "${Z.condition_name||Z.name||Z.allergy_name||Z.procedure_name||Z.vaccine_name||Z.sensitivity_name||"this record"}"? This action cannot be undone.`:"Are you sure you want to delete this record? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",isLoading:lm}),O==="health_data"&&n.jsx("div",{style:{maxWidth:1200},children:n.jsxs("div",{className:"card",style:{padding:0},children:[n.jsxs("div",{style:{padding:16,borderBottom:"1px solid var(--border)"},children:[n.jsx("h2",{style:{margin:0},children:"Health Data"}),n.jsx("p",{style:{color:"var(--muted)",margin:"8px 0 0 0",fontSize:"14px"},children:"Track your health metrics, vitals, and wellness data over time."})]}),n.jsxs("div",{style:{padding:16},children:[n.jsxs("div",{className:"card",style:{marginBottom:24},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[n.jsx("h3",{style:{marginTop:0,marginBottom:0},children:"Health Data Management"}),n.jsx("button",{className:"btn primary",onClick:()=>Q(!0),style:{fontSize:"14px",padding:"8px 16px"},children:"Add New Health Data"})]}),n.jsx("p",{style:{color:"var(--muted)",margin:0,fontSize:"14px"},children:"Click the button above to add new health data entries. You can track various health metrics including heart rate, blood pressure, activity levels, and more."})]}),A&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(250, 250, 250, 0.1)",backdropFilter:"blur(5px)",WebkitBackdropFilter:"blur(5px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:m=>{m.target===m.currentTarget&&(Q(!1),Ie(null))},children:n.jsxs("div",{style:{backgroundColor:"var(--bg)",border:"1px solid var(--border)",borderRadius:"12px",maxWidth:"800px",width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px 24px 16px 24px",borderBottom:"1px solid var(--border)",backgroundColor:"var(--bg)",borderRadius:"12px 12px 0 0",position:"sticky",top:0,zIndex:10},children:[n.jsx("h2",{style:{margin:0},children:P?"Edit Health Data":"Add New Health Data"}),n.jsx("button",{className:"btn outline",onClick:()=>{Q(!1),Ie(null)},style:{padding:"8px 12px"},children:""})]}),n.jsx("div",{style:{padding:"24px",overflowY:"auto",flex:1},children:n.jsxs("form",{onSubmit:m=>{m.preventDefault(),nm()},className:"form",style:{maxWidth:"100%"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",alignItems:"start"},children:[n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[n.jsxs("label",{className:"form-field",children:[n.jsx("span",{children:"Date"}),n.jsx("input",{type:"date",value:B.date,onChange:m=>lt("date",m.target.value),required:!0})]}),n.jsxs("label",{className:"form-field",children:[n.jsx("span",{children:"Heart Rate (bpm)"}),n.jsx("input",{type:"number",value:B.heart_rate,onChange:m=>lt("heart_rate",m.target.value),placeholder:"72",min:"30",max:"200"})]}),n.jsxs("label",{className:"form-field",children:[n.jsx("span",{children:"Blood Pressure Systolic"}),n.jsx("input",{type:"number",value:B.blood_pressure_systolic,onChange:m=>lt("blood_pressure_systolic",m.target.value),placeholder:"120",min:"70",max:"250"})]}),n.jsxs("label",{className:"form-field",children:[n.jsx("span",{children:"Blood Pressure Diastolic"}),n.jsx("input",{type:"number",value:B.blood_pressure_diastolic,onChange:m=>lt("blood_pressure_diastolic",m.target.value),placeholder:"80",min:"40",max:"150"})]}),n.jsxs("label",{className:"form-field",children:[n.jsx("span",{children:"Weekly Activity (minutes)"}),n.jsx("input",{type:"number",step:"0.1",value:B.weekly_activity_minutes,onChange:m=>lt("weekly_activity_minutes",m.target.value),placeholder:"150",min:"0",max:"10080"})]}),n.jsxs("label",{className:"form-field",children:[n.jsx("span",{children:"Activity Level (1-5)"}),n.jsxs("select",{value:B.activity_level,onChange:m=>lt("activity_level",m.target.value),children:[n.jsx("option",{value:"",children:"Select Level"}),n.jsx("option",{value:"1",children:"1 - Sedentary"}),n.jsx("option",{value:"2",children:"2 - Light Activity"}),n.jsx("option",{value:"3",children:"3 - Moderate Activity"}),n.jsx("option",{value:"4",children:"4 - Active"}),n.jsx("option",{value:"5",children:"5 - Very Active"})]})]}),n.jsxs("label",{className:"form-field",children:[n.jsx("span",{children:"Body Temperature (C)"}),n.jsx("input",{type:"number",step:"0.1",value:B.body_temperature,onChange:m=>lt("body_temperature",m.target.value),placeholder:"36.6",min:"30",max:"45"})]})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[n.jsxs("label",{className:"form-field",children:[n.jsx("span",{children:"Hydration (liters)"}),n.jsx("input",{type:"number",step:"0.1",value:B.hydration_liters,onChange:m=>lt("hydration_liters",m.target.value),placeholder:"2.5",min:"0",max:"10"})]}),n.jsxs("label",{className:"form-field",children:[n.jsx("span",{children:"Pulse Oximetry (%)"}),n.jsx("input",{type:"number",value:B.pulse_oximetry,onChange:m=>lt("pulse_oximetry",m.target.value),placeholder:"98",min:"70",max:"100"})]}),n.jsxs("label",{className:"form-field",children:[n.jsx("span",{children:"Respiratory Rate (breaths/min)"}),n.jsx("input",{type:"number",value:B.respiratory_rate,onChange:m=>lt("respiratory_rate",m.target.value),placeholder:"16",min:"8",max:"40"})]}),n.jsxs("label",{className:"form-field",children:[n.jsx("span",{children:"Body Weight Trend"}),n.jsxs("select",{value:B.body_weight_trend,onChange:m=>lt("body_weight_trend",m.target.value),children:[n.jsx("option",{value:"",children:"Select Trend"}),n.jsx("option",{value:"increasing",children:"Increasing"}),n.jsx("option",{value:"stable",children:"Stable"}),n.jsx("option",{value:"decreasing",children:"Decreasing"}),n.jsx("option",{value:"fluctuating",children:"Fluctuating"})]})]}),n.jsxs("label",{className:"form-field",children:[n.jsx("span",{children:"Body Mass Index"}),n.jsx("input",{type:"number",step:"0.1",value:B.body_mass_index,onChange:m=>lt("body_mass_index",m.target.value),placeholder:"22.5",min:"10",max:"60"})]}),n.jsxs("label",{className:"form-field",children:[n.jsx("span",{children:"Fasting Glucose (mg/dL)"}),n.jsx("input",{type:"number",step:"0.1",value:B.fasting_glucose,onChange:m=>lt("fasting_glucose",m.target.value),placeholder:"85",min:"50",max:"500"})]}),n.jsxs("label",{className:"form-field",children:[n.jsx("span",{children:"Visibility Scope"}),n.jsxs("select",{value:B.visibility_scope,onChange:m=>lt("visibility_scope",m.target.value),children:[n.jsx("option",{value:"private",children:"Private"}),n.jsx("option",{value:"shared",children:"Shared"}),n.jsx("option",{value:"public",children:"Public"})]})]})]})]}),n.jsxs("div",{style:{marginTop:24,display:"flex",gap:8,justifyContent:"center"},children:[n.jsx("button",{type:"submit",className:"btn primary",disabled:d,children:d?P?"Updating...":"Saving...":P?"Update Health Data":"Save Health Data"}),n.jsx("button",{type:"button",className:"btn outline",onClick:()=>{be({date:"2024-01-15",heart_rate:"72",blood_pressure_systolic:"120",blood_pressure_diastolic:"80",weekly_activity_minutes:"150",activity_level:"3",visibility_scope:"private",hydration_liters:"2.5",pulse_oximetry:"98",respiratory_rate:"16",body_weight_trend:"stable",body_mass_index:"22.5",fasting_glucose:"85",body_temperature:"36.6"}),i('Test data loaded. Click "Save Health Data" to test API.')},children:"Load Test Data"})]})]})})]})}),n.jsxs("div",{className:"card",children:[n.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:n.jsxs("h3",{style:{margin:0},children:["Recent Health Data Records",_e.length>0&&n.jsxs("span",{style:{fontSize:"14px",fontWeight:"normal",color:"var(--muted)",marginLeft:"8px"},children:["(",_e.length," records)"]})]})}),L?n.jsx("div",{style:{textAlign:"center",padding:"20px 0"},children:n.jsx("p",{style:{color:"var(--muted)",margin:0},children:"Loading health data..."})}):_e.length>0?n.jsx("div",{style:{overflowX:"auto",overflowY:"auto",height:"calc(100vh - 520px)",minHeight:"300px",border:"1px solid var(--border)",borderRadius:"6px"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"800px"},children:[n.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"var(--card)",zIndex:10},children:n.jsxs("tr",{style:{borderBottom:"1px solid var(--border)",backgroundColor:"var(--border)"},children:[n.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"14px",fontWeight:"600"},children:"Date"}),n.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"14px",fontWeight:"600"},children:"Heart Rate"}),n.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"14px",fontWeight:"600"},children:"Blood Pressure"}),n.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"14px",fontWeight:"600"},children:"Activity"}),n.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"14px",fontWeight:"600"},children:"BMI"}),n.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"14px",fontWeight:"600"},children:"Temperature"}),n.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"14px",fontWeight:"600"},children:"Glucose"}),n.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"14px",fontWeight:"600",width:"120px"},children:"Actions"})]})}),n.jsx("tbody",{children:_e.map(m=>n.jsxs("tr",{style:{borderBottom:"1px solid var(--border)"},children:[n.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:m.date}),n.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:m.heart_rate?`${m.heart_rate} bpm`:"-"}),n.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:m.blood_pressure_systolic&&m.blood_pressure_diastolic?`${m.blood_pressure_systolic}/${m.blood_pressure_diastolic}`:"-"}),n.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:m.weekly_activity_minutes?`${m.weekly_activity_minutes} min`:"-"}),n.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:m.body_mass_index||"-"}),n.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:m.body_temperature?`${m.body_temperature}C`:"-"}),n.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:m.fasting_glucose?`${m.fasting_glucose} mg/dL`:"-"}),n.jsx("td",{style:{padding:"12px",textAlign:"center"},children:n.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"center"},children:[n.jsx("button",{className:"btn outline",onClick:()=>om(m),style:{padding:"4px 8px",fontSize:"12px",minWidth:"auto"},title:"Edit record",children:""}),n.jsx("button",{className:"btn outline",onClick:()=>{console.log(" Delete button clicked, record:",m),im(m.id)},disabled:Rt===m.id,style:{padding:"4px 8px",fontSize:"12px",minWidth:"auto",color:Rt===m.id?"var(--muted)":"#ff4444"},title:"Delete record",children:Rt===m.id?"":""})]})})]},m.id))})]})}):n.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[n.jsx("p",{style:{color:"var(--muted)",margin:"0 0 8px 0"},children:"No health data records yet. Add your first entry above."}),n.jsx("p",{style:{color:"var(--warning)",fontSize:"14px",margin:0},children:"Note: If you've added data but don't see it here, the API endpoint may not be available yet."})]})]})]})]})}),O==="medical_records"&&n.jsx("div",{style:{maxWidth:920},children:n.jsxs("div",{className:"card",style:{padding:0},children:[n.jsxs("div",{style:{padding:16,borderBottom:"1px solid var(--border)"},children:[n.jsx("h2",{style:{margin:0},children:"Medical Records"}),n.jsx("p",{style:{color:"var(--muted)",margin:"8px 0 0 0",fontSize:"14px"},children:"Upload, view, and manage your medical documents and test results."})]}),n.jsxs("div",{style:{padding:16},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:16,marginBottom:24},children:[n.jsxs("div",{className:"card",style:{padding:16},children:[n.jsx("h3",{style:{marginTop:0,marginBottom:12},children:"Lab Reports"}),n.jsx("p",{style:{color:"var(--muted)",margin:0},children:"Blood tests, urine tests, and other laboratory results."})]}),n.jsxs("div",{className:"card",style:{padding:16},children:[n.jsx("h3",{style:{marginTop:0,marginBottom:12},children:"Imaging"}),n.jsx("p",{style:{color:"var(--muted)",margin:0},children:"X-rays, MRIs, CT scans, ultrasounds, and other imaging studies."})]}),n.jsxs("div",{className:"card",style:{padding:16},children:[n.jsx("h3",{style:{marginTop:0,marginBottom:12},children:"Prescriptions"}),n.jsx("p",{style:{color:"var(--muted)",margin:0},children:"Current and past medication prescriptions and refills."})]}),n.jsxs("div",{className:"card",style:{padding:16},children:[n.jsx("h3",{style:{marginTop:0,marginBottom:12},children:"Visit Notes"}),n.jsx("p",{style:{color:"var(--muted)",margin:0},children:"Doctor visit summaries, treatment plans, and progress notes."})]})]}),n.jsx("div",{style:{textAlign:"center",padding:"20px 0"},children:n.jsx("p",{style:{color:"var(--muted)",margin:0},children:"Medical records management features coming soon..."})})]})]})}),O==="test_card"&&n.jsx("div",{style:{maxWidth:920},children:n.jsxs("div",{className:"card",style:{padding:0},children:[n.jsxs("div",{style:{padding:16,borderBottom:"1px solid var(--border)"},children:[n.jsx("h2",{style:{margin:0},children:"Test Health History Cards"}),n.jsx("p",{style:{color:"var(--muted)",margin:"8px 0 0 0",fontSize:"14px"},children:"Testing the HealthHistoryCard component with sample data and add functionality."})]}),n.jsxs("div",{style:{padding:16},children:[n.jsx(Il,{title:"Medical Conditions",lastUpdated:"2024-01-15",hasAddButton:!0,buttonLabel:"Add Condition",data:Jl.medical_conditions,onAdd:Pl,renderItem:m=>n.jsxs("div",{style:{padding:"12px",border:"1px solid var(--border)",borderRadius:"6px",backgroundColor:"var(--bg-subtle)"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:m.condition_name}),n.jsxs("div",{style:{fontSize:"14px",color:"var(--muted)"},children:[m.diagnosis_date&&`Diagnosed: ${m.diagnosis_date}`,m.severity&&`  Severity: ${m.severity}`]}),m.notes&&n.jsx("div",{style:{fontSize:"14px",marginTop:"4px"},children:m.notes})]},m.id)}),n.jsx(Il,{title:"Medications",lastUpdated:"2024-01-10",hasAddButton:!0,buttonLabel:"Add Medication",data:Jl.medications,onAdd:Pl,renderItem:m=>n.jsxs("div",{style:{padding:"12px",border:"1px solid var(--border)",borderRadius:"6px",backgroundColor:"var(--bg-subtle)"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:m.name}),n.jsxs("div",{style:{fontSize:"14px",color:"var(--muted)"},children:[m.dosage&&`Dosage: ${m.dosage}`,m.frequency&&`  ${m.frequency}`,m.start_date&&`  Started: ${m.start_date}`]}),m.notes&&n.jsx("div",{style:{fontSize:"14px",marginTop:"4px"},children:m.notes})]},m.id)}),n.jsx(Il,{title:"Allergies",lastUpdated:"2024-01-05",hasAddButton:!0,buttonLabel:"Add Allergy",data:Jl.allergies,onAdd:Pl,renderItem:m=>n.jsxs("div",{style:{padding:"12px",border:"1px solid var(--border)",borderRadius:"6px",backgroundColor:"var(--bg-subtle)"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:m.allergy_name}),n.jsx("div",{style:{fontSize:"14px",color:"var(--muted)"},children:m.severity&&`Severity: ${m.severity}`}),m.notes&&n.jsx("div",{style:{fontSize:"14px",marginTop:"4px"},children:m.notes})]},m.id)}),n.jsx(Il,{title:"Surgical History",lastUpdated:"2023-12-20",hasAddButton:!0,buttonLabel:"Add Surgery",data:Jl.surgical_history,onAdd:Pl,renderItem:m=>n.jsxs("div",{style:{padding:"12px",border:"1px solid var(--border)",borderRadius:"6px",backgroundColor:"var(--bg-subtle)"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:m.procedure_name}),n.jsxs("div",{style:{fontSize:"14px",color:"var(--muted)"},children:[m.surgery_date&&`Date: ${m.surgery_date}`,m.hospital&&`  Hospital: ${m.hospital}`,m.surgeon&&`  Surgeon: ${m.surgeon}`]}),m.notes&&n.jsx("div",{style:{fontSize:"14px",marginTop:"4px"},children:m.notes})]},m.id)}),n.jsx(Il,{title:"Vaccinations",lastUpdated:"2024-01-01",hasAddButton:!0,buttonLabel:"Add Vaccination",data:Jl.vaccinations,onAdd:Pl,renderItem:m=>n.jsxs("div",{style:{padding:"12px",border:"1px solid var(--border)",borderRadius:"6px",backgroundColor:"var(--bg-subtle)"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:m.vaccine_name}),n.jsxs("div",{style:{fontSize:"14px",color:"var(--muted)"},children:[m.vaccination_date&&`Date: ${m.vaccination_date}`,m.administrator&&`  Administered by: ${m.administrator}`]}),m.notes&&n.jsx("div",{style:{fontSize:"14px",marginTop:"4px"},children:m.notes})]},m.id)}),n.jsx(Il,{title:"Sensitivities",lastUpdated:"2023-11-15",hasAddButton:!0,buttonLabel:"Add Sensitivity",data:Jl.sensitivities,onAdd:Pl,renderItem:m=>n.jsxs("div",{style:{padding:"12px",border:"1px solid var(--border)",borderRadius:"6px",backgroundColor:"var(--bg-subtle)"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:m.sensitivity_name}),n.jsxs("div",{style:{fontSize:"14px",color:"var(--muted)"},children:[m.type&&`Type: ${m.type}`,m.severity&&`  Severity: ${m.severity}`]}),m.notes&&n.jsx("div",{style:{fontSize:"14px",marginTop:"4px"},children:m.notes})]},m.id)}),n.jsx(Il,{title:"Family History",lastUpdated:"2023-10-30",hasAddButton:!0,buttonLabel:"Add Family History",data:Jl.family_history,onAdd:Pl,renderItem:m=>n.jsxs("div",{style:{padding:"12px",border:"1px solid var(--border)",borderRadius:"6px",backgroundColor:"var(--bg-subtle)"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:m.condition_name}),n.jsxs("div",{style:{fontSize:"14px",color:"var(--muted)"},children:[m.family_member&&`Family member: ${m.family_member}`,m.age_at_diagnosis&&`  Age at diagnosis: ${m.age_at_diagnosis}`,m.is_genetic&&"  Genetic condition"]}),m.notes&&n.jsx("div",{style:{fontSize:"14px",marginTop:"4px"},children:m.notes})]},m.id)})]})]})})]})}function t0({title:e,description:t,options:l,values:a,lastUpdated:i,onToggle:s,onSave:o,onAddNew:r,saving:c,sectionKey:u,onEdit:p,onDelete:d}){const[h,v]=S.useState(!1);return n.jsxs("div",{style:{borderTop:"1px solid var(--border)",backgroundColor:h?"var(--bg-subtle)":"transparent",transition:"background-color 0.2s ease"},children:[n.jsxs("button",{onClick:()=>v(b=>!b),className:"btn ghost",style:{width:"100%",height:"100%",textAlign:"left",padding:"16px",justifyContent:"space-between",alignItems:"flex-start"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:n.jsx("span",{style:{fontWeight:600,fontSize:"16px",color:"var(--text)"},children:e})}),t&&n.jsx("p",{style:{color:"var(--muted)",fontSize:"13px",margin:"0 0 0 0",lineHeight:"1.4"},children:t}),!i&&n.jsx("p",{style:{color:"var(--muted)",fontSize:"11px",margin:"4px 0 0 0",fontStyle:"italic"},children:"Not yet saved"})]}),n.jsx("span",{style:{color:"var(--muted)",fontSize:"18px",marginLeft:"16px",flexShrink:0,transition:"transform 0.2s ease"},children:h?"":""})]}),h&&n.jsxs("div",{style:{padding:"16px 0 16px 0",marginLeft:"20px",transition:"background-color 0.2s ease"},children:[n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginBottom:16,minHeight:"40px",alignItems:"center"},children:a.length===0?n.jsxs("p",{style:{color:"var(--muted)",fontSize:"14px",fontStyle:"italic",margin:0},children:["No ",e.toLowerCase()," added yet"]}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12,width:"100%"},children:a.map((b,x)=>{const w=typeof b=="object"&&b!==null,f=w?b.id||b.medical_conditions_id||b.condition_name||b.name||b.allergy_name||b.procedure_name||b.vaccine_name||b.sensitivity_name||`obj-${x}`:b,g=`${u}-${x}-${f}`,y=w?b.condition_name||b.name||b.allergy_name||b.procedure_name||b.vaccine_name||b.sensitivity_name||"Unknown":b,j=[],M=(b==null?void 0:b.diagnosis_date)||(b==null?void 0:b.entry_date)||(b==null?void 0:b.date)||(b==null?void 0:b.start_date),O=b==null?void 0:b.end_date,C=b==null?void 0:b.severity,N=b==null?void 0:b.dosage,k=b==null?void 0:b.frequency,H=(b==null?void 0:b.notes)||(b==null?void 0:b.treatment_plan);return M&&j.push(`Date: ${M}`),O&&j.push(`End: ${O}`),N&&j.push(`Dosage: ${N}`),k&&j.push(`Freq: ${k}`),C&&j.push(`Severity: ${C}`),H&&j.push(H),n.jsxs("div",{style:{backgroundColor:"rgba(17, 17, 17, 0.6)",border:"1px solid var(--border)",borderLeft:"2px solid var(--primary)",borderRadius:"8px",padding:"12px 14px",display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:12,cursor:"pointer"},onClick:$=>{$.target.tagName!=="BUTTON"&&(p==null||p(b))},role:"button",title:"Edit record",children:[n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("span",{style:{fontWeight:600,color:"var(--text)"},children:y}),C&&n.jsx("span",{style:{fontSize:12,color:"var(--muted)",border:"1px solid var(--border)",borderRadius:6,padding:"2px 6px"},children:C})]}),j.length>0&&n.jsx("div",{style:{fontSize:13,color:"var(--muted)"},children:j.join("  ")})]}),n.jsx("button",{type:"button",onClick:$=>{$.preventDefault(),$.stopPropagation(),d==null||d(b)},style:{background:"none",border:"none",color:"var(--muted)",cursor:"pointer",padding:"4px 8px",fontSize:"16px",opacity:.7,transition:"opacity 0.2s"},onMouseEnter:$=>$.target.style.opacity="1",onMouseLeave:$=>$.target.style.opacity="0.7",title:"Remove",children:""})]},g)})})}),n.jsx("div",{style:{display:"flex",gap:8,alignItems:"center"},children:n.jsx("button",{className:"btn outline",onClick:r,style:{minWidth:"140px"},title:`Add new item to ${e.toLowerCase()}`,children:"+ Add New"})})]})]})}function l0(){return n.jsxs("div",{className:"card",children:[n.jsx("h3",{style:{marginTop:0},children:"Settings"}),n.jsxs("label",{className:"checkbox",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0})," ",n.jsx("span",{children:"Enable notifications"})]}),n.jsx("div",{style:{height:12}}),n.jsx("button",{className:"btn primary",style:{width:220},children:"Save changes"})]})}const Kr={async list({start_date:e,end_date:t,type:l}={}){const a=new Date,i=u=>u.toISOString().split("T")[0],s=i(a),o=i(new Date(a.getFullYear(),a.getMonth(),a.getDate()-30)),r=new URLSearchParams;r.set("start_date",e||o),r.set("end_date",t||s),l&&r.set("type",l);const c=`${le.reports.list}?${r.toString()}`;return await q(c,{method:"GET"})},async generate(e){var i,s,o,r;const t={report_title:e.report_title,auto_generate:e.auto_generate,layout:e.layout,date_range:e.date_range,output_format:e.output_format,sections:{insights:!!(((i=e.sections)==null?void 0:i.insights)??e.insights),vitals:!!(((s=e.sections)==null?void 0:s.vitals)??e.vitals),labs:!!(((o=e.sections)==null?void 0:o.labs)??e.labs),goals:!!(((r=e.sections)==null?void 0:r.goals)??e.goals)}},l=e.filename||`${(t.report_title||"Report").replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.${t.output_format||"pdf"}`,a={report_title:t.report_title,filename:l,auto_generate:t.auto_generate,layout:t.layout,date_range:t.date_range,insights:t.sections.insights,vitals:t.sections.vitals,labs:t.sections.labs,goals:t.sections.goals,output_format:t.output_format,json_data:JSON.stringify(t)};try{console.log(" ReportsApi.generate payload:",a)}catch{}return await q(le.reports.generate,{method:"POST",body:a})},async download(e){const t=`${le.reports.download}?file_id=${encodeURIComponent(e)}`,l=await fetch(t,{credentials:"include"});if(!l.ok)throw new Error(`Download failed (${l.status})`);const a=await l.blob(),i=document.createElement("a"),s=URL.createObjectURL(a);return i.href=s,i.download="report",document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(s),{success:!0}},async share(e){return await ft(le.reports.share,{method:"POST",body:e})},async sharedByToken(){return await q(le.reports.sharedByToken,{method:"GET"})}};function a0(){const[e,t]=Y.useState("download"),l=[{id:"download",label:"Download Reports"},{id:"share",label:"Share with Provider"},{id:"export",label:"Export Settings"}];return n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[n.jsx("div",{className:"dash-toolbar",children:n.jsx("h1",{style:{margin:0},children:"Reports"})}),n.jsx("div",{style:{display:"flex",gap:8,borderBottom:"1px solid var(--border)",paddingBottom:8,marginBottom:16},children:l.map(a=>n.jsx("button",{onClick:()=>t(a.id),style:{padding:"8px 16px",border:"none",background:"transparent",color:e===a.id?"var(--primary)":"var(--muted)",cursor:"pointer",fontSize:14,fontWeight:e===a.id?600:400,borderBottom:e===a.id?"2px solid var(--primary)":"2px solid transparent",transition:"all 0.2s"},children:a.label},a.id))}),e==="download"&&n.jsx(n0,{}),e==="share"&&n.jsx(i0,{}),e==="export"&&n.jsx(s0,{})]})}function n0(){const[e,t]=Y.useState([]),[l,a]=Y.useState("all"),i=new Date().toISOString().split("T")[0],s=new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],[o,r]=Y.useState(s),[c,u]=Y.useState(i),p=Y.useCallback(async()=>{try{const d=await Kr.list({start_date:o,end_date:c,type:l});t(d.all_reports_list||[])}catch{t([])}},[o,c,l]);return Y.useEffect(()=>{p()},[p]),n.jsxs("div",{className:"card",children:[n.jsx("h3",{style:{marginTop:0},children:"Download Reports"}),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:8,marginBottom:12},children:[n.jsxs("select",{value:l,onChange:d=>a(d.target.value),style:{padding:"6px 10px",background:"rgba(17,17,17,.85)",border:"1px solid var(--border)",borderRadius:8,color:"var(--text)",fontSize:13},children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"summary",children:"Full Health Summary"}),n.jsx("option",{value:"vitals",children:"Vitals"})]}),n.jsx("input",{value:o,onChange:d=>r(d.target.value),type:"date",style:{padding:"6px 10px",background:"rgba(17,17,17,.85)",border:"1px solid var(--border)",borderRadius:8,color:"var(--text)",fontSize:13}}),n.jsx("input",{value:c,onChange:d=>u(d.target.value),type:"date",style:{padding:"6px 10px",background:"rgba(17,17,17,.85)",border:"1px solid var(--border)",borderRadius:8,color:"var(--text)",fontSize:13}}),n.jsx("button",{className:"btn outline",onClick:p,children:"Filter"})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:e.map(d=>n.jsxs("div",{className:"card",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:12},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsx("div",{style:{width:28,height:28,borderRadius:6,background:"rgba(0,186,206,0.15)",border:"1px solid var(--border)"}}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:600},children:d.title||d.name||"Report"}),n.jsx("div",{style:{fontSize:12,color:"var(--hint)"},children:d.date||d.created_at})]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsx("span",{style:{fontSize:12,color:"var(--muted)"},children:d.size?`${d.size} KB`:""}),n.jsx("button",{className:"btn outline small",onClick:()=>Kr.download(d.id||d.file_id),children:"Download"})]})]},d.id))})]})}function i0(){return n.jsxs("div",{className:"card",style:{maxWidth:520},children:[n.jsx("h3",{style:{marginTop:0},children:"Share with Provider"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:12,color:"var(--muted)",marginBottom:6},children:"Report to Share"}),n.jsxs("select",{style:{width:"100%",padding:"8px 12px",background:"rgba(17,17,17,.85)",border:"1px solid var(--border)",borderRadius:8,color:"var(--text)",fontSize:13},children:[n.jsx("option",{children:"Full Health Summary"}),n.jsx("option",{children:"Vitals Summary"})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px",gap:8,alignItems:"center"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:12,color:"var(--muted)",marginBottom:6},children:"Expires"}),n.jsx("input",{type:"datetime-local",style:{width:"100%",padding:"8px 12px",background:"rgba(17,17,17,.85)",border:"1px solid var(--border)",borderRadius:8,color:"var(--text)",fontSize:13}})]}),n.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center",fontSize:13,color:"var(--muted)"},children:[n.jsx("input",{type:"checkbox",defaultChecked:!0}),"Visible"]})]}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{className:"btn",style:{width:120},children:"Copy Link"}),n.jsx("button",{className:"btn outline",style:{flex:1},children:"Send via Email"})]})]})]})}function s0(){const[e,t]=Y.useState("detailed"),[l,a]=Y.useState("all"),[i,s]=Y.useState({insights:!1,vitals:!0,labs:!0,goals:!0}),[o,r]=Y.useState(!1),c=async()=>{try{await Kr.generate({report_title:"Full Health Summary",auto_generate:o,layout:e,date_range:l,insights:!!i.insights,vitals:!!i.vitals,labs:!!i.labs,goals:!!i.goals,sections:{insights:!!i.insights,vitals:!!i.vitals,labs:!!i.labs,goals:!!i.goals},output_format:"pdf"})}catch{}};return n.jsxs("div",{className:"card",style:{maxWidth:380},children:[n.jsx("h3",{style:{marginTop:0},children:"Export Settings"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:12,color:"var(--muted)",marginBottom:6},children:"Layout"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{className:`btn small ${e==="simple"?"primary":"outline"}`,onClick:()=>t("simple"),children:"Simple"}),n.jsx("button",{className:`btn small ${e==="detailed"?"primary":"outline"}`,onClick:()=>t("detailed"),children:"Detailed"})]})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:12,color:"var(--muted)",marginBottom:6},children:"Date Range"}),n.jsxs("select",{value:l,onChange:u=>a(u.target.value),style:{width:"100%",padding:"8px 12px",background:"rgba(17,17,17,.85)",border:"1px solid var(--border)",borderRadius:8,color:"var(--text)",fontSize:13},children:[n.jsx("option",{value:"all",children:"All time"}),n.jsx("option",{value:"last_30",children:"Last 30 days"})]})]})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:12,color:"var(--muted)",marginBottom:6},children:"Sections to Include"}),n.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:6},children:[n.jsx("input",{type:"checkbox",checked:i.vitals,onChange:u=>s(p=>({...p,vitals:u.target.checked}))}),"Vitals"]}),n.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:6},children:[n.jsx("input",{type:"checkbox",checked:i.labs,onChange:u=>s(p=>({...p,labs:u.target.checked}))}),"Labs"]}),n.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:6},children:[n.jsx("input",{type:"checkbox",checked:i.goals,onChange:u=>s(p=>({...p,goals:u.target.checked}))}),"Goals"]}),n.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:6},children:[n.jsx("input",{type:"checkbox",checked:i.insights,onChange:u=>s(p=>({...p,insights:u.target.checked}))}),"Insights"]})]}),n.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:[n.jsx("input",{type:"checkbox",checked:o,onChange:u=>r(u.target.checked)})," Auto-generate after new analysis"]}),n.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"space-between"},children:[n.jsx("button",{className:"btn outline",onClick:c,children:"Generate"}),n.jsx("button",{className:"btn ghost",children:"Advanced options"})]})]})]})}function o0(){const[e]=mx(),t=At(),[l,a]=S.useState(""),[i,s]=S.useState(""),[o,r]=S.useState(!1),[c,u]=S.useState(!0),[p,d]=S.useState(""),[h,v]=S.useState(""),b=e.get("token");S.useEffect(()=>{if(!b){u(!1);const w=setTimeout(()=>t("/dashboard"),3e3);return()=>clearTimeout(w)}},[b,t]);async function x(w){if(w.preventDefault(),d(""),v(""),l!==i){d("Passwords do not match");return}if(l.length<8){d("Password must be at least 8 characters");return}r(!0);try{await wt.resetPassword({token:b,new_password:l}),v("Password reset successfully! Redirecting"),setTimeout(()=>t("/login"),1200)}catch(f){d(f.message||"Failed to reset password")}finally{r(!1)}}return c?n.jsxs("div",{style:{maxWidth:"400px",margin:"50px auto",padding:"20px"},children:[n.jsx("h2",{children:"Reset Your Password"}),p?n.jsx("div",{className:"alert",style:{marginBottom:"12px"},children:p}):null,h?n.jsx("div",{className:"alert",style:{marginBottom:"12px",color:"green"},children:h}):null,n.jsxs("form",{onSubmit:x,children:[n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{children:"New Password:"}),n.jsx("input",{type:"password",value:l,onChange:w=>a(w.target.value),required:!0,style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),n.jsxs("div",{style:{marginBottom:"15px"},children:[n.jsx("label",{children:"Confirm Password:"}),n.jsx("input",{type:"password",value:i,onChange:w=>s(w.target.value),required:!0,style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),n.jsx("button",{type:"submit",disabled:o,style:{width:"100%",padding:"10px",backgroundColor:o?"#ccc":"#007bff",color:"white",border:"none",borderRadius:"4px"},children:o?"Resetting...":"Reset Password"})]})]}):n.jsxs("div",{style:{maxWidth:"400px",margin:"50px auto",padding:"20px",textAlign:"center"},children:[n.jsx("h2",{children:"Invalid Token"}),n.jsx("p",{children:"The password reset link is invalid or has expired."}),n.jsxs("p",{children:["You can request a new link on the ",n.jsx(Jg,{to:"/login",children:"Login"})," page."]}),n.jsx("p",{children:"Redirecting to dashboard..."})]})}const at={async savePersonalInfo(e){try{const t={user_id:e.userId||e.user_id,step:"personal",data_json:{first_name:e.firstName,last_name:e.lastName,email:e.email||"",phone_number:e.phoneNumber||"",dob:e.dateOfBirth,gender:e.genderIdentity,sex_of_birth:e.sexAtBirth||"",height:e.height?parseInt(e.height):null,weight:e.weight?parseInt(e.weight):null,zip_code:e.zipCode||null}};console.log(" Saving personal info:",t);const l=await q(le.onboarding.personal,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:t});return(l==null?void 0:l.result)??l}catch(t){throw console.error("Error saving personal info:",t),t}},async saveHealthSnapshot(e){try{const t={user_id:e.userId||e.user_id,step:"health_snapshot",data_json:{health_snapshot:{health_conditions:e.healthConditions||"",medications:e.medications||"",allergies:e.allergies||""}}};console.log(" Saving health snapshot:",t);const l=await q(le.onboarding.healthSnapshot,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:t});return(l==null?void 0:l.result)??l}catch(t){throw console.error("Error saving health snapshot:",t),t}},async saveLifestyle(e){try{const t={user_id:e.userId||e.user_id,step:"lifestyle",data_json:{lifestyle:{habits:e.lifestyleHabits||[],preferences:{}}}};console.log(" Saving lifestyle:",t);const l=await q(le.onboarding.lifestyle,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:t});return(l==null?void 0:l.result)??l}catch(t){throw console.error("Error saving lifestyle:",t),t}},async saveHealthGoals(e){try{const t={title:"Health Goals",description:e.goalNotes||`Goals: ${e.healthGoals.join(", ")||"No specific goals"}`,status:"on track",target_date:e.targetDate||new Date(Date.now()+7776e6).toISOString().split("T")[0],visibility_scope:e.goalVisibility||"private"},l={user_id:e.userId||e.user_id,step:"health_goals",data_json:t};console.log(" Saving health goals:",l),console.log(" Goals structure:",{title:t.title,description:t.description,status:t.status,target_date:t.target_date,visibility_scope:t.visibility_scope});const a=await q(le.onboarding.healthGoals,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:l});return(a==null?void 0:a.result)??a}catch(t){throw console.error("Error saving health goals:",t),t}},async savePrivacySettings(e){try{const t={user_id:e.userId||e.user_id,step:"privacy",data_json:{privacy:{data_visibility:e.dataVisibility,email_nudges:e.emailNudges,wearable_sync:e.wearableSync,preferences:{}}}};console.log(" Saving privacy settings:",t);const l=await q(le.onboarding.privacy,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:t});return(l==null?void 0:l.result)??l}catch(t){throw console.error("Error saving privacy settings:",t),t}},async completeOnboarding(e){try{const t={user_id:e.userId||e.user_id,data_json:{onboarding:{completed:!0,completed_at:new Date().toISOString(),steps_completed:e.stepsCompleted||[],preferences:{}}}};console.log(" Completing onboarding:",t);const l=await q(le.onboarding.complete,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:t});return(l==null?void 0:l.result)??l}catch(t){throw console.error("Error completing onboarding:",t),t}},async saveStep(e,t){try{const l=le.onboarding.step(e);console.log(` Saving step ${e}:`,t);const a=await q(l,{method:"POST",body:t});return(a==null?void 0:a.result)??a}catch(l){throw console.error(`Error saving step ${e}:`,l),l}},async getProgress(e){try{const t={user_id:e,data_json:{}};console.log(" Getting onboarding progress via welcome API with payload:",t);const l=await q(le.onboarding.step("welcome"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:t});return(l==null?void 0:l.result)??l}catch(t){throw console.error("Error getting onboarding progress via welcome API:",t),t}}},r0=Object.freeze(Object.defineProperty({__proto__:null,OnboardingApi:at},Symbol.toStringTag,{value:"Module"}));const c0=()=>{const e=At(),{user:t,completeOnboarding:l}=Oe(),{showSuccess:a,showError:i}=zt(),[s,o]=S.useState(0),[r,c]=S.useState(!1),[u,p]=S.useState(new Set),[d,h]=S.useState(null),[v,b]=S.useState(!0),[x,w]=S.useState({user_id:(t==null?void 0:t.id)||"",firstName:(t==null?void 0:t.first_name)||(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.last_name)||(t==null?void 0:t.lastName)||"",email:(t==null?void 0:t.email)||"",phoneNumber:"",dateOfBirth:"",sexAtBirth:"",genderIdentity:"",height:"",weight:"",zipCode:"",healthConditions:"",medications:"",allergies:"",lifestyleHabits:[],healthGoals:[],otherGoal:"",targetDate:"",goalNotes:"",goalVisibility:"private",dataVisibility:"private",emailNudges:!0,wearableSync:!1}),f=[{id:"welcome",title:"Welcome",description:"Get started with Anatomous"},{id:"personal",title:"Personal Info",description:"Basic information"},{id:"health_snapshot",title:"Health Snapshot",description:"Current health status"},{id:"lifestyle",title:"Lifestyle & Habits",description:"Daily habits"},{id:"health_goals",title:"Health Goals",description:"What you want to achieve"},{id:"privacy",title:"Privacy Settings",description:"Data preferences"},{id:"review",title:"Review & Finish",description:"Complete setup"}],g=["Sedentary lifestyle","Regular exercise","High stress","Irregular sleep","Smokes or vapes","Drinks alcohol","Special diet (e.g., keto, plant-based)","Works night shifts","Manages a chronic condition","Prefers natural or alternative medicine"],y=["Lose weight","Gain muscle","Improve sleep","Reduce stress","Manage a condition","Improve energy","Optimize performance","Prevent disease","General wellness"],j=async()=>{if(!(t!=null&&t.id)){console.log(" No user ID available for profile loading");return}try{b(!0),console.log(" Loading user profile for onboarding, user ID:",t.id),console.log(" User object:",t);let T=null;try{console.log(" Calling ProfilesApi.getById with user_id:",t.id),T=await zl.getById(t.id),console.log(" Profile found by ID:",T),T&&console.log(" Profile contains:",{first_name:T.first_name,last_name:T.last_name,user_id:T.user_id,id:T.id})}catch(A){console.log(" Profile not found by ID, trying to get all profiles:",A.message);const Q=await zl.getAll(),P=(Q==null?void 0:Q.result)||Q;console.log(" All profiles response:",P),Array.isArray(P)?(T=P.find(Ie=>Ie.user_id===t.id||Ie.id===t.id),console.log(" Found profile in list:",T)):P&&(P.user_id===t.id||P.id===t.id)&&(T=P,console.log(" Single profile found:",T))}h(T),console.log(" Final profile data loaded:",T),T?(console.log(" Profile loaded, updating form data..."),M(T)):console.log(" No profile found for user_id:",t.id)}catch(T){console.warn(" Failed to load profile:",T.message),h(null)}finally{b(!1)}},M=T=>{console.log(" Updating form with profile data:",T),console.log(" Profile data fields:",{first_name:T.first_name,last_name:T.last_name,dob:T.dob,gender:T.gender,height_cm:T.height_cm,weight_kg:T.weight_kg,zip_code:T.zip_code}),w(A=>{console.log(" Previous form data:",{firstName:A.firstName,lastName:A.lastName});const Q={...A,user_id:(t==null?void 0:t.id)||A.user_id,firstName:T.first_name||A.firstName,lastName:T.last_name||A.lastName,email:T.email||A.email,phoneNumber:T.phone_number||A.phoneNumber,dateOfBirth:T.dob||A.dateOfBirth,sexAtBirth:T.gender||A.sexAtBirth,height:T.height_cm?T.height_cm.toString():A.height,weight:T.weight_kg?T.weight_kg.toString():A.weight,zipCode:T.zip_code||A.zipCode};return console.log(" Updated form data:",{user_id:Q.user_id,firstName:Q.firstName,lastName:Q.lastName,email:Q.email,phoneNumber:Q.phoneNumber,dateOfBirth:Q.dateOfBirth,sexAtBirth:Q.sexAtBirth,height:Q.height,weight:Q.weight,zipCode:Q.zipCode}),console.log(" Form update complete! firstName:",Q.firstName,"lastName:",Q.lastName),Q})},O=async T=>{var A,Q,P,Ie,Rt,Kl,ze,Gt,va;try{console.log(" Loading onboarding progress from welcome API...");const Ft=await at.getProgress(T.user_id);console.log(" Onboarding API response:",Ft);const K=Ft==null?void 0:Ft.save_onboarding;if(console.log(" Extracted progress data:",K),console.log(" Progress completed status:",K==null?void 0:K.completed),console.log(" Progress percentage:",(A=K==null?void 0:K.progress)==null?void 0:A.percentage),console.log(" Current user onboarding_completed:",t==null?void 0:t.onboarding_completed),((Q=K==null?void 0:K.progress)==null?void 0:Q.percentage)===100){console.log(" Onboarding is 100% complete, redirecting to dashboard..."),console.log(" Progress percentage:",(P=K==null?void 0:K.progress)==null?void 0:P.percentage),console.log(" Progress completed:",K==null?void 0:K.completed),await l(),localStorage.removeItem("onboarding-progress"),localStorage.removeItem("onboarding-step"),localStorage.removeItem("onboarding-completed"),console.log(" Navigating to dashboard..."),e("/dashboard");return}if(!K||!K.progress||!K.progress.completed_steps){console.warn(" Unexpected progress structure:",K),console.log(" Available progress keys:",Object.keys(K||{})),K!=null&&K.progress&&console.log(" Available progress.progress keys:",Object.keys(K.progress));return}const Mt=new Set;K.progress.completed_steps.forEach(G=>{const ee=f.findIndex(W=>W.id===G);ee!==-1&&Mt.add(ee)}),Mt.add(0),console.log(" Automatically marking welcome step as completed"),p(Mt);let ce=-1;if(K.current_step){const G=f.findIndex(ee=>ee.id===K.current_step);G!==-1?(ce=G,console.log(` API indicates next step: ${K.current_step} (index: ${G})`)):console.warn(` Unknown step ID from API: ${K.current_step}`)}if(ce===-1)for(let G=1;G<f.length;G++){const ee=f[G].id;if(!K.progress.completed_steps.includes(ee)){ce=G;break}}if(console.log(" Debug step logic:",{apiCurrentStep:K.current_step,completedSteps:K.progress.completed_steps,completedStepsSet:[...Mt],nextUncompletedStepIndex:ce,stepsLength:f.length}),ce===-1)if(K.completed===!0){console.log(" Onboarding completed, updating auth context and redirecting to dashboard..."),await l(),localStorage.removeItem("onboarding-progress"),localStorage.removeItem("onboarding-step"),localStorage.removeItem("onboarding-completed"),e("/dashboard");return}else console.log(` All steps completed but onboarding not finished, staying on last step: ${f[f.length-1].id} (index: ${f.length-1})`),o(f.length-1);else console.log(` Setting current step to next uncompleted step: ${f[ce].id} (index: ${ce})`),o(ce);const I={...T};if(console.log(" Starting to populate form data from API response..."),(Ie=K.steps.personal)!=null&&Ie.completed&&K.steps.personal.data){console.log(" Populating personal step data:",K.steps.personal.data);const G=K.steps.personal.data;I.firstName=G.first_name||I.firstName,I.lastName=G.last_name||I.lastName,I.email=G.email||I.email,I.phoneNumber=G.phone_number||I.phoneNumber,I.dateOfBirth=G.dob||I.dateOfBirth,I.genderIdentity=G.gender||I.genderIdentity,I.sexAtBirth=G.sex_of_birth||I.sexAtBirth,I.height=G.height?G.height.toString():I.height,I.weight=G.weight?G.weight.toString():I.weight,I.zipCode=G.zip_code||I.zipCode,console.log(" Personal data populated from API")}if((Rt=K.steps.health_snapshot)!=null&&Rt.completed&&K.steps.health_snapshot.data){const G=K.steps.health_snapshot.data;G.health_snapshot&&(I.healthConditions=G.health_snapshot.health_conditions||I.healthConditions,I.medications=G.health_snapshot.medications||I.medications,I.allergies=G.health_snapshot.allergies||I.allergies)}if((Kl=K.steps.lifestyle)!=null&&Kl.completed&&K.steps.lifestyle.data){const G=K.steps.lifestyle.data;(ze=G.lifestyle)!=null&&ze.habits&&(I.lifestyleHabits=G.lifestyle.habits||I.lifestyleHabits)}if((Gt=K.steps.health_goals)!=null&&Gt.completed&&K.steps.health_goals.data){const G=K.steps.health_goals.data;I.targetDate=G.target_date||I.targetDate,I.goalNotes=G.description||I.goalNotes,I.goalVisibility=G.visibility_scope||I.goalVisibility}if((va=K.steps.privacy)!=null&&va.completed&&K.steps.privacy.data){const G=K.steps.privacy.data;G.privacy&&(I.dataVisibility=G.privacy.data_visibility||I.dataVisibility,I.emailNudges=G.privacy.email_nudges!==void 0?G.privacy.email_nudges:I.emailNudges,I.wearableSync=G.privacy.wearable_sync!==void 0?G.privacy.wearable_sync:I.wearableSync)}console.log(" Populated form data from API:",I),w(I)}catch(Ft){console.error(" Error loading onboarding progress:",Ft)}};S.useEffect(()=>{t!=null&&t.id&&j()},[t==null?void 0:t.id]),S.useEffect(()=>{if(t!=null&&t.id&&!v){console.log(" Loading user data for onboarding:",t),console.log(" Profile data from database:",d);const T={user_id:(t==null?void 0:t.id)||"",firstName:(d==null?void 0:d.first_name)||(t==null?void 0:t.first_name)||(t==null?void 0:t.firstName)||"",lastName:(d==null?void 0:d.last_name)||(t==null?void 0:t.last_name)||(t==null?void 0:t.lastName)||"",email:(d==null?void 0:d.email)||(t==null?void 0:t.email)||"",phoneNumber:(d==null?void 0:d.phone_number)||(t==null?void 0:t.phone_number)||(t==null?void 0:t.phone)||"",dateOfBirth:(d==null?void 0:d.dob)||"",sexAtBirth:(d==null?void 0:d.sex_of_birth)||(t==null?void 0:t.sex_of_birth)||"",genderIdentity:(d==null?void 0:d.gender)||(t==null?void 0:t.gender)||"",height:d!=null&&d.height_cm?d.height_cm.toString():"",weight:d!=null&&d.weight_kg?d.weight_kg.toString():"",zipCode:(d==null?void 0:d.zip_code)||"",healthConditions:"",medications:"",allergies:"",lifestyleHabits:[],healthGoals:[],otherGoal:"",dataVisibility:"private",emailNudges:!0,wearableSync:!1};console.log(" Initial form data with profile info:",T),w(T),O(T)}},[t,d,v]),S.useEffect(()=>{},[s]),S.useEffect(()=>{},[s]);const C=()=>{console.log(" Saving progress to localStorage, currentStep:",s),localStorage.setItem("onboarding-progress",JSON.stringify(x)),localStorage.setItem("onboarding-step",s.toString()),localStorage.setItem("onboarding-completed",JSON.stringify([...u]))},N=(T,A)=>{console.log(` Updating form field ${T} to:`,A),w(Q=>({...Q,[T]:A}))},k=(T,A)=>{w(Q=>({...Q,[T]:Q[T].includes(A)?Q[T].filter(P=>P!==A):[...Q[T],A]}))},H=async T=>{switch(f[T].id){case"personal":await at.savePersonalInfo(x);break;case"health_snapshot":await at.saveHealthSnapshot(x);break;case"lifestyle":await at.saveLifestyle(x);break;case"health_goals":await at.saveHealthGoals(x);break;case"privacy":await at.savePrivacySettings(x);break}},$=async()=>{if(console.log(" nextStep called, currentStep:",s),s<f.length-1)try{console.log(" Saving step data for step:",s),await H(s),console.log(" Step data saved, moving to next step"),p(T=>new Set([...T,s])),o(T=>{const A=T+1;return console.log(" Moving from step",T,"to step",A),A}),C()}catch(T){console.error("Error saving step data:",T),i("Failed to save step. Please try again.")}},B=()=>{s>0&&o(T=>T-1)},be=T=>{(T<=s||u.has(T))&&o(T)},_e=()=>{console.log(" Finishing onboarding later..."),console.log(" Saving current progress..."),C(),a("Your progress has been saved. You can continue onboarding anytime from your dashboard."),console.log(" Navigating to dashboard..."),e("/dashboard")},De=async()=>{try{c(!0),console.log(" Starting onboarding completion process..."),console.log(" Checking current onboarding progress...");const T=await at.getProgress(x.user_id),A=T==null?void 0:T.save_onboarding;console.log(" Saving all edited steps before completion..."),(x.firstName||x.lastName||x.email||x.phoneNumber||x.dateOfBirth)&&(console.log(" Saving personal information..."),await at.savePersonalInfo(x)),(x.healthConditions||x.medications||x.allergies)&&(console.log(" Saving health snapshot..."),await at.saveHealthSnapshot(x)),x.lifestyleHabits&&x.lifestyleHabits.length>0&&(console.log(" Saving lifestyle habits..."),await at.saveLifestyle(x)),x.healthGoals&&x.healthGoals.length>0&&(console.log(" Saving health goals..."),await at.saveHealthGoals(x)),console.log(" Saving privacy settings..."),await at.savePrivacySettings(x),console.log(" Completing onboarding...");const Q=await at.completeOnboarding({stepsCompleted:[...u,s]});console.log(" Onboarding completion result:",Q),console.log(" Updating auth context..."),await l(),console.log(" Clearing localStorage..."),localStorage.removeItem("onboarding-progress"),localStorage.removeItem("onboarding-step"),localStorage.removeItem("onboarding-completed"),a("Welcome to Anatomous! Your profile has been set up successfully."),console.log(" Navigating to dashboard..."),setTimeout(()=>{e("/dashboard")},1e3)}catch(T){console.error(" Error completing onboarding:",T),i("Failed to complete setup. Please try again.")}finally{c(!1)}},L=()=>{var T;switch(console.log(` Rendering step content for currentStep: ${s} (${(T=f[s])==null?void 0:T.id})`),s){case 0:return n.jsxs("div",{className:"onboarding-step-content",children:[n.jsx("h2",{children:"Welcome to Anatomous"}),n.jsx("p",{className:"step-description",children:"Let's set up your personalized health profile in just a few steps. This will help us provide you with tailored insights and recommendations."}),n.jsxs("div",{className:"welcome-info",children:[n.jsxs("div",{className:"info-item",children:[n.jsx("span",{className:"info-icon",children:""}),n.jsx("span",{children:"3-5 minutes to complete"})]}),n.jsxs("div",{className:"info-item",children:[n.jsx("span",{className:"info-icon",children:""}),n.jsx("span",{children:"Your data is secure and private"})]}),n.jsxs("div",{className:"info-item",children:[n.jsx("span",{className:"info-icon",children:""}),n.jsx("span",{children:"Get personalized health insights"})]})]}),n.jsx("button",{className:"btn primary large",onClick:$,children:"Let's Get Started"})]});case 1:return n.jsxs("div",{className:"onboarding-step-content",children:[n.jsx("h2",{children:"Personal Information"}),n.jsx("p",{className:"step-description",children:"Tell us about yourself to personalize your experience."}),v&&n.jsx("div",{style:{padding:"16px",backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"8px",marginBottom:"16px",textAlign:"center",color:"var(--muted)"},children:n.jsx("span",{children:"Loading your profile data..."})}),n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"First Name *"}),console.log(" Rendering First Name field with value:",x.firstName),n.jsx("input",{type:"text",value:x.firstName,onChange:A=>N("firstName",A.target.value),placeholder:"Enter your first name",required:!0})]}),n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Last Name *"}),console.log(" Rendering Last Name field with value:",x.lastName),n.jsx("input",{type:"text",value:x.lastName,onChange:A=>N("lastName",A.target.value),placeholder:"Enter your last name",required:!0})]}),n.jsxs("div",{className:"form-field",hidden:!0,children:[n.jsx("label",{children:"Email Address *"}),n.jsx("input",{type:"email",value:x.email,onChange:A=>N("email",A.target.value),placeholder:"Enter your email address",required:!0})]}),n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Phone Number"}),n.jsx("input",{type:"tel",value:x.phoneNumber,onChange:A=>N("phoneNumber",A.target.value),placeholder:"Enter your phone number"})]}),n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Date of Birth *"}),n.jsx("input",{type:"date",value:x.dateOfBirth,onChange:A=>N("dateOfBirth",A.target.value),required:!0})]}),n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Sex at Birth *"}),n.jsxs("select",{value:x.sexAtBirth,onChange:A=>N("sexAtBirth",A.target.value),required:!0,children:[n.jsx("option",{value:"",children:"Select"}),n.jsx("option",{value:"male",children:"Male"}),n.jsx("option",{value:"female",children:"Female"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Gender Identity"}),n.jsxs("select",{value:x.genderIdentity,onChange:A=>N("genderIdentity",A.target.value),children:[n.jsx("option",{value:"",children:"Select (optional)"}),n.jsx("option",{value:"male",children:"Male"}),n.jsx("option",{value:"female",children:"Female"}),n.jsx("option",{value:"non-binary",children:"Non-binary"}),n.jsx("option",{value:"transgender",children:"Transgender"}),n.jsx("option",{value:"other",children:"Other"}),n.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Height (cm)"}),n.jsx("input",{type:"number",value:x.height,onChange:A=>N("height",A.target.value),placeholder:"e.g., 175"})]}),n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Weight (kg)"}),n.jsx("input",{type:"number",value:x.weight,onChange:A=>N("weight",A.target.value),placeholder:"e.g., 70"})]}),n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"ZIP Code"}),n.jsx("input",{type:"text",value:x.zipCode,onChange:A=>N("zipCode",A.target.value),placeholder:"e.g., 94105"})]})]}),n.jsxs("div",{className:"step-navigation",children:[n.jsx("button",{className:"btn outline",onClick:B,children:"Back"}),n.jsx("button",{className:"btn primary",onClick:$,disabled:r||!x.firstName||!x.lastName||!x.dateOfBirth||!x.sexAtBirth,children:r?"Saving...":"Continue"})]})]});case 2:return n.jsxs("div",{className:"onboarding-step-content",children:[n.jsx("h2",{children:"Health Snapshot"}),n.jsx("p",{className:"step-description",children:"Help us understand your current health status."}),n.jsxs("div",{className:"form-fields",children:[n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Known Health Conditions"}),n.jsx("textarea",{value:x.healthConditions,onChange:A=>N("healthConditions",A.target.value),placeholder:"List any health conditions you have (e.g., diabetes, hypertension, asthma)",rows:4})]}),n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Current Medications (Optional)"}),n.jsx("textarea",{value:x.medications,onChange:A=>N("medications",A.target.value),placeholder:"List any medications you're currently taking",rows:3})]}),n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Known Allergies (Optional)"}),n.jsx("textarea",{value:x.allergies,onChange:A=>N("allergies",A.target.value),placeholder:"List any allergies you have",rows:3})]})]}),n.jsxs("div",{className:"step-navigation",children:[n.jsx("button",{className:"btn outline",onClick:B,children:"Back"}),n.jsx("button",{className:"btn primary",onClick:$,disabled:r,children:r?"Saving...":"Continue"})]})]});case 3:return n.jsxs("div",{className:"onboarding-step-content",children:[n.jsx("h2",{children:"Lifestyle & Habits"}),n.jsx("p",{className:"step-description",children:"Select all that apply to your lifestyle."}),n.jsx("div",{className:"checkbox-grid",children:g.map(A=>n.jsxs("label",{className:"checkbox",children:[n.jsx("input",{type:"checkbox",checked:x.lifestyleHabits.includes(A),onChange:()=>k("lifestyleHabits",A)}),n.jsx("span",{children:A})]},A))}),n.jsxs("div",{className:"step-navigation",children:[n.jsx("button",{className:"btn outline",onClick:B,children:"Back"}),n.jsx("button",{className:"btn primary",onClick:$,disabled:r,children:r?"Saving...":"Continue"})]})]});case 4:return n.jsxs("div",{className:"onboarding-step-content",children:[n.jsx("h2",{children:"Health Goals"}),n.jsx("p",{className:"step-description",children:"What would you like to achieve with Anatomous?"}),n.jsx("div",{className:"checkbox-grid",children:y.map(A=>n.jsxs("label",{className:"checkbox",children:[n.jsx("input",{type:"checkbox",checked:x.healthGoals.includes(A),onChange:()=>k("healthGoals",A)}),n.jsx("span",{children:A})]},A))}),n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Other Goals (Optional)"}),n.jsx("textarea",{value:x.otherGoal,onChange:A=>N("otherGoal",A.target.value),placeholder:"Describe any other health goals you have",rows:3})]}),n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Target Date (Optional)"}),n.jsx("input",{type:"date",value:x.targetDate,onChange:A=>N("targetDate",A.target.value),placeholder:"When would you like to achieve these goals?"})]}),n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Goal Notes (Optional)"}),n.jsx("textarea",{value:x.goalNotes,onChange:A=>N("goalNotes",A.target.value),placeholder:"Add any additional notes about your goals",rows:3})]}),n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Goal Visibility"}),n.jsxs("div",{className:"radio-group",children:[n.jsxs("label",{className:"radio",children:[n.jsx("input",{type:"radio",name:"goalVisibility",value:"private",checked:x.goalVisibility==="private",onChange:A=>N("goalVisibility",A.target.value)}),n.jsx("span",{children:"Private - Only I can see my goals"})]}),n.jsxs("label",{className:"radio",children:[n.jsx("input",{type:"radio",name:"goalVisibility",value:"public",checked:x.goalVisibility==="public",onChange:A=>N("goalVisibility",A.target.value)}),n.jsx("span",{children:"Public - Others can see my goals"})]})]})]}),n.jsxs("div",{className:"step-navigation",children:[n.jsx("button",{className:"btn outline",onClick:B,children:"Back"}),n.jsx("button",{className:"btn primary",onClick:$,disabled:r,children:r?"Saving...":"Continue"})]})]});case 5:return n.jsxs("div",{className:"onboarding-step-content",children:[n.jsx("h2",{children:"Privacy Settings"}),n.jsx("p",{className:"step-description",children:"Control how your data is used and shared."}),n.jsxs("div",{className:"form-fields",children:[n.jsxs("div",{className:"form-field",children:[n.jsx("label",{children:"Who can see my data?"}),n.jsxs("select",{value:x.dataVisibility,onChange:A=>N("dataVisibility",A.target.value),children:[n.jsx("option",{value:"private",children:"Private - Only I can see my data"}),n.jsx("option",{value:"shareable",children:"Shareable - I can share with healthcare providers"}),n.jsx("option",{value:"export-only",children:"Export-only - I can export my data"})]})]}),n.jsxs("div",{className:"checkbox",children:[n.jsx("input",{type:"checkbox",checked:x.emailNudges,onChange:A=>N("emailNudges",A.target.checked)}),n.jsx("span",{children:"Receive email nudges and insights"})]}),n.jsxs("div",{className:"checkbox",children:[n.jsx("input",{type:"checkbox",checked:x.wearableSync,onChange:A=>N("wearableSync",A.target.checked)}),n.jsx("span",{children:"Enable wearable sync (coming soon)"})]})]}),n.jsxs("div",{className:"step-navigation",children:[n.jsx("button",{className:"btn outline",onClick:B,children:"Back"}),n.jsx("button",{className:"btn primary",onClick:$,disabled:r,children:r?"Saving...":"Continue"})]})]});case 6:return n.jsxs("div",{className:"onboarding-step-content",children:[n.jsx("h2",{children:"Review & Finish"}),n.jsx("p",{className:"step-description",children:"Review your information and complete your setup."}),n.jsxs("div",{className:"review-sections",children:[n.jsxs("div",{className:"review-section",children:[n.jsx("h3",{children:"Personal Information"}),n.jsxs("div",{className:"review-content",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",x.firstName," ",x.lastName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",x.email]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",x.phoneNumber]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Date of Birth:"})," ",x.dateOfBirth]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Sex at Birth:"})," ",x.sexAtBirth]}),x.genderIdentity&&n.jsxs("p",{children:[n.jsx("strong",{children:"Gender Identity:"})," ",x.genderIdentity]}),x.height&&n.jsxs("p",{children:[n.jsx("strong",{children:"Height:"})," ",x.height," cm"]}),x.weight&&n.jsxs("p",{children:[n.jsx("strong",{children:"Weight:"})," ",x.weight," kg"]}),x.zipCode&&n.jsxs("p",{children:[n.jsx("strong",{children:"ZIP Code:"})," ",x.zipCode]})]}),n.jsx("button",{className:"btn ghost small",onClick:()=>be(1),children:"Edit"})]}),n.jsxs("div",{className:"review-section",children:[n.jsx("h3",{children:"Health Information"}),n.jsxs("div",{className:"review-content",children:[x.healthConditions&&n.jsxs("p",{children:[n.jsx("strong",{children:"Health Conditions:"})," ",x.healthConditions]}),x.medications&&n.jsxs("p",{children:[n.jsx("strong",{children:"Medications:"})," ",x.medications]}),x.allergies&&n.jsxs("p",{children:[n.jsx("strong",{children:"Allergies:"})," ",x.allergies]})]}),n.jsx("button",{className:"btn ghost small",onClick:()=>be(2),children:"Edit"})]}),n.jsxs("div",{className:"review-section",children:[n.jsx("h3",{children:"Health Goals"}),n.jsxs("div",{className:"review-content",children:[x.healthGoals.length>0&&n.jsxs("p",{children:[n.jsx("strong",{children:"Selected Goals:"})," ",x.healthGoals.join(", ")]}),x.otherGoal&&n.jsxs("p",{children:[n.jsx("strong",{children:"Other Goals:"})," ",x.otherGoal]}),x.targetDate&&n.jsxs("p",{children:[n.jsx("strong",{children:"Target Date:"})," ",x.targetDate]}),x.goalNotes&&n.jsxs("p",{children:[n.jsx("strong",{children:"Goal Notes:"})," ",x.goalNotes]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Goal Visibility:"})," ",x.goalVisibility==="private"?"Private":"Public"]})]}),n.jsx("button",{className:"btn ghost small",onClick:()=>be(4),children:"Edit"})]}),n.jsxs("div",{className:"review-section",children:[n.jsx("h3",{children:"Lifestyle & Habits"}),n.jsx("div",{className:"review-content",children:x.lifestyleHabits.length>0&&n.jsxs("p",{children:[n.jsx("strong",{children:"Lifestyle Habits:"})," ",x.lifestyleHabits.join(", ")]})}),n.jsx("button",{className:"btn ghost small",onClick:()=>be(3),children:"Edit"})]}),n.jsxs("div",{className:"review-section",children:[n.jsx("h3",{children:"Privacy Settings"}),n.jsxs("div",{className:"review-content",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Data Visibility:"})," ",x.dataVisibility]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email Nudges:"})," ",x.emailNudges?"Yes":"No"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Wearable Sync:"})," ",x.wearableSync?"Yes":"No"]})]}),n.jsx("button",{className:"btn ghost small",onClick:()=>be(5),children:"Edit"})]})]}),n.jsxs("div",{className:"step-navigation",children:[n.jsx("button",{className:"btn outline",onClick:B,children:"Back"}),n.jsx("button",{className:"btn success large",onClick:De,disabled:r,children:r?"Completing Setup...":"Complete Setup & Go to Dashboard"})]})]});default:return null}};return n.jsxs("div",{className:"onboarding-layout",children:[n.jsxs("header",{className:"onboarding-header",children:[n.jsx("div",{className:"header-left",children:n.jsx(Ms,{height:32})}),n.jsxs("div",{className:"header-center",children:[n.jsxs("div",{className:"progress-indicator",children:["Step ",s+1," of ",f.length]}),n.jsx("div",{className:"progress-bar",children:n.jsx("div",{className:"progress-fill",style:{width:`${(s+1)/f.length*100}%`}})})]}),n.jsxs("div",{className:"header-right",children:[n.jsx("button",{className:"btn ghost small",onClick:_e,children:"Finish Later"}),n.jsx("button",{className:"btn ghost small",onClick:()=>window.open("https://crisp.chat","_blank"),children:"Help"}),n.jsx("button",{className:"btn ghost small",onClick:()=>e("/logout"),children:"Log Out"})]})]}),n.jsxs("div",{className:"onboarding-content",children:[n.jsx("aside",{className:"onboarding-sidebar",children:n.jsx("nav",{className:"steps-navigation",children:f.map((T,A)=>n.jsxs("button",{className:`step-item ${A===s?"active":""} ${u.has(A)?"completed":""}`,onClick:()=>be(A),disabled:A>s&&!u.has(A),children:[n.jsx("div",{className:"step-number",children:u.has(A)?"":A+1}),n.jsxs("div",{className:"step-info",children:[n.jsx("div",{className:"step-title",children:T.title}),n.jsx("div",{className:"step-description",children:T.description})]})]},T.id))})}),n.jsx("main",{className:"onboarding-main",children:L()})]}),n.jsx("footer",{className:"onboarding-footer",children:n.jsxs("div",{className:"footer-content",children:[n.jsxs("div",{className:"footer-left",children:[n.jsx("span",{children:" 2025 Anatomous"}),n.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),n.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})]}),n.jsx("div",{className:"footer-right",children:n.jsx("a",{href:"https://crisp.chat",target:"_blank",rel:"noopener noreferrer",children:"Need Help?"})})]})})]})},u0=()=>{const e=At(),{logout:t}=Oe();return S.useEffect(()=>{(async()=>{try{console.log(" Logging out user..."),await t(),console.log(" Logout successful, redirecting to login..."),e("/login",{replace:!0})}catch(a){console.error(" Error during logout:",a),e("/login",{replace:!0})}})()},[t,e]),n.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"1rem"},children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Logging out..."})]})};function Ko({children:e}){const{authToken:t,loading:l,user:a}=Oe();return l?n.jsx("p",{children:"Loading"}):t?e:(console.log("No authToken - redirecting to login"),n.jsx(nn,{to:"/login",replace:!0}))}function d0(){const{user:e,loading:t,hasCompletedOnboarding:l,isNewUser:a}=Oe(),i=l();return console.log(" AutoRedirectRoute - Debug info:",{loading:t,isNewUser:a,user:e?{id:e.id,email:e.email,completed:e.completed,onboarding_completed:e.onboarding_completed}:null,hasCompletedOnboardingResult:i,willRedirectToOnboarding:!i}),S.useEffect(()=>{console.log(" AutoRedirectRoute - useEffect triggered:",{loading:t,isNewUser:a,onboardingCompleted:i,willRedirect:!i,currentHash:window.location.hash}),!t&&!i&&window.location.hash!=="#/onboarding"&&(console.log(" AutoRedirectRoute - Force redirecting to onboarding..."),window.location.href="#/onboarding")},[t,i,a]),t?(console.log(" AutoRedirectRoute - Still loading..."),n.jsx("p",{children:"Loading"})):i?(console.log(" AutoRedirectRoute - Redirecting to /dashboard (onboarding check enabled)"),n.jsx(nn,{to:"/dashboard",replace:!0})):(console.log(" AutoRedirectRoute - Onboarding not completed, redirecting to /onboarding"),console.log(" AutoRedirectRoute - Rendering Navigate component to /onboarding"),setTimeout(()=>{window.location.hash!=="#/onboarding"&&(console.log(" AutoRedirectRoute - Navigate failed, using window.location fallback"),window.location.href="#/onboarding")},100),n.jsx(nn,{to:"/onboarding",replace:!0}))}function f0(){return n.jsx(ux,{children:n.jsxs(tx,{children:[n.jsx(Ue,{path:"/login",element:n.jsx(Cx,{})}),n.jsx(Ue,{path:"/signup",element:n.jsx(Ig,{open:!0})}),n.jsx(Ue,{path:"/reset-password",element:n.jsx(o0,{})}),n.jsx(Ue,{path:"/logout",element:n.jsx(u0,{})}),n.jsx(Ue,{path:"/auth/callback/google",element:n.jsx(Ld,{})}),n.jsx(Ue,{path:"/auth/success",element:n.jsx(Ld,{})}),n.jsx(Ue,{path:"/onboarding",element:n.jsx(Ko,{children:n.jsx(h0,{children:n.jsx(c0,{})})})}),n.jsx(Ue,{path:"/",element:n.jsx(Ko,{children:n.jsx(d0,{})})}),n.jsxs(Ue,{path:"/dashboard/*",element:n.jsx(Ko,{children:n.jsx(g0,{children:n.jsx(Ex,{})})}),children:[n.jsx(Ue,{index:!0,element:n.jsx(Ax,{})}),n.jsx(Ue,{path:"insights",element:n.jsx(kx,{})}),n.jsx(Ue,{path:"goals",element:n.jsx(Jx,{})}),n.jsx(Ue,{path:"workouts",element:n.jsx(qx,{})}),n.jsx(Ue,{path:"nutrition",element:n.jsx(Px,{})}),n.jsx(Ue,{path:"reports",element:n.jsx(a0,{})}),n.jsx(Ue,{path:"profile",element:n.jsx(e0,{})}),n.jsx(Ue,{path:"settings",element:n.jsx(l0,{})})]}),n.jsx(Ue,{path:"*",element:n.jsx(nn,{to:"/",replace:!0})})]})})}function h0({children:e}){const{user:t,loading:l,hasCompletedOnboarding:a,isNewUser:i}=Oe(),s=a();return console.log(" OnboardingGuard - Debug info:",{loading:l,isNewUser:i,user:t?{id:t.id,email:t.email,onboarding_completed:t.onboarding_completed}:null,hasCompletedOnboardingResult:s}),l?(console.log(" OnboardingGuard - Still loading..."),n.jsx("p",{children:"Loading"})):s?(console.log(" OnboardingGuard - Onboarding already completed, redirecting to /dashboard"),n.jsx(nn,{to:"/dashboard",replace:!0})):(console.log(" OnboardingGuard - Onboarding not completed, allowing access to onboarding"),e)}function g0({children:e}){const{user:t,loading:l,hasCompletedOnboarding:a,isNewUser:i}=Oe(),s=a();return console.log(" DashboardGuard - Debug info:",{loading:l,isNewUser:i,user:t?{id:t.id,email:t.email,onboarding_completed:t.onboarding_completed}:null,hasCompletedOnboardingResult:s}),l?(console.log(" DashboardGuard - Still loading..."),n.jsx("p",{children:"Loading"})):s?(console.log(" DashboardGuard - Allowing access to dashboard (onboarding check enabled)"),e):(console.log(" DashboardGuard - Onboarding not completed, redirecting to /onboarding"),n.jsx(nn,{to:"/onboarding",replace:!0}))}cv.createRoot(document.getElementById("root")).render(n.jsx(Sx,{children:n.jsx(wx,{children:n.jsx(f0,{})})}));
